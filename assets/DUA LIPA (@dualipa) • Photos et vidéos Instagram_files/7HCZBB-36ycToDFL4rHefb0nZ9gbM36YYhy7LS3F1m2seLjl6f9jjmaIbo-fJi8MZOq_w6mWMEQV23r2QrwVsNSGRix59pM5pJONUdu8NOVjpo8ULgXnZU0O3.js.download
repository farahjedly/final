;/*FB_PKG_DELIM*/

__d("LSIssueSendAttachmentMessageTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSIssueNewTaskAndGetTaskID","LSPredefineTraceForTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.i64.of_int32(a[5].length),c.i64.gt(d[0],c.i64.cast([0,0]))?c.loopAsync(d[0],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[5],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],a[3]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[3]&&c.i64.eq(b.attachmentIndex,d[3])&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(a){var b=a.update;a.item;return b({attachmentFbid:c.i64.to_string(d[4])})})}])}):c.resolve()},function(e){return c.i64.eq(f,c.i64.cast([0,12]))?d[1]=c.i64.cast([0,10]):(a[9]?d[3]=c.i64.cast([0,9]):d[3]=c.i64.cast([0,3]),d[1]=d[3]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(e){return a[12]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[12],d[2],c.i64.to_string(c.i64.cast([0,46])),a[3])},function(d){return c.sp(b("LSAppendDataTraceAddon"),a[12],c.i64.cast([0,20]),c.i64.cast([0,1]),f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[2],threadKey:a[1],offlineThreadingId:a[3],threadAttributionSource:a[6],platformRef:a[10],platformToken:a[11],replySourceId:a[7],replySourceType:a[8],sendType:d[1],markThreadRead:!1})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSGetMessageAttributionParams",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.ftr(b.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[e,e,e],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.threadAttributionSource,b.platformRef,b.platformToken],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSInsertPhase2PendingTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=e:(b=a.item,c[0]=b.threadKey)})},function(d){return b.i64.neq(c[0],e)?b.seq([function(d){return c[3]=b.i64.of_float(Date.now()),b.db.table(2).add({taskId:void 0,taskValue:a[0],queueName:[b.i64.to_string(c[0]),"_multi_media"].join(""),context:"4",enqueueTimestampMs:c[3],pluginType:a[1]})},function(a){return c[2]=e}]):b.resolve(c[2]=b.i64.cast([0,1002]))},function(a){return d[0]=c[2]}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSMarkSubJobCompletedV2",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return d[0]=c.createArray(),c.db.table(51).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[3]=new c.Map(),d[3].set("offline_attachment_id",b.offlineAttachmentId),d[3].set("offline_threading_id",b.offlineThreadingId),d[3].set("in_message_index",b.inMessageIndex),d[3].set("attachment_type",b.attachmentType),d[3].set("should_transcode",b.shouldTranscode),d[3].set("use_double_phase",b.useDoublePhase),d[3].set("send_by_server",b.sendByServer),d[3].set("is_secure",b.isSecure),d[3].set("state",b.state),d[3].set("fbid",b.fbid),d[3].set("metadata",b.metadata),d[3].set("error",b.error),d[3].set("message_id",b.messageId),d[4]=(d[0].push(d[3]),d[0]))})},function(e){return d[2]=c.i64.of_int32(d[0].length),c.i64.neq(d[2],c.i64.cast([0,0]))?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[0],c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(b){return d[5]=d[3].get("state"),d[3],c.i64.neq(a[1],f)?a[2]!==f?(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],messageId:a[2],metadata:a[3]})})):(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],metadata:a[3]})})):c.i64.neq(a[4],f)?(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],error:a[4]})})):(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({state:d[6]})}))}]):c.resolve()}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRemoveMediaSendJobs",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSSendPhase1MultiPhotoMessageV2",["LSArrayGetObjectAt","LSGetMessageAttributionParams","LSIssueSendAttachmentMessageTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=c.createArray(),d[1]=new c.Map(),d[2]=new c.Map(),d[3]=!1,d[4]=c.i64.cast([0,0]),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[7]=a.fbid,d[4]=c.i64.add(d[4],c.i64.cast([0,1])),c.i64.neq(d[7],f)?d[8]=(d[0].push(d[7]),d[0]):0})},function(e){return d[5]=c.i64.of_int32(d[0].length),c.i64.neq(d[5],d[4])||c.i64.eq(d[4],c.i64.cast([0,0]))?c.resolve(d[6]=c.i64.cast([0,10002])):c.seq([function(b){return c.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[7]=c[0],d[8]=c[1],d[9]=c[2],d[10]=c[3],d[11]=c[4],c):(b=a.item,c=[b.threadKey,b.senderId,b.text,b.replySourceId,b.replySourceTypeV2],d[7]=c[0],d[8]=c[1],d[9]=c[2],d[10]=c[3],d[11]=c[4],c)})},function(e){return c.i64.eq(d[7],f)||c.i64.eq(d[8],f)?c.resolve((c.i64.eq(d[7],f)?d[14]=c.i64.cast([0,10003]):d[14]=c.i64.cast([0,10004]),d[13]=d[14])):c.seq([function(a){return c.db.table(9).fetch([[[d[7]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=f:(b=a.item,d[14]=b.threadType)})},function(b){return c.ftr(c.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f,f],d[16]=c[0],d[17]=c[1],d[18]=c[2],d[19]=c[3],d[20]=c[4],d[21]=c[5],c):(b=a.item,c=[b.platformRef,b.platformToken,b.initiatingSource,f,f,f],d[16]=c[0],d[17]=c[1],d[18]=c[2],d[19]=c[3],d[20]=c[4],d[21]=c[5],c)})},function(e){return c.i64.neq(d[14],f)?c.seq([function(e){return d[24]=d[1].keys(),d[25]=c.i64.of_int32(d[24].length),c.i64.gt(d[25],c.i64.cast([0,0]))?c.loopAsync(d[25],function(e){return d[31]=e,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[24],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(e){return d[34]=d[2].get(d[32]),d[2],d[35]=c.i64.to_string(d[34]),d[35]!==f?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[24],d[31]).then(function(a){return a=a,d[36]=a[0],d[37]=a[1],a})},function(b){return d[38]=d[1].get(d[32]),d[1],c.fe(c.ftr(c.db.table(16).fetch([[[d[7],a[0],d[36]]]]),function(b){return c.i64.eq(b.threadKey,d[7])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[0]&&b.attachmentFbid===d[36]}),function(a){var b=a.update;a.item;return b({attachmentFbid:d[35],originalFileHash:d[38]})})}]):c.resolve()}])}):c.resolve()},function(e){return c.sp(b("LSGetMessageAttributionParams"),a[0]).then(function(a){return a=a,d[26]=a[0],d[27]=a[1],d[28]=a[2],a})},function(e){return c.i64.neq(d[26],f)?d[29]=d[26]:d[29]=c.i64.cast([0,0]),c.sp(b("LSIssueSendAttachmentMessageTask"),d[8],d[7],d[14],a[0],d[9],d[0],d[29],d[10],d[11],d[3],d[16],d[17],a[1])},function(a){return c.i64.ge(c.i64.cast([0,0]),c.i64.cast([0,0]))?d[30]=f:d[30]=c.i64.cast([0,10006]),d[23]=d[30]}]):c.resolve(d[23]=c.i64.cast([0,10005]))},function(a){return d[13]=d[23]}])},function(a){return d[6]=d[13]}])},function(a){return e[0]=d[6]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSResumeMediaSendJob",["LSInsertPhase2PendingTask","LSSendPhase1MultiPhotoMessageV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=new c.Map(),d[1]=new c.Map(),d[1].set("main_job_succeeded",!1),d[1].set("resume_failed",!1),d[1].set("error",f),d[1].set("running_sub_job_states",d[0]),d[2]=new c.Map(),d[2].set("should_transcode",!1),d[2].set("use_double_phase",!1),d[2].set("send_by_server",!1),d[2].set("is_secure",!1),d[2].set("should_dedupe",!1),c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?0:(b=a.item,d[2].set("should_transcode",b.shouldTranscode),d[2].set("use_double_phase",b.useDoublePhase),d[2].set("send_by_server",b.sendByServer),d[2].set("is_secure",b.isSecure))})},function(b){return d[4]=new c.Map(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[13]=a.offlineAttachmentId,d[11]=a.state,d[12]=a.error,c.i64.eq(d[11],c.i64.cast([-1,4294967293]))?d[10]=!0:(c.i64.eq(d[11],c.i64.cast([0,1]))?d[14]=!0:(c.i64.eq(d[11],c.i64.cast([0,3]))?d[15]=!0:(c.i64.eq(d[11],c.i64.cast([0,5]))?d[16]=!0:(c.i64.eq(d[11],c.i64.cast([0,13]))?d[17]=!0:(c.i64.eq(d[11],c.i64.cast([0,7]))?d[18]=!0:(c.i64.eq(d[11],c.i64.cast([0,9]))?d[19]=!0:(c.i64.eq(d[11],c.i64.cast([0,11]))?d[20]=!0:d[20]=!1,d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),d[10]=d[14]),d[10]?c.resolve(c.i64.eq(d[11],c.i64.cast([0,5]))||c.i64.eq(d[11],c.i64.cast([0,11]))?0:d[4].set(d[13],d[11])):c.i64.neq(d[12],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[12]))):(c.i64.eq(d[11],c.i64.cast([-1,4294967295]))?d[14]=c.i64.cast([0,5]):(c.i64.eq(d[11],c.i64.cast([-1,4294967294]))?(d[16]=d[2].get("should_transcode"),d[2],d[15]=d[16]?c.i64.cast([0,1]):c.i64.cast([0,3])):(c.i64.eq(d[11],c.i64.cast([0,2]))?d[16]=c.i64.cast([0,3]):(c.i64.eq(d[11],c.i64.cast([0,4]))?(d[18]=d[2].get("send_by_server"),d[2],d[19]=d[2].get("use_double_phase"),d[2],d[17]=d[18]?d[19]?c.i64.cast([0,13]):f:c.i64.cast([0,5])):(c.i64.eq(d[11],c.i64.cast([0,6]))?(d[19]=d[2].get("use_double_phase"),d[2],d[18]=d[19]?c.i64.cast([0,13]):f):(c.i64.eq(d[11],c.i64.cast([0,14]))?(d[20]=d[2].get("use_double_phase"),d[2],d[21]=d[2].get("should_transcode"),d[2],d[19]=d[20]?d[21]?c.i64.cast([0,7]):c.i64.cast([0,9]):f):(c.i64.eq(d[11],c.i64.cast([0,8]))?d[20]=c.i64.cast([0,9]):(c.i64.eq(d[11],c.i64.cast([0,10]))?(d[22]=d[2].get("send_by_server"),d[2],d[21]=d[22]?f:c.i64.cast([0,11])):(c.i64.eq(d[11],c.i64.cast([0,12]))?d[22]=f:d[22]=f,d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),c.i64.neq(d[14],f)?c.seq([function(a){return c.fe(c.db.table(51).fetch([[[d[13]]]]),function(a){var b=a.update;a.item;return b({state:d[14]})})},function(a){return c.i64.eq(d[14],c.i64.cast([0,5]))||c.i64.eq(d[14],c.i64.cast([0,11]))?0:d[4].set(d[13],d[14])}]):c.resolve())})},function(b){return c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[5]=f:(b=a.item,d[5]=b.state)})},function(e){return c.i64.neq(d[5],f)?(d[10]=d[2].get("send_by_server"),d[2],d[11]=d[2].get("use_double_phase"),d[2],d[12]=d[2].get("use_double_phase"),d[2],(d[10]?d[11]?c.i64.eq(d[5],c.i64.cast([0,10])):c.i64.eq(d[5],c.i64.cast([0,4])):d[12]?c.i64.eq(d[5],c.i64.cast([0,12])):c.i64.eq(d[5],c.i64.cast([0,6])))?c.resolve(d[1].set("main_job_succeeded",!0)):c.i64.eq(d[5],c.i64.cast([0,5]))?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[15]=a.error,c.i64.eq(d[15],f)?(c.i64.neq(a.fbid,f)?d[16]=f:d[16]=c.i64.cast([0,9]),d[14]=d[16]):d[14]=d[15],c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(e){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(e){return d[14]=d[2].get("is_secure"),d[2],d[14]?c.seq([function(b){return d[16]=c.createArray(),d[17]=new c.Map(),d[18]=new c.Map(),d[19]=!1,d[20]=c.i64.cast([0,0]),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[25]=a.fbid,d[20]=c.i64.add(d[20],c.i64.cast([0,1])),c.i64.neq(d[25],f)?d[26]=(d[16].push(d[25]),d[16]):0})},function(b){return d[21]=c.createArray(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[25]=a.metadata,d[25]!==f?d[26]=(d[21].push(d[25]),d[21]):0})},function(a){return d[22]=c.i64.of_int32(d[16].length),d[23]=c.i64.of_int32(d[21].length),c.i64.neq(d[22],d[20])||c.i64.neq(d[23],d[20])?d[24]=c.i64.cast([0,11]):(function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Started"),function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Completed"),d[24]=f),d[15]=d[24]}]):c.seq([function(e){return c.sp(b("LSSendPhase1MultiPhotoMessageV2"),a[0],a[2]).then(function(a){return a=a,d[16]=a[0],a})},function(b){return c.i64.eq(d[16],f)?c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:c.i64.cast([0,6])})}):c.resolve()},function(a){return d[15]=d[16]}])},function(b){return c.i64.eq(d[15],f)?(d[16]=d[2].get("send_by_server"),d[2],d[17]=d[2].get("use_double_phase"),d[2],d[18]=d[2].get("use_double_phase"),d[2],(d[16]?d[17]?c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,10])):c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,4])):d[18]?c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,12])):c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,6])))?c.resolve(d[1].set("main_job_succeeded",!0)):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([-1,4294967295]))?d[19]=c.i64.cast([0,5]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([-1,4294967294]))?(d[21]=d[2].get("should_transcode"),d[2],d[20]=d[21]?c.i64.cast([0,1]):c.i64.cast([0,3])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,2]))?d[21]=c.i64.cast([0,3]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,4]))?(d[23]=d[2].get("send_by_server"),d[2],d[24]=d[2].get("use_double_phase"),d[2],d[22]=d[23]?d[24]?c.i64.cast([0,13]):f:c.i64.cast([0,5])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,6]))?(d[24]=d[2].get("use_double_phase"),d[2],d[23]=d[24]?c.i64.cast([0,13]):f):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,14]))?(d[25]=d[2].get("use_double_phase"),d[2],d[26]=d[2].get("should_transcode"),d[2],d[24]=d[25]?d[26]?c.i64.cast([0,7]):c.i64.cast([0,9]):f):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,8]))?d[25]=c.i64.cast([0,9]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,10]))?(d[27]=d[2].get("send_by_server"),d[2],d[26]=d[27]?f:c.i64.cast([0,11])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,12]))?d[27]=f:d[27]=f,d[26]=d[27]),d[25]=d[26]),d[24]=d[25]),d[23]=d[24]),d[22]=d[23]),d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),c.i64.neq(d[19],f)?c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:d[19]})})},function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}]):c.resolve())):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[15])))}])}]):c.i64.eq(d[5],c.i64.cast([0,11]))?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[14]=a.error,c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(a){return c.i64.neq(d[13],f)?(d[1].set("resume_failed",!0),d[1].set("error",d[13])):d[1].set("main_job_succeeded",!0)}]):c.i64.eq(d[5],c.i64.cast([0,13]))?c.seq([function(e){return c.sp(b("LSInsertPhase2PendingTask"),a[0],a[1]).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:c.i64.cast([0,14])})})},function(b){return d[1].set("main_job_succeeded",!0),c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}])}]):c.resolve(0)):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",c.i64.cast([0,11]))))},function(a){return d[7]=d[1].get("main_job_succeeded"),d[1],d[8]=d[1].get("resume_failed"),d[1],d[9]=d[1].get("error"),d[1],a=[d[7],d[8],d[9],d[4]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("BasePopoverDownEdgeArrow.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({height:12,viewBox:"0 0 21 12",width:21},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("BasePopoverDownInsetArrow.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({height:12,viewBox:"0 0 25 12",width:25},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M24.553.103c-2.791.32-5.922 1.53-7.78 3.455l-9.62 7.023c-2.45 2.54-5.78 1.645-5.78-2.487V2.085C1.373 1.191.846.422.1.102h24.453z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("BasePopoverRightEdgeArrow.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({height:21,viewBox:"0 0 12 21",width:12},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12Z",transform:"rotate(-90 10.498 10.488)"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("BasePopoverRightInsetArrow.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({height:25,viewBox:"0 0 12 25",width:12},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M24.553.103c-2.791.32-5.922 1.53-7.78 3.455l-9.62 7.023c-2.45 2.54-5.78 1.645-5.78-2.487V2.085C1.373 1.19.846.422.1.102z",transform:"rotate(-90 12.5 12.48)"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("BasePopoverSVGArrowContainer.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BasePopoverDownEdgeArrow.svg.react","BasePopoverDownInsetArrow.svg.react","BasePopoverRightEdgeArrow.svg.react","BasePopoverRightInsetArrow.svg.react","Locale","react","stylex","testID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k=3,l=c("Locale").isRTL(),m=25,n={arrow:{position:"x10l6tqk",$$css:!0},container:{position:"x1n2onr6",$$css:!0}},o={above:{marginBottom:"x1fqp7bg",$$css:!0},below:{marginTop:"xcxhlts",$$css:!0},end:{marginStart:"x13ibhcj",$$css:!0},start:{marginEnd:"x1jqylkn",$$css:!0}},p={above:{top:"x11k2h6o",$$css:!0},below:{bottom:"xng853d",$$css:!0},end:{end:"x1gozi89",$$css:!0},start:{start:"x1ke83zm",$$css:!0}},q={end:{end:"xds687c",$$css:!0},middle:{start:"xu8u0ou",$$css:!0},start:{start:"x17qophe",$$css:!0},stretch:{$$css:!0}},r={end:{bottom:"x1ey2m1c",$$css:!0},middle:{top:"x18g6o9x",$$css:!0},start:{top:"x13vifvy",$$css:!0},stretch:{$$css:!0}};function s(a,b,c){c=c-k;if(!a)return b==="end"||b==="middle"?c*-1:c;return l&&b==="start"||!l&&b==="end"?c*-1:c}function t(a,b,c,d){if(c==="edge"||d==null)return{};c=a==="below"||a==="above";a=c?d.width:d.height;d=a>0?a/2:0;if(d===0)return{};a=s(c,b,b==="middle"?m/2:d);return{transform:c?"translateX("+a+"px)":"translateY("+a+"px)"}}function u(a,b){return a==="above"||a==="below"?b==="middle"?c("BasePopoverDownInsetArrow.svg.react"):c("BasePopoverDownEdgeArrow.svg.react"):b==="middle"?c("BasePopoverRightInsetArrow.svg.react"):c("BasePopoverRightEdgeArrow.svg.react")}function a(a,b){var d,e=a.arrowAlignment,f=e===void 0?"center":e;e=a.children;var g=a.label,k=a.labelledby,m=a.testid,s=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["arrowAlignment","children","label","labelledby","testid","xstyle"]);var v=i(c("BaseContextualLayerOrientationContext")),w=v.align,x=v.position,y=i(c("BaseContextualLayerContextSizeContext"));v=u(x,w);var z=(d=i(c("BaseContextualLayerLayerAdjustmentContext")))!=null?d:0;d=j(function(){var a=l?"start":"end",b=l?"end":"start",c=w==="end"&&!l||w==="start"&&l,d=1,e=1,g=0,h=0;switch(x){case"above":g+=-z;c&&(d=-1);break;case"below":g+=-z;e=-1;c&&(d=-1);break;case b:h+=-z;w==="start"&&(e=-1);break;case a:h+=-z;d=-1;w==="start"&&(e=-1);break}return{arrowStyle:{transform:"scale("+d+", "+e+") translate("+g+"px, "+h+"px)"},containerStyle:t(x,w,f,y)}},[w,f,y,z,x]);var A=d.arrowStyle;d=d.containerStyle;return h.jsxs("div",babelHelpers["extends"]({},a,{"aria-label":g,"aria-labelledby":k,className:c("stylex")(n.container,o[x],s),ref:b,style:d},c("testID")(m),{children:[e,h.jsx(v,{className:c("stylex")(n.arrow,p[x],(x==="start"||x==="end")&&r[w],(x==="above"||x==="below")&&q[w]),fill:"var(--card-background)",style:A})]}))}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("CometPopover.react",["BaseContextualLayerOrientationContext","BasePopover.react","BasePopoverSVGArrowContainer.react","cr:1941981","cr:1941982","isBlueprintStylesEnabled","react","stylex","useCometDisplayTimingTrackerForInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={card:{boxSizing:"x9f619",$$css:!0},cardBackground:{backgroundColor:"x1jx94hy",$$css:!0},cardBorderRadius:{borderTopStartRadius:"x1qpq9i9",borderTopEndRadius:"xdney7k",borderBottomEndRadius:"xu5ydu1",borderBottomStartRadius:"xt3gfkd",$$css:!0},cardOverflow:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},cardShadow:{boxShadow:"x8ii3r7",$$css:!0},popoverWithArrow:{filter:"x1fayt1i",$$css:!0}},k={end:{borderBottomEndRadius:"x5pf9jr",$$css:!0},middle:{$$css:!0},start:{borderBottomStartRadius:"xo71vjh",$$css:!0},stretch:{$$css:!0}},l={end:{borderTopEndRadius:"x13lgxp2",$$css:!0},middle:{$$css:!0},start:{borderTopStartRadius:"x168nmei",$$css:!0},stretch:{$$css:!0}},m={end:{borderBottomEndRadius:"x5pf9jr",$$css:!0},middle:{$$css:!0},start:{borderTopEndRadius:"x13lgxp2",$$css:!0},stretch:{$$css:!0}},n={end:{borderBottomStartRadius:"xo71vjh",$$css:!0},middle:{$$css:!0},start:{borderTopStartRadius:"x168nmei",$$css:!0},stretch:{$$css:!0}};function o(a,b){switch(a){case"above":return k[b];case"below":return l[b];case"end":return n[b];case"start":return m[b]}}function a(a,d){var e=a.animatedPopover;e=e===void 0?!1:e;var f=a.children,g=a.popoverName,k=a.withArrow;k=k===void 0?!1:k;a=babelHelpers.objectWithoutPropertiesLoose(a,["animatedPopover","children","popoverName","withArrow"]);g=c("useCometDisplayTimingTrackerForInteraction")(g);var l=i(c("BaseContextualLayerOrientationContext")),m=l.align;l=l.position;return h.jsx(c("BasePopover.react"),babelHelpers["extends"]({},a,{arrowImpl:k?c("BasePopoverSVGArrowContainer.react"):void 0,ref:d,xstyle:k&&j.popoverWithArrow,children:e&&b("cr:1941981")!=null&&b("cr:1941982")!=null?h.jsx(b("cr:1941982"),{children:h.jsx(b("cr:1941981"),{backgroundColorXStyle:j.cardBackground,borderRadius:c("isBlueprintStylesEnabled")()?16:8,boxShadowXStyle:j.cardShadow,ref:g,springConfig:{bounciness:4,speed:40},xstyle:j.card,children:f})}):h.jsx("div",{className:c("stylex")(j.card,j.cardBackground,j.cardShadow,j.cardBorderRadius,j.cardOverflow,k===!0&&o(l,m)),ref:g,children:f})}))}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("MWConsole",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.log=a}),98);
__d("LSContactTypeExact",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FB_USER:1,MESSENGER_ONLY:2,DEACTIVATED_ALLOWED_ON_MESSENGER:3,MESSENGER_KID:4,FB_PAGE:5,FB_PAGE_PERSONA:6,IG_USER:7,MESSENGER_CALL_GUEST:8,WHATSAPP:9,GUEST_USER:10,IG_BUSINESS_USER:11,IG_CREATOR_USER:12,FB_SINGLE_OWNER_ADDITIONAL_PROFILE:13,PROXY_OCULUS_USER:14,WORK_VC_ENDPOINT:15,GENERATIVE_AI_BOT:16,COMMUNITY_CHAT:17,INTEROP_3P_USER:18});f["default"]=a}),66);
__d("MWLSContactTypeExactUtils",["I64","LSContactTypeExact","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSContactTypeExact").IG_USER))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSContactTypeExact").IG_BUSINESS_USER)))return!0;else return d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSContactTypeExact").IG_CREATOR_USER))}g.isIgContact=a}),98);
__d("MWPOpenComposerUtils.bs",["I64","LSRemoveMediaSendJobs","LSResumeMediaSendJob","MWConsole","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return a.table("media_staging").get({hd:c,tl:0}).then(function(d){if(d!=null)return a.table("media_staging")["delete"]({hd:c,tl:0});else return b("Promise").resolve()})}function e(a,c,d){return a.table("media_staging").get({hd:c,tl:0}).then(function(c){if(c!=null)return a.table("media_staging").put(d(c));else return b("Promise").resolve()})}function f(a,c,d,e,f){return a.table("attachments").get({hd:c,tl:{hd:d,tl:{hd:e,tl:0}}}).then(function(g){if(g!=null)return a.table("attachments").upsert({hd:c,tl:{hd:d,tl:{hd:e,tl:0}}},f(g));else return b("Promise").resolve()})}function h(a,e,f){return c("LSResumeMediaSendJob")(e,d("I64").zero,(f=f)!=null?f:void 0,a).then(function(d){d=d[0];if(d)return c("LSRemoveMediaSendJobs")(e,a);else return b("Promise").resolve()})}g.deleteMediaStaging=a;g.updateMediaStaging=e;g.updateAttachment=f;g.resumeSendJob=h}),98);
__d("getVendorPrefixedName",["invariant","ExecutionEnvironment","UserAgent","camelize"],(function(a,b,c,d,e,f,g,h){var i={},j=["Webkit","ms","Moz","O"],k=new RegExp("^("+j.join("|")+")"),l=c("ExecutionEnvironment").canUseDOM?document.createElement("div").style:{};function m(a){for(var b=0;b<j.length;b++){var c=j[b]+a;if(c in l)return c}return null}function n(a){switch(a){case"lineClamp":return c("UserAgent").isEngine("WebKit >= 315.14.2")?"WebkitLineClamp":null;default:return null}}function a(a){var b=c("camelize")(a);if(i[b]===void 0){var d=b.charAt(0).toUpperCase()+b.slice(1);k.test(d)&&h(0,957,a);c("ExecutionEnvironment").canUseDOM?i[b]=b in l?b:m(d):i[b]=n(b)}return i[b]}g["default"]=a}),98);
__d("BrowserSupportCore",["getVendorPrefixedName"],(function(a,b,c,d,e,f){"use strict";a={hasCSSAnimations:function(){return!!b("getVendorPrefixedName")("animationName")},hasCSSTransforms:function(){return!!b("getVendorPrefixedName")("transform")},hasCSS3DTransforms:function(){return!!b("getVendorPrefixedName")("perspective")},hasCSSTransitions:function(){return!!b("getVendorPrefixedName")("transition")}};c=a;f["default"]=c}),66);
__d("BrowserSupport",["BrowserSupportCore","ExecutionEnvironment","UserAgent_DEPRECATED","getVendorPrefixedName","memoize"],(function(a,b,c,d,e,f,g){var h=null;function i(){if(c("ExecutionEnvironment").canUseDOM){h||(h=document.createElement("div"));return h}return null}b=function(a){return c("memoize")(function(){var b=i();return!b?!1:a(b)})};e=b(function(a){a.style.cssText="position:-moz-sticky;position:-webkit-sticky;position:-o-sticky;position:-ms-sticky;position:sticky;";return/sticky/.test(a.style.position)});f=b(function(a){return"scrollSnapType"in a.style||"webkitScrollSnapType"in a.style||"msScrollSnapType"in a.style});var j=b(function(a){return"scrollBehavior"in a.style});b=b(function(a){if(!("pointerEvents"in a.style))return!1;a.style.cssText="pointer-events:auto";return a.style.pointerEvents==="auto"});var k=c("memoize")(function(){return!(d("UserAgent_DEPRECATED").webkit()&&!d("UserAgent_DEPRECATED").chrome()&&d("UserAgent_DEPRECATED").windows())&&"FileList"in window&&"FormData"in window}),l=c("memoize")(function(){return!!a.blob}),m=c("memoize")(function(){return c("ExecutionEnvironment").canUseDOM&&document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","foreignObject").toString().includes("SVGForeignObject")}),n=c("memoize")(function(){return!!window.MutationObserver}),o=c("memoize")(function(){var a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd"},b=c("getVendorPrefixedName")("transition");return a[b]||null}),p=function(){return!!window.CanvasRenderingContext2D};g.hasCSSAnimations=c("BrowserSupportCore").hasCSSAnimations;g.hasCSSTransforms=c("BrowserSupportCore").hasCSSTransforms;g.hasCSS3DTransforms=c("BrowserSupportCore").hasCSS3DTransforms;g.hasCSSTransitions=c("BrowserSupportCore").hasCSSTransitions;g.hasPositionSticky=e;g.hasScrollSnapPoints=f;g.hasScrollBehavior=j;g.hasPointerEvents=b;g.hasFileAPI=k;g.hasBlobFactory=l;g.hasSVGForeignObject=m;g.hasMutationObserver=n;g.getTransitionEndEvent=o;g.hasCanvasRenderingContext2D=p}),98);
__d("DOMControl",["$","DataStore"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.root=b("$").fromIDOrElement(a),this.updating=!1,b("DataStore").set(a,"DOMControl",this)}var c=a.prototype;c.getRoot=function(){return this.root};c.beginUpdate=function(){if(this.updating)return!1;this.updating=!0;return!0};c.endUpdate=function(){this.updating=!1};c.update=function(a){if(!this.beginUpdate())return this;this.onupdate(a);this.endUpdate()};c.onupdate=function(a){};a.getInstance=function(a){return b("DataStore").get(a,"DOMControl")};return a}();e.exports=a}),null);
__d("Input",["CSS","DOMControl","DOMQuery"],(function(a,b,c,d,e,f,g){function h(a){return!/\S/.test(a||"")}function i(a){return h(a.value)}function a(a){return i(a)?"":a.value}function b(a){return a.value}function e(a,b){a.value=b||"";b=c("DOMControl").getInstance(a);b&&b.resetHeight&&b.resetHeight()}function f(a,b){b||(b=""),a.setAttribute("aria-label",b),a.setAttribute("placeholder",b)}function j(a){a.value="",a.style.height=""}function k(a,b){d("CSS").conditionClass(a,"enter_submit",b)}function l(a){return d("CSS").hasClass(a,"enter_submit")}function m(a,b){b>0?a.setAttribute("maxlength",b.toString()):a.removeAttribute("maxlength")}g.isWhiteSpaceOnly=h;g.isEmpty=i;g.getValue=a;g.getValueRaw=b;g.setValue=e;g.setPlaceholder=f;g.reset=j;g.setSubmitOnEnter=k;g.getSubmitOnEnter=l;g.setMaxLength=m}),98);
__d("Form",["DOM","DOMQuery","DTSG","DTSGUtils","DataStore","FBLogger","Input","LSD","PHPQuerySerializer","Random","SprinkleConfig","URI","getElementPosition","isFacebookURI","isNode"],(function(a,b,c,d,e,f,g){var h="FileList"in window,i="FormData"in window;function j(a){var b={};c("PHPQuerySerializer").serialize(a).split("&").forEach(function(a){if(a){a=/^([^=]*)(?:=(.*))?$/.exec(a);var d=c("URI").decodeComponent(a[1]),e=a[2]!==void 0;e=e?c("URI").decodeComponent(a[2]):null;b[d]=e}});return b}var k={getInputs:function(a){a===void 0&&(a=document);return[].concat(d("DOMQuery").scry(a,"input"),d("DOMQuery").scry(a,"select"),d("DOMQuery").scry(a,"textarea"),d("DOMQuery").scry(a,"button"))},getInputsByName:function(a){var b={};k.getInputs(a).forEach(function(a){var c=b[a.name];b[a.name]=c===void 0?a:[a].concat(c)});return b},getSelectValue:function(a){return a.options[a.selectedIndex].value},setSelectValue:function(a,b){for(var c=0;c<a.options.length;++c)if(a.options[c].value===b){a.selectedIndex=c;break}},getRadioValue:function(a){for(var b=0;b<a.length;b++)if(a[b].checked)return a[b].value;return null},getElements:function(a){return a.tagName==="FORM"&&a.elements!==a?Array.from(a.elements):k.getInputs(a)},getAttribute:function(a,b){return(a.getAttributeNode(b)||{}).value||null},setDisabled:function(a,b){k.getElements(a).forEach(function(a){if(a.disabled!==void 0){var d=c("DataStore").get(a,"origDisabledState");b?(d===void 0&&c("DataStore").set(a,"origDisabledState",a.disabled),a.disabled=b):d===!1&&(a.disabled=!1)}})},forEachValue:function(a,b,c){k.getElements(a).forEach(function(a){if(!a.name||a.disabled)return;if(a.type==="submit")return;if(a.type==="reset"||a.type==="button"||a.type==="image")return;if((a.type==="radio"||a.type==="checkbox")&&!a.checked)return;if(a.nodeName==="SELECT"){for(var b=0,e=a.options.length;b<e;b++){var f=a.options[b];f.selected&&c("select",a.name,f.value)}return}if(a.type==="file"){if(h){f=a.files;for(b=0;b<f.length;b++)c("file",a.name,f.item(b))}return}c(a.type,a.name,d("Input").getValue(a))}),b&&b.name&&b.type==="submit"&&d("DOMQuery").contains(a,b)&&d("DOMQuery").isNodeOfType(b,["input","button"])&&c("submit",b.name,b.value)},createFormData:function(a,b){if(!i)return null;var d=new FormData();if(a)if(c("isNode")(a))k.forEachValue(a,b,function(a,b,c){d.append(b,c)});else{b=j(a);for(a in b)b[a]==null?d.append(a,""):d.append(a,b[a])}return d},serialize:function(a,b){var c={};k.forEachValue(a,b,function(a,b,d){if(a==="file")return;k._serializeHelper(c,b,d)});return k._serializeFix(c)},_serializeHelper:function(a,b,c){var d=Object.prototype.hasOwnProperty,e=/([^\]]+)\[([^\]]*)\](.*)/.exec(b);if(e){if(!a[e[1]]||!d.call(a,e[1])){a[e[1]]=d={};if(a[e[1]]!==d)return}d=0;if(e[2]==="")while(a[e[1]][d]!==void 0)d++;else d=e[2];e[3]===""?a[e[1]][d]=c:k._serializeHelper(a[e[1]],d.concat(e[3]),c)}else a[b]=c},_serializeFix:function(a){for(var b in a)a[b]instanceof Object&&(a[b]=k._serializeFix(a[b]));b=Object.keys(a);if(b.length===0||b.some(isNaN))return a;b.sort(function(a,b){return a-b});var c=0,d=b.every(function(a){return+a===c++});return d?b.map(function(b){return a[b]}):a},post:function(a,b,e,f){f===void 0&&(f=!0);a=new(c("URI"))(a);var g=document.createElement("form");g.action=a.toString();g.method="POST";g.style.display="none";var h=!c("isFacebookURI")(a);if(e){if(h){g.rel="noreferrer";if(e==="_blank"){e=btoa(c("Random").uint32());var i=window.open("about:blank",e);i!==void 0&&(i.opener=null)}}g.target=e}if(f&&(!h&&a.getSubdomain()!=="apps")){i=d("DTSG").getToken();i&&(b.fb_dtsg=i,c("SprinkleConfig").param_name&&(b[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(i)));c("LSD").token&&(b.lsd=c("LSD").token,c("SprinkleConfig").param_name&&!i&&(b[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(c("LSD").token)))}k.createHiddenInputs(b,g);d("DOMQuery").getRootElement().appendChild(g);g.submit();return!1},post_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES:function(a,b,c){k.post(a,b,c)},createHiddenInputs:function(a,b,d,e){e===void 0&&(e=!1);d=d||{};a=j(a);for(var f in a){if(a[f]===null)continue;if(d[f]&&e)d[f].value=a[f];else{var g=c("DOM").create("input",{type:"hidden",name:f,value:a[f]});d[f]=g;b.appendChild(g)}}return d},getFirstElement:function(a,b){b===void 0&&(b=['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']);var e=[];for(var f=0;f<b.length;f++){e=d("DOMQuery").scry(a,b[f]);for(var g=0;g<e.length;g++){var h=e[g];try{var i=c("getElementPosition")(h);if(i.y>0&&i.x>0)return h}catch(a){}}}return null},focusFirst:function(a){a=k.getFirstElement(a);if(a){a.focus();return!0}return!1}};f.exports=k}),34);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);b.parseFiles=function(a){var b={};c("forEachObject")(a,function(a,c){if(Array.isArray(a))b[c]=a;else{b[c]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)b[c].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&b[c].push(a)}});return b};function b(b){var c;c=a.call(this)||this;c._allowCrossOrigin=!1;c._allowCrossPageTransition=!1;c._customHeader={};c._inFlight=!1;c._limit=10;c._option={};c._preventDefaultErrorHandler=!1;c._suspended=!1;b&&c.setURI(b);c.setNetworkErrorRetryLimit(0);return c}var e=b.prototype;e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setData=function(a){this._data=a;return this};e.setOption=function(a,b){this._option[a]=b;return this};e.setPreventDefaultErrorHandler=function(a){this._preventDefaultErrorHandler=a;return this};e.setLimit=function(a){this._limit=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setRelativeTo=function(a){this._relativeTo=a;return this};e.setStatusElement=function(a){this._statusElement=a;return this};e.setURI=function(a){this._uri=a;return this};e.suspend=function(){this._suspended=!0;return this};e.resume=function(){this._suspended=!1;this._processQueue();return this};e.isUploading=function(){return this._inFlight};e._createFileUpload=function(a,b,c){return new h(a,b,c)};e._processQueue=function(){if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift(),b=this._preprocessHandler;b?b(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};e._processUpload=function(a){var b=d("Form").createFormData(a.getData()||this._data);if(a.getFile()){b.append(a.getName(),a.getFile());var e=a.getFile().uploadID;e&&b.append("upload_id",e);a.getAdditionalData().forEach(function(a,c){return b.append(c,a)})}e=new(c("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(b).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var f in this._option)e.setOption(f,this._option[f]);for(f in this._customHeader)e.setRequestHeader(f,this._customHeader[f]);this._relativeTo&&e.setRelativeTo(this._relativeTo);e.send();a.setAsyncRequest(e);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};e._abort=function(a){this._pending.indexOf(a)!==-1&&(c("removeFromArray")(this._pending,a),this._processQueue()),c("removeFromArray")(this._waiting,a),a.abort()};e._initial=function(a){if(a.isAborted())return;this.inform("initial",a)};e._success=function(a,b){if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};e._retryUpload=function(a){a.increaseRetryCount(),this._processUpload(a)};e._failure=function(a,b){if(a.isAborted())return;if(b.error===1004&&a.getRetryCount()<(this._retryLimit||0))return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(b))!==!1&&(this._preventDefaultErrorHandler||c("AsyncResponse").defaultErrorHandler(b));this._processQueue()};e._progress=function(a,b){if(a.isAborted())return;this.inform("progress",a.handleProgress(b))};e._complete=function(a){c("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};b.isSupported=function(){return d("BrowserSupport").hasFileAPI()};return b}(c("mixin")(c("ArbiterMixin")));var h=function(){function a(a,b,c){this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=a,this._file=b,this._data=c}var b=a.prototype;b.getName=function(){return this._name};b.getFile=function(){return this._file};b.setFile=function(a){this._file=a};b.getData=function(){return this._data};b.getAdditionalData=function(){return this._additionalData};b.isComplete=function(){return this._success!==null};b.isSuccess=function(){return this._success===!0};b.getResponse=function(){return this._response};b.getProgressEvent=function(){return this._progressEvent};b.setAsyncRequest=function(a){this._request=a;return this};b.increaseRetryCount=function(){this._numRetries++;return this};b.getRetryCount=function(){return this._numRetries};b.isWaiting=function(){return!this._request};b.isAborted=function(){return this._aborted};b.abort=function(){this._request=null,this._aborted=!0};b.handleSuccess=function(a){this._success=!0;this._response=a;this._progressEvent=null;return this};b.handleFailure=function(a){this._success=!1;this._response=a;this._progressEvent=null;return this};b.handleProgress=function(a){this._progressEvent=a;return this};return a}();g["default"]=a}),98);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c._files=null,c._uploads=[],c._fileLessUpload=null,b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.setFiles=function(a){this._files=c("AsyncUploadBase").parseFiles(a);return this};d.setAlwaysReturnResponse=function(a){this._shouldAlwaysReturnResponse=a};d.abort=function(){var a=this;this._uploads.forEach(function(b){return a._abort(b)})};d.send=function(){var a=this;if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var b in this._files)this._files[b].forEach(function(c){a._uploads.push(a._createFileUpload(b,c))});this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))};d._processQueue=function(){a.prototype._processQueue.call(this);if(!this._pending.length&&!this._waiting.length){var b=this._uploads;b=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:b}:{response:b[0].getResponse(),uploads:b}:b;this.inform("complete",b)}};b.isSupported=function(){return c("AsyncUploadBase").isSupported()};return b}(c("AsyncUploadBase"));g["default"]=a}),98);
__d("BehaviorsMixin",[],(function(a,b,c,d,e,f){var g=function(){function a(a){this.$1=a,this.$2=!1}var b=a.prototype;b.enable=function(){this.$2||(this.$2=!0,this.$1.enable())};b.disable=function(){this.$2&&(this.$2=!1,this.$1.disable())};return a}(),h=1;function i(a){a.__BEHAVIOR_ID||(a.__BEHAVIOR_ID=h++);return a.__BEHAVIOR_ID}a={enableBehavior:function(a){this._behaviors||(this._behaviors={});var b=i(a);this._behaviors[b]||(this._behaviors[b]=new g(new a(this)));this._behaviors[b].enable();return this},disableBehavior:function(a){if(this._behaviors){a=i(a);this._behaviors[a]&&this._behaviors[a].disable()}return this},enableBehaviors:function(a){a.forEach(this.enableBehavior,this);return this},destroyBehaviors:function(){if(this._behaviors){for(var a in this._behaviors)this._behaviors[a].disable();this._behaviors={}}},hasBehavior:function(a){return this._behaviors&&i(a)in this._behaviors}};b=a;f["default"]=b}),66);
__d("shield",[],(function(a,b,c,d,e,f){function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(typeof a!=="function")throw new TypeError("shield expects a function as the first argument");return function(){return a.apply(b,d)}}f["default"]=a}),66);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","DOMQuery","DataStore","Event","FBLogger","Form","Parent","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f,g){function h(a){var b={};a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){b[a.name]=a.files});return b}function i(a){a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g._allowCrossOrigin=!1;g._allowCrossPageTransition=!1;g._uploadInParallel=!1;g._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==g._form)return;if(g.inform("submit")===!1){a.prevent();return}g.submit(a)};g._click=function(a){a=a.getTarget();while(c("isElementNode")(a)){if(a.type==="submit"){g._clickTarget=a;c("setTimeout")(g._unclick,0);break}a=a.parentNode}};g._unclick=function(){g._clickTarget=null};g.initial=function(a){return g.inform("initial",{upload:a})};if(b.getAttribute("rel")==="async")throw c("FBLogger")("FileForm","primer-only").mustfixThrow("FileForm cannot be used with Primer forms.");if((b.getAttribute("method")||"").toUpperCase()!=="POST")throw c("FBLogger")("FileForm","post-only").mustfixThrow("FileForm must be used with POST forms.");g._form=b;g._previousEncoding=g._form.enctype;g._form.enctype=g._form.encoding="multipart/form-data";g._files=null;g._customHeader={};e&&g.enableBehaviors(e);g._options=f||{};g.setAllowCrossOrigin(g._options.allowCrossOrigin);g.setAllowCrossPageTransition(g._options.allowCrossPageTransition);g.setUploadInParallel(g._options.uploadInParallel);g.setConcurrentLimit(g._options.concurrentLimit);g.setPreprocessHandler(g._options.preprocessHandler);g.setNetworkErrorRetryLimit(g._options.networkErrorRetryLimit);g._listeners=[c("Event").listen(document.documentElement,"submit",g._handleSubmit),c("Event").listen(g._form,"click",g._click)];d("DataStore").set(g._form,"FileForm",babelHelpers.assertThisInitialized(g));return g}var e=b.prototype;e.getRoot=function(){return this._form};e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};e.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setFiles=function(a){this._files=a;return this};e.submit=function(a){var b=this,e;if(this._uploadInParallel&&c("AsyncUploadRequest").isSupported()){e=new(c("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(d("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var f in this._customHeader)e.setCustomHttpHeader(f,this._customHeader[f]);this._concurrentLimit&&e.setLimit(this._concurrentLimit);this._files?e.setFiles(this._files):e.setFiles(h(this._form));var g=[e.subscribe("progress",function(a,c){b.progress(c,c.getProgressEvent())}),e.subscribe("initial",function(a,c){b.initial(c)}),e.subscribe("success",function(a,c){b.success(c,c.getResponse())}),e.subscribe("start",function(a,c){b.inform("start",{upload:c})}),e.subscribe("failure",function(a,c){b.failure(c,c.getResponse());return!1}),e.subscribe("complete",function(){while(g.length)g.pop().unsubscribe()})]}else(function(){var a,f=b._files;if(f){a=d("Form").createFormData(d("Form").serialize(b._form,b._clickTarget));var g=c("AsyncUploadRequest").parseFiles(f);f=function(b){var c=g[b];c.length===1?a.append(b,c[0]):(b+="[]",c.forEach(function(c){a.append(b,c)}));b};for(var h in g)f(h)}else a=d("Form").createFormData(b._form,b._clickTarget);e=new(c("AsyncRequest"))().setRawData(a).setHandler(function(a){return b.success(null,a)}).setErrorHandler(function(a){return b.failure(null,a)}).setUploadProgressHandler(function(a){return b.progress(null,a)}).setInitialHandler(c("shield")(b.initial,b,null));b.inform("start",{upload:null})})();e.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=e;a&&a.prevent()};e.success=function(a,b){b={response:b,upload:a};this.inform("success",b)!==!1&&c("Event").fire(this._form,"success",b);this._cleanup()};e.failure=function(a,b){a={response:b,upload:a};this.inform("failure",a)!==!1&&(c("Event").fire(this._form,"error",a)!==!1&&c("AsyncResponse").defaultErrorHandler(b));this._cleanup()};e.progress=function(a,b){this.inform("progress",{event:b,upload:a})};e.abort=function(){this._request&&(this._request.abort(),this._cleanup())};e.clear=function(){i(this._form)};e.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;d("DataStore").remove(this._form,"FileForm")};e._cleanup=function(){this._request=null};e._getStatusElement=function(){return d("Parent").byClass(this._form,"stat_elem")||this._form};b.getInstance=function(a){return d("DataStore").get(a,"FileForm")};return b}(c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});g["default"]=a}),98);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("PhotosMimeType",[],(function(a,b,c,d,e,f){function g(a){return h(a)[0]==="image"}function a(a){var b=h(a);return g(a)&&(b[1]==="jpeg"||b[1]==="pjpeg")}function h(a){return a.split("/")}f.isImage=g;f.isJpeg=a}),66);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;function a(){return(g++).toString()}f.getNewID=a}),66);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f,g){function a(a){var b=h(a).length;a=i(a).length;return b>a}function b(a){return h(a).length>0}function d(a){return j(a).length>0}function h(a){return k(a,c("VideoUploadConfig").videoExtensions)}function i(a){var b={gif:!0};return k(a,b)}function j(a){return k(a,c("ComposerXNativeAudioUploadsConfig").audioExtensions)}function k(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():"";return b[a]})}g.hasEditableVideos=a;g.hasVideos=b;g.hasAudioFiles=d;g.filterVideos=h;g.filterNonEditableVideos=i;g.filterAudioFiles=j;g.filterFileOfSupportedType=k}),98);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){var b=function(b){return a.charCodeAt(b)&255};this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=function(b,c){return a.substr(b,c)};this.getLength=function(){return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();f.Decoder=d}),66);
__d("ImageMetadata",["ImageExif","Promise","StringEncoding","emptyFunction","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";e=function(){function e(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var f=e.prototype;f.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=h[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};f.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,i)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+i.length,b-2-i.length)):this.$11(a+4,j)?(this.$1=a,this.$2=b,this.$13(a+4+j.length,b-2-j.length)):this.$11(a+4,k)&&this.$14(a+4+k.length,b-2-k.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};f.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};f.$12=function(a,b){a=emptyFunction;try{emptyFunction=c("emptyFunction");var e=d("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}b={};for(a in e){var f=e[a];typeof f==="string"&&(f=f.trim());b[a.trim()]=f}this.$3=b};f.$13=function(a,b){var c=new(d("StringEncoding").Decoder)(null,"truncate");try{c=c.decode(this.$6.slice(a,a+b));this.$4=c}catch(a){return}};f.$14=function(a){};f.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};f.$9=function(a){for(a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};f.hasAPP1=function(){return Boolean(this.$1)};f.hasExif=function(){return Boolean(this.$3)};f.hasXMP=function(){return Boolean(this.$4)};f.hasSize=function(){return Boolean(this.$5)};f.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};f.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};f.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};f.getXMPString=function(){return this.$4};f.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};f.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};e.genMetadataFromBlob=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.t0=e;c.next=3;return b("regeneratorRuntime").awrap(e.$16(a));case 3:c.t1=c.sent;return c.abrupt("return",new c.t0(c.t1));case 5:case"end":return c.stop()}},null,this)};e.$16=function(c){return new(b("Promise"))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return e}();var h=[];h[216]={name:"SOI",length:0};h[192]={name:"SOF0"};h[193]={name:"SOF1"};h[194]={name:"SOF2"};h[195]={name:"SOF3"};h[197]={name:"SOF5"};h[198]={name:"SOF6"};h[199]={name:"SOF7"};h[200]={name:"JPG"};h[201]={name:"SOF9"};h[202]={name:"SOF10"};h[203]={name:"SOF11"};h[205]={name:"SOF13"};h[206]={name:"SOF14"};h[207]={name:"SOF15"};h[196]={name:"DHT"};h[219]={name:"DQT"};h[221]={name:"DRI",length:2};h[218]={name:"SOS"};h[208]={name:"RST0",length:0};h[209]={name:"RST1",length:0};h[210]={name:"RST2",length:0};h[211]={name:"RST3",length:0};h[212]={name:"RST4",length:0};h[213]={name:"RST5",length:0};h[214]={name:"RST6",length:0};h[215]={name:"RST7",length:0};h[224]={name:"APP0"};h[225]={name:"APP1"};h[226]={name:"APP2"};h[227]={name:"APP3"};h[228]={name:"APP4"};h[229]={name:"APP5"};h[230]={name:"APP6"};h[231]={name:"APP7"};h[232]={name:"APP8"};h[233]={name:"APP9"};h[234]={name:"APP10"};h[235]={name:"APP11"};h[236]={name:"APP12"};h[237]={name:"APP13"};h[238]={name:"APP14"};h[239]={name:"APP15"};h[254]={name:"COM"};h[217]={name:"EOI",length:0};var i="Exif\0\0",j="http://ns.adobe.com/xap/1.0/\0",k="http://ns.adobe.com/xmp/extension/\0";g["default"]=e}),98);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["ImageMetadata","Promise","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=2048;d=function(){function d(){}d.genArrayBufferFromBlob=function(c){return new(b("Promise"))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})};d.shouldCheckInServer=function(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<h||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0};d.genPhotosphereMetadata=function(a){var d=this;return new(b("Promise"))(function(b,e){c("promiseDone")(d.genArrayBufferFromBlob(a),function(a){try{var f=new(c("ImageMetadata"))(a);d.shouldCheckInServer(f)?c("promiseDone")(d.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}),function(a){a=a.payload;b({photoSphereMetadata:a,imageMetadata:f})},e):b({})}catch(a){a.__manual=!0,e(a)}},e)})};d.genPhotosphereMetadataFromServer=function(a,d,e){var f=this;return new(b("Promise"))(function(b,g){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:f.getExifString(e),height:a.y,width:a.x,xmp:d}).setHandler(b).setErrorHandler(g).send()})};d.getExifString=function(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})};d.getMayContainSphericalMetadata=function(a){return a!==""&&a.indexOf("GPano:")>-1};return d}();g["default"]=d}),98);
__d("SphericalImage",["SphericalImageUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="ProjectionType";a=function(){function a(a){this.props=a}a.createFromBlob=function(a){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(c("SphericalImageUtils").genPhotosphereMetadata(a));case 2:d=e.sent;return e.abrupt("return",new this(d));case 4:case"end":return e.stop()}},null,this)};var d=a.prototype;d.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};d.getImageMetadata=function(){return this.props.imageMetadata};d.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};d.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};d.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};d.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h]&&(a=this.props.photoSphereMetadata[h]);return a};return a}();g["default"]=a}),98);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0}function b(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}f.shouldResize360=a;f.shouldRecompress360=b}),66);
__d("curry",["bind"],(function(a,b,c,d,e,f,g){a=c("bind")(null,c("bind"),null);b=a;g["default"]=b}),98);
__d("loadImageFromBlob",["Promise"],(function(a,b,c,d,e,f){function a(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){URL.revokeObjectURL(d.src),b(d)};d.onerror=function(a){URL.revokeObjectURL(d.src),c(a)};d.src=URL.createObjectURL(a)})}f["default"]=a}),66);
__d("XComposerPhotoUploader",["AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","Promise","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","asyncToGeneratorRuntime","curry","emptyFunction","loadImageFromBlob","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=a.URL||a.webkitURL||{};e=function(){function a(a){this.$20={},this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||c("emptyFunction"),this.$7=a.onUploadsEnqueued||c("emptyFunction"),this.$8=a.onResizeStart||c("emptyFunction"),this.$11=a.onResizeProgress||c("emptyFunction"),this.$9=a.onResizeSuccess||c("emptyFunction"),this.$10=a.onResizeFailure||c("emptyFunction"),this.$12=a.onSphericalCheckFailure||c("emptyFunction"),this.$13=a.onSphericalCheckSuccess||c("emptyFunction"),this.$14=a.onUploadIsSpherical||c("emptyFunction"),this.$15=a.onUploadSent||c("emptyFunction"),this.$16=a.onUploadStart||c("emptyFunction"),this.$17=a.onUploadProgress||c("emptyFunction"),this.$18=a.onUploadSuccess||c("emptyFunction"),this.$19=a.onUploadFailure||c("emptyFunction")}var e=a.prototype;e.setUploadEndpoint=function(a){this.$1=a};e.setOption=function(a,b){this.$20[a]=b;return this};e.getUploadData=function(){return this.$2};e.setUploadData=function(a){this.$2=a};e.upload=function(a,b){var e=this;b||0;b=babelHelpers["extends"]({},this.$2);var f=null;if(!this.$21(a)){var g=d("PhotosUploadID").getNewID();a.uploadID=g;b.upload_id=g;this.$6({uploadID:g,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:h.createObjectURL?h.createObjectURL(a):null})}else{f=Array.from(a.files);f=f.filter(function(a){return!d("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(f.length===0)return;f.forEach(function(a){a.uploadID||(a.uploadID=d("PhotosUploadID").getNewID()),e.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:h.createObjectURL?h.createObjectURL(a):null})})}this.$7();g=new(c("FileInputUploader"))(a).setURI(this.$1).setData(b).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);f&&f.length>0&&(g.setFiles({farr:f}),this.$5?g.setPreprocessHandler(this.$22.bind(this)):g.setPreprocessHandler(this.$23.bind(this)),this.$4&&g.setConcurrentLimit(this.$4));g.subscribe("progress",function(b,c){return e.$17(e.$24(c,a),c)});g.subscribe("failure",function(b,c){return e.$19(e.$24(c,a),c,f)});g.subscribe("start",function(b,c){return e.$16(e.$24(c,a),c)});g.subscribe("success",function(b,c){return e.$18(e.$24(c,a),c)});try{g.send(),this.$15(a)}catch(a){throw a}};e.uploadFiles=function(a){var b=this;a=Array.from(a);var c=[];a.forEach(function(a){var e=d("PhotosUploadID").getNewID();a.uploadID||(a.uploadID=e);b.$6({fileName:a.name,fileURL:h.createObjectURL?h.createObjectURL(a):null,isSpherical:!1,uploadID:e});c.push(e)});a=this.getAsyncFileUploadRequest(a,c);a.send()};e.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$25(a,c);c.subscribe("start",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);return d.$19(c,{upload:e,response:e.getResponse()},a)});return c};e.getAsyncUploadRequest=function(a,b){var c=this;b=this.$25(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};e.$25=function(a,b){a=new(c("AsyncUploadRequest"))().setData(babelHelpers["extends"]({},b&&b.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);(b==null?void 0:b.preventDefaultErrorHandler)&&a.setPreventDefaultErrorHandler(!0);this.$4&&a.setLimit(this.$4);this.$5?a.setPreprocessHandler(this.$22.bind(this)):a.setPreprocessHandler(this.$23.bind(this));for(b in this.$20)a.setOption(b,this.$20[b]);return a};e.$26=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};e.$24=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};e.$23=function(a,d){var e=this;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield e.$27(a,d)})())};e.$27=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.getFile();c=(yield this.$28(c));var d=a.getFile().uploadID;c&&c.isSpherical()?this.$14(c.isSpherical(),c,d):this.$14(!1,null,"");b(a)});function c(b,c){return a.apply(this,arguments)}return c}();e.$22=function(a,d){var e=this;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield e.$29(a,d)})())};e.$28=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("performanceNow")();try{var d=(yield c("SphericalImage").createFromBlob(a));this.$13(a,c("performanceNow")()-b,d);return d}catch(d){this.$12(a,c("performanceNow")()-b);return null}});function d(b){return a.apply(this,arguments)}return d}();e.$30=function(a){return this.$31(this.$5.resizeBlob.bind(this.$5),a)};e.$32=function(a,b){b===void 0&&(b=c("SphericalPhotoTypedConfig").upload_size_limit);return this.$31(this.$5.resize360Blob.bind(this.$5),a,b)};e.$33=function(a){return c("loadImageFromBlob")(a).then(function(a){return{width:a.width,height:a.height}})};e.$31=function(a,d,e){var f=this,g=c("curry")(this.$11,d.uploadID),h=c("curry")(this.$8,d),i=function(){return f.$33(d).then(h)};return new(b("Promise"))(function(b,c){i(),a(d,function(a,d,e,f,g,h,i){a?c(a):e?b({originalWidth:f,originalHeight:g}):b({blob:d,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},g,e)})};e.$29=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.getFile(),f=this.$5.isEligible(e==null?void 0:e.size,e==null?void 0:e.type);if(!e||!d("PhotosMimeType").isJpeg(e.type)||!f){this.$14(!1,null,"");e&&c("promiseDone")(this.$33(e).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",e.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},c("emptyFunction")));b(a);return}f=c("performanceNow")();var g,h;try{var i=null;i=(yield this.$28(e));if(i&&i.isSpherical()){this.$14(!0,i,e.uploadID);var j=i.getSize(),k=c("SphericalPhotoTypedConfig").upload_size_limit,l=i.getProjectionType(),m=!1;m=d("SphericalPhotoUploadHelper").shouldRecompress360(l,i.getBufferLength(),c("SphericalPhotoTypedConfig").upload_bytes_limit);i=d("SphericalPhotoUploadHelper").shouldResize360(l,j,k);j&&(i||m)&&(!i?g=(yield this.$32(e,Math.max(j.x,j.y)-1)):g=(yield this.$32(e)))}else this.$14(!1,null,""),g=(yield this.$30(e));g&&(g.blob!=null&&(h=g.blob,h.uploadID=e.uploadID,h.name=e.name,a.setFile(h)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",e.size).set("original_width",g.originalWidth).set("original_height",g.originalHeight).set("upload_width",g.outputWidth).set("upload_height",g.outputHeight));l=h===null;a.getFile().filename=e.name;this.$9(e,h||e,l,c("performanceNow")()-f,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"))}catch(a){k=c("performanceNow")()-f;this.$10(e,h||e,a,k)}b(a)});function e(b,c){return a.apply(this,arguments)}return e}();e.$21=function(a){return!!a.files&&c("AsyncUploadRequest").isSupported()};return a}();g["default"]=e}),98);
__d("cometIsMimeTypeForMedia",["FBLogger","UFICommentFileInputAcceptValues"],(function(a,b,c,d,e,f,g){"use strict";var h={file:null,photo:null,video:null},i={"image/gif":"video","image/webp":"video"};function j(a){return a.split(",").map(function(a){return a.trim()}).map(function(a){return a.replace(/\/\*$/,"/")})}function k(a,b,d){h[a]==null&&(h[a]=j(d));d=h[a];if(d==null)throw c("FBLogger")("ufi2").mustfixThrow("CometIsMimeTypeForMedia prefixes can't be null");var e=i[b];return e!=null?e===a:d.some(function(a){return b.startsWith(a)})}function a(a){return k("photo",a,d("UFICommentFileInputAcceptValues").photos)}function b(a){return k("video",a,d("UFICommentFileInputAcceptValues").videos)}function e(a){return k("file",a,d("UFICommentFileInputAcceptValues").files)}g.mimeTypeAcceptStringToArray=j;g.isMimeTypeForPhoto=a;g.isMimeTypeForVideo=b;g.isMimeTypeForFile=e}),98);
__d("MWPComposerMediaUploadUtil",["FBLogger","I64","LSIntEnum","MessagingAttachmentType","XComposerPhotoUploader","cometIsMimeTypeForMedia","emptyFunction","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h,i,j,k){a===void 0&&(a=c("emptyFunction"));d===void 0&&(d=c("emptyFunction"));e===void 0&&(e=!1);var l="/ajax/mercury/upload.php";h===!0&&(l="/ajax/mercury/chatsupportuser/upload.php");d=new(c("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:d,onUploadProgress:a,onUploadStart:c("emptyFunction"),onUploadSuccess:function(a,d){d=d.response.payload.metadata;var e;if(d==null)c("FBLogger")("messenger_browser_clients").warn("Empty payload"),e={};else{d=d[0];d!=null?e=d:(c("FBLogger")("messenger_browser_clients").warn("Empty metadata isChatSupportUser: %s",h),e={})}d=e.fbid;var f=e.video_id,g=e.audio_id,i=e.gif_id;e=e.file_id;g=(d=(f=(d=(d=d)!=null?d:f)!=null?d:g)!=null?f:i)!=null?d:e;if(g!=null)b(a,g);else throw c("unrecoverableViolation")("Unrecognized file upload success payload","messenger_comet")},retryLimit:1,uploadEndpoint:l});a={};a.data={chat_support_user_id:h===!0&&i!=null?i:void 0,nonce:h===!0&&k!=null?k:void 0,voice_clip:e?!0:void 0,voice_clip_waveform_data:e?JSON.stringify(j):void 0};d.getAsyncFileUploadRequest(f,g,a).send()}function b(a){a=a.type;if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a))return d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE);else if(a==="audio/wav")return d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO);else if(a==="image/gif")return d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a))return d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO);else return d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE)}function e(a,b,e,f){return{action_url:void 0,attachment_fbid:a,attachment_index:d("I64").zero,attachment_type:d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a,original_file_hash:void 0,playable_duration_ms:d("I64").of_float(e*1e3),playable_url:URL.createObjectURL(b),playable_url_mime_type:b.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,sampling_frequency_hz:f==null?void 0:f.sampling_freq,source_text:void 0,subtitle_text:void 0,title_text:void 0,waveform_data:f==null?void 0:(a=f.amplitudes)==null?void 0:a.join(","),xma_layout_type:void 0,xmas_template_type:void 0}}function f(a,b){a=a.map(function(a){return{action_url:void 0,attachment_fbid:a.offlineAttachmentId,attachment_index:d("I64").zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:a.filename,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a.offlineAttachmentId,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:a.previewUrl,playable_url_mime_type:a.mimeType,preview_height:a.previewHeight,preview_url:a.previewUrl,preview_url_mime_type:void 0,preview_width:a.previewWidth,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}});var e=[],f=[];a.forEach(function(a){d("I64").equal(a.attachment_type,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))&&!b?f.push(a):e.push([a])});f.length>0&&e.unshift(f);return e.map(function(a){return a.map(function(a,b){return babelHelpers["extends"]({},a,{attachment_index:d("I64").of_int32(b)})})})}g.startUpload=a;g.getAttachmentType=b;g.getAudioAttachment=e;g.createPartitionedAttachments=f}),98);/*FB_PKG_DELIM*/
__d("LSOptimisticSendAttachmentForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[1]=a[3]===""?f:a[3],d[1]!==f?c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],d[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===d[1]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(b){var d=b.update;b.item;return d({attachmentFbid:c.i64.to_string(a[7])})})},function(a){return d[0]=d[1]}]):c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],f,f,f,f,c.i64.cast([0,3]),f,f,f,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return c.ftr(c.db.table(16).fetch(),function(b){return b.attachmentFbid===c.i64.to_string(a[7])}).next().then(function(e,h){var i=e.done;e=e.value;return i?c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),c.i64.cast([0,2]),f,f,!0,!1):(h=e.item,c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),h.attachmentType,h.filename,h.attributionAppId,!0,!1)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[2],c.i64.to_string(a[7]),h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}]))})},function(a){return d[0]=d[2]}])},function(e){return c.seq([function(e){return d[2]=c.createArray(),d[4]=(d[2].push(a[7]),d[2]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[8],sendType:c.i64.cast([0,4]),markThreadRead:!1,initiatingSource:a[9]})}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticSendMessageForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[3],a[4],a[5]]]]),function(b){return c.i64.eq(b.threadKey,a[3])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.timestampMs,a[4])&&b.messageId===a[5]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}).next().then(function(e,h){var i=e.done;e=e.value;return i?(d[2]=c.createArray(),d[3]=(d[2].push("optimisticSendMessageForward msg not found"),d[2]),d[4]=(d[2].push(a[5]),d[2]),d[5]=c.toJSON(d[2]),function(a){c.logger(a).mustfix(a)}(d[5]),d[0]=""):(h=e.item,c.seq([function(e){return d[8]=h.forwardScore,d[2]=h.text,d[3]=d[8],c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],d[2],f,f,h.stickerId,h.hotEmojiSize,f,f,c.i64.cast([0,3]),f,d[3],f,!0).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(e){return c.fe(c.db.table(16).fetch([[[h.threadKey,h.messageId]]]),function(e){var h=e.item;return c.seq([function(e){return d[13]=h.attachmentFbid,d[9]=c.createArray(),d[10]=(d[9].push(d[13]),d[9]),d[11]=(d[9].push(d[4]),d[9]),d[12]=c.toJSON(d[9]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[5],d[4],d[13],d[12],h.attachmentType,h.filename,f,h.hasMedia,h.hasXma)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[4],d[12],h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}])})},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return f!==f?c.sp(b("LSPredefineTraceForTask"),f,d[6],c.i64.to_string(c.i64.cast([0,46])),d[4]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[6],threadKey:a[1],offlineThreadingId:d[4],messageId:a[5],threadAttributionSource:a[6],sendType:c.i64.cast([0,5]),markThreadRead:!1,initiatingSource:a[7]})},function(b){return d[9]=new c.Map(),d[10]=d[9].set("optimisticSendMessageForward",a[1]),d[11]=d[9].set("fwdMsgID",a[5]),d[12]=c.toJSON(d[9]),d[7]=d[12],function(a){c.logger(a).info(a)}(d[7]),d[0]=d[4]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("IGDSEmojiConstants",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._("__JHASH__VHC0VCJsTvE__JHASH__"),j=h._("__JHASH__l2KcVpjSAn2__JHASH__"),k=h._("__JHASH__IUaEGHAB0gl__JHASH__"),l=h._("__JHASH__zP1MgSFndq1__JHASH__"),m=h._("__JHASH__dHbrxmRVXR6__JHASH__"),n=h._("__JHASH__WvahIXJNL33__JHASH__"),o=h._("__JHASH__GAAKwU7atH-__JHASH__");a=h._("__JHASH__1aWijKWuvmZ__JHASH__");b=function(){return[[128514],[128558],[128525],[128546],[128079],[128293],[127881],[128175],[10084,65039],[129315],[129392],[128536],[128557],[128522]]};c=function(){var a=[[55357,56832],[55357,56835],[55357,56836],[55357,56833],[55357,56838],[55357,56837],[55358,56611],[55357,56834],[55357,56898],[55357,56899],[55357,56841],[55357,56842],[55357,56839],[55358,56688],[55357,56845],[55358,56617],[55357,56856],[55357,56855],[9786],[55357,56858],[55357,56857],[55357,56843],[55357,56859],[55357,56860],[55358,56618],[55357,56861],[55358,56593],[55358,56599],[55358,56621],[55358,56619],[55358,56596],[55358,56592],[55358,56616],[55357,56848],[55357,56849],[55357,56886],[55357,56847],[55357,56850],[55357,56900],[55357,56876],[55358,56613],[55357,56844],[55357,56852],[55357,56874],[55358,56612],[55357,56884],[55357,56887],[55358,56594],[55358,56597],[55358,56610],[55358,56622],[55358,56615],[55358,56693],[55358,56694],[55358,56692],[55357,56885],[55358,56623],[55358,56608],[55358,56691],[55357,56846],[55358,56595],[55358,56784],[55357,56853],[55357,56863],[55357,56897],[9785],[55357,56878],[55357,56879],[55357,56882],[55357,56883],[55358,56698],[55357,56870],[55357,56871],[55357,56872],[55357,56880],[55357,56869],[55357,56866],[55357,56877],[55357,56881],[55357,56854],[55357,56867],[55357,56862],[55357,56851],[55357,56873],[55357,56875],[55357,56868],[55357,56865],[55357,56864],[55358,56620],[55357,56840],[55357,56447],[55357,56448],[9760],[55357,56489],[55358,56609],[55357,56441],[55357,56442],[55357,56443],[55357,56445],[55357,56446],[55358,56598],[55357,56890],[55357,56888],[55357,56889],[55357,56891],[55357,56892],[55357,56893],[55357,56896],[55357,56895],[55357,56894],[55357,56459],[55357,56395],[55358,56602],[55357,56720],[9995],[55357,56726],[55357,56396],[9996],[55358,56606],[55358,56607],[55358,56600],[55358,56601],[55357,56392],[55357,56393],[55357,56390],[55357,56725],[55357,56391],[9757],[55357,56397],[55357,56398],[9994],[55357,56394],[55358,56603],[55358,56604],[55357,56399],[55357,56908],[55357,56400],[55358,56626],[55358,56605],[55357,56911],[9997],[55357,56453],[55358,56627],[55357,56490],[55358,56757],[55358,56758],[55357,56386],[55357,56387],[55358,56800],[55358,56759],[55358,56756],[55357,56384],[55357,56385],[55357,56389],[55357,56388],[55357,56438],[55358,56786],[55357,56422],[55357,56423],[55358,56785],[55357,56433],[55357,56424],[55358,56788],[55357,56424,8205,55358,56752],[55357,56424,8205,55358,56753],[55357,56424,8205,55358,56755],[55357,56424,8205,55358,56754],[55357,56425],[55357,56425,8205,55358,56752],[55357,56425,8205,55358,56753],[55357,56425,8205,55358,56755],[55357,56425,8205,55358,56754],[55357,56433,8205,9792,65039],[55357,56433,8205,9794,65039],[55358,56787],[55357,56436],[55357,56437],[55357,56909],[55357,56909,8205,9794,65039],[55357,56909,8205,9792,65039],[55357,56910],[55357,56910,8205,9794,65039],[55357,56910,8205,9792,65039],[55357,56901],[55357,56901,8205,9794,65039],[55357,56901,8205,9792,65039],[55357,56902],[55357,56902,8205,9794,65039],[55357,56902,8205,9792,65039],[55357,56449],[55357,56449,8205,9794,65039],[55357,56449,8205,9792,65039],[55357,56907],[55357,56907,8205,9794,65039],[55357,56907,8205,9792,65039],[55357,56903],[55357,56903,8205,9794,65039],[55357,56903,8205,9792,65039],[55358,56614],[55358,56614,8205,9794,65039],[55358,56614,8205,9792,65039],[55358,56631],[55358,56631,8205,9794,65039],[55358,56631,8205,9792,65039],[55357,56424,8205,9877,65039],[55357,56425,8205,9877,65039],[55357,56424,8205,55356,57235],[55357,56425,8205,55356,57235],[55357,56424,8205,55356,57323],[55357,56425,8205,55356,57323],[55357,56424,8205,9878,65039],[55357,56425,8205,9878,65039],[55357,56424,8205,55356,57150],[55357,56425,8205,55356,57150],[55357,56424,8205,55356,57203],[55357,56425,8205,55356,57203],[55357,56424,8205,55357,56615],[55357,56425,8205,55357,56615],[55357,56424,8205,55356,57325],[55357,56425,8205,55356,57325],[55357,56424,8205,55357,56508],[55357,56425,8205,55357,56508],[55357,56424,8205,55357,56620],[55357,56425,8205,55357,56620],[55357,56424,8205,55357,56507],[55357,56425,8205,55357,56507],[55357,56424,8205,55356,57252],[55357,56425,8205,55356,57252],[55357,56424,8205,55356,57256],[55357,56425,8205,55356,57256],[55357,56424,8205,9992,65039],[55357,56425,8205,9992,65039],[55357,56424,8205,55357,56960],[55357,56425,8205,55357,56960],[55357,56424,8205,55357,56978],[55357,56425,8205,55357,56978],[55357,56430],[55357,56430,8205,9794,65039],[55357,56430,8205,9792,65039],[55357,56693],[55357,56693,65039,8205,9794,65039],[55357,56693,65039,8205,9792,65039],[55357,56450],[55357,56450,8205,9794,65039],[55357,56450,8205,9792,65039],[55357,56439],[55357,56439,8205,9794,65039],[55357,56439,8205,9792,65039],[55358,56628],[55357,56440],[55357,56435],[55357,56435,8205,9794,65039],[55357,56435,8205,9792,65039],[55357,56434],[55358,56789],[55358,56629],[55357,56432],[55358,56624],[55358,56625],[55357,56444],[55356,57221],[55358,56630],[55358,56760],[55358,56760,8205,9794,65039],[55358,56760,8205,9792,65039],[55358,56761],[55358,56761,8205,9794,65039],[55358,56761,8205,9792,65039],[55358,56793],[55358,56793,8205,9794,65039],[55358,56793,8205,9792,65039],[55358,56794],[55358,56794,8205,9794,65039],[55358,56794,8205,9792,65039],[55358,56795],[55358,56795,8205,9794,65039],[55358,56795,8205,9792,65039],[55358,56796],[55358,56796,8205,9794,65039],[55358,56796,8205,9792,65039],[55358,56797],[55358,56797,8205,9794,65039],[55358,56797,8205,9792,65039],[55358,56798],[55358,56798,8205,9794,65039],[55358,56798,8205,9792,65039],[55358,56799],[55358,56799,8205,9794,65039],[55358,56799,8205,9792,65039],[55357,56454],[55357,56454,8205,9794,65039],[55357,56454,8205,9792,65039],[55357,56455],[55357,56455,8205,9794,65039],[55357,56455,8205,9792,65039],[55357,57014],[55357,57014,8205,9794,65039],[55357,57014,8205,9792,65039],[55356,57283],[55356,57283,8205,9794,65039],[55356,57283,8205,9792,65039],[55357,56451],[55357,56698],[55357,56692],[55357,56431],[55357,56431,8205,9794,65039],[55357,56431,8205,9792,65039],[55358,56790],[55358,56790,8205,9794,65039],[55358,56790,8205,9792,65039],[55358,56792],[55357,56429],[55357,56427],[55357,56428],[55357,56463],[55357,56424,8205,10084,65039,8205,55357,56459,8205,55357,56424],[55357,56425,8205,10084,65039,8205,55357,56459,8205,55357,56425],[55357,56465],[55357,56424,8205,10084,65039,8205,55357,56424],[55357,56425,8205,10084,65039,8205,55357,56425],[55357,56426],[55357,56424,8205,55357,56425,8205,55357,56422],[55357,56424,8205,55357,56425,8205,55357,56423],[55357,56424,8205,55357,56425,8205,55357,56423,8205,55357,56422],[55357,56424,8205,55357,56425,8205,55357,56422,8205,55357,56422],[55357,56424,8205,55357,56425,8205,55357,56423,8205,55357,56423],[55357,56424,8205,55357,56424,8205,55357,56422],[55357,56424,8205,55357,56424,8205,55357,56423],[55357,56424,8205,55357,56424,8205,55357,56423,8205,55357,56422],[55357,56424,8205,55357,56424,8205,55357,56422,8205,55357,56422],[55357,56424,8205,55357,56424,8205,55357,56423,8205,55357,56423],[55357,56425,8205,55357,56425,8205,55357,56422],[55357,56425,8205,55357,56425,8205,55357,56423],[55357,56425,8205,55357,56425,8205,55357,56423,8205,55357,56422],[55357,56425,8205,55357,56425,8205,55357,56422,8205,55357,56422],[55357,56425,8205,55357,56425,8205,55357,56423,8205,55357,56423],[55357,56424,8205,55357,56422],[55357,56424,8205,55357,56422,8205,55357,56422],[55357,56424,8205,55357,56423],[55357,56424,8205,55357,56423,8205,55357,56422],[55357,56424,8205,55357,56423,8205,55357,56423],[55357,56425,8205,55357,56422],[55357,56425,8205,55357,56422,8205,55357,56422],[55357,56425,8205,55357,56423],[55357,56425,8205,55357,56423,8205,55357,56422],[55357,56425,8205,55357,56423,8205,55357,56423],[55357,56803],[55357,56420],[55357,56421],[55357,56419],[55358,56819],[55356,57090],[9730],[55358,56821],[55358,56822],[55357,56403],[55357,56694],[55358,56701],[55358,56700],[55357,56404],[55357,56405],[55357,56406],[55358,56803],[55358,56804],[55358,56805],[55358,56806],[55357,56407],[55357,56408],[55357,56409],[55357,56410],[55357,56411],[55357,56412],[55357,56413],[55356,57234],[55357,56414],[55357,56415],[55358,56702],[55358,56703],[55357,56416],[55357,56417],[55357,56418],[55357,56401],[55357,56402],[55356,57257],[55356,57235],[55358,56802],[9937],[55357,56452],[55357,56461],[55357,56508]],b=[[55357,56904],[55357,56905],[55357,56906],[55357,56485],[55357,56491],[55357,56486],[55357,56488],[55357,56373],[55357,56338],[55358,56717],[55357,56374],[55357,56341],[55357,56361],[55357,56378],[55358,56714],[55358,56733],[55357,56369],[55357,56328],[55358,56705],[55357,56367],[55357,56325],[55357,56326],[55357,56372],[55357,56334],[55358,56708],[55358,56723],[55358,56716],[55357,56366],[55357,56322],[55357,56323],[55357,56324],[55357,56375],[55357,56342],[55357,56343],[55357,56381],[55357,56335],[55357,56337],[55357,56336],[55357,56362],[55357,56363],[55358,56729],[55358,56722],[55357,56344],[55358,56719],[55358,56731],[55357,56365],[55357,56321],[55357,56320],[55357,56377],[55357,56368],[55357,56327],[55357,56383],[55358,56724],[55358,56711],[55357,56379],[55357,56360],[55357,56380],[55358,56728],[55358,56737],[55357,56382],[55358,56707],[55357,56340],[55357,56339],[55357,56355],[55357,56356],[55357,56357],[55357,56358],[55357,56359],[55357,56650],[55358,56709],[55358,56710],[55358,56738],[55358,56713],[55358,56730],[55358,56732],[55357,56376],[55357,56330],[55357,56354],[55358,56718],[55357,56333],[55357,56370],[55357,56329],[55358,56725],[55358,56726],[55357,56371],[55357,56331],[55357,56364],[55357,56351],[55357,56352],[55357,56353],[55358,56712],[55357,56345],[55357,56346],[55357,56332],[55358,56715],[55357,56347],[55357,56348],[55357,56349],[55357,56350],[55358,56727],[55357,56695],[55357,56696],[55358,56706],[55358,56735],[55358,56736],[55357,56464],[55356,57144],[55357,56494],[55356,57333],[55356,57145],[55358,56640],[55356,57146],[55356,57147],[55356,57148],[55356,57143],[55356,57137],[55356,57138],[55356,57139],[55356,57140],[55356,57141],[55356,57150],[55356,57151],[9752],[55356,57152],[55356,57153],[55356,57154],[55356,57155],[55356,57156],[55356,57136],[55358,56704],[55358,56734],[55358,56720],[55358,56721],[55356,57101],[55356,57102],[55356,57103],[55356,57104],[55356,57105],[55356,57106],[55356,57107],[55356,57108],[55356,57109],[55356,57110],[55356,57111],[55356,57112],[55356,57113],[55356,57114],[55356,57115],[55356,57116],[9728],[55356,57117],[55356,57118],[11088],[55356,57119],[55356,57120],[9729],[9925],[9928],[55356,57124],[55356,57125],[55356,57126],[55356,57127],[55356,57128],[55356,57129],[55356,57130],[55356,57131],[55356,57132],[55356,57096],[9730],[9748],[9889],[10052],[9731],[9924],[9732],[55357,56613],[55357,56487],[55356,57098],[55356,57220],[10024],[55356,57227],[55356,57229]],c=[[55356,57159],[55356,57160],[55356,57161],[55356,57162],[55356,57163],[55356,57164],[55356,57165],[55358,56685],[55356,57166],[55356,57167],[55356,57168],[55356,57169],[55356,57170],[55356,57171],[55358,56669],[55356,57157],[55358,56677],[55358,56657],[55356,57158],[55358,56660],[55358,56661],[55356,57149],[55356,57142],[55358,56658],[55358,56684],[55358,56678],[55356,57156],[55358,56668],[55356,57136],[55356,57182],[55358,56656],[55358,56662],[55358,56680],[55358,56687],[55358,56670],[55358,56768],[55356,57174],[55356,57175],[55358,56681],[55358,56659],[55356,57172],[55356,57183],[55356,57173],[55356,57133],[55358,56682],[55356,57134],[55356,57135],[55358,56665],[55356,57203],[55358,56664],[55356,57202],[55358,56675],[55358,56663],[55356,57215],[55358,56770],[55358,56683],[55356,57201],[55356,57176],[55356,57177],[55356,57178],[55356,57179],[55356,57180],[55356,57181],[55356,57184],[55356,57186],[55356,57187],[55356,57188],[55356,57189],[55358,56686],[55356,57185],[55358,56671],[55358,56672],[55358,56673],[55356,57190],[55356,57191],[55356,57192],[55356,57193],[55356,57194],[55356,57218],[55356,57200],[55358,56769],[55358,56679],[55356,57195],[55356,57196],[55356,57197],[55356,57198],[55356,57199],[55356,57212],[55358,56667],[9749],[55356,57205],[55356,57206],[55356,57214],[55356,57207],[55356,57208],[55356,57209],[55356,57210],[55356,57211],[55358,56642],[55358,56643],[55358,56676],[55358,56674],[55356,57213],[55356,57204],[55358,56644]],d=[[55357,56692],[55358,56791],[55358,56791,8205,9794,65039],[55358,56791,8205,9792,65039],[55356,57287],[9975],[55356,57282],[55356,57292],[55356,57292,65039,8205,9794,65039],[55356,57292,65039,8205,9792,65039],[55356,57284],[55356,57284,8205,9794,65039],[55356,57284,8205,9792,65039],[55357,56995],[55357,56995,8205,9794,65039],[55357,56995,8205,9792,65039],[55356,57290],[55356,57290,8205,9794,65039],[55356,57290,8205,9792,65039],[9977],[9977,65039,8205,9794,65039],[9977,65039,8205,9792,65039],[55356,57291],[55356,57291,65039,8205,9794,65039],[55356,57291,65039,8205,9792,65039],[55357,57012],[55357,57012,8205,9794,65039],[55357,57012,8205,9792,65039],[55357,57013],[55357,57013,8205,9794,65039],[55357,57013,8205,9792,65039],[55358,56632],[55358,56632,8205,9794,65039],[55358,56632,8205,9792,65039],[55358,56636],[55358,56636,8205,9794,65039],[55358,56636,8205,9792,65039],[55358,56637],[55358,56637,8205,9794,65039],[55358,56637,8205,9792,65039],[55358,56638],[55358,56638,8205,9794,65039],[55358,56638,8205,9792,65039],[55358,56633],[55358,56633,8205,9794,65039],[55358,56633,8205,9792,65039],[55358,56792],[55358,56792,8205,9794,65039],[55358,56792,8205,9792,65039],[55356,57258],[55357,57081],[55356,57239],[55356,57247],[55356,57259],[55356,57238],[55356,57286],[55356,57285],[55358,56647],[55358,56648],[55358,56649],[9917],[9918],[55358,56654],[55356,57280],[55356,57296],[55356,57288],[55356,57289],[55356,57278],[55358,56655],[55356,57267],[55356,57295],[55356,57297],[55356,57298],[55358,56653],[55356,57299],[55356,57336],[55358,56650],[55358,56651],[9971],[9976],[55356,57251],[55356,57277],[55356,57279],[55357,57079],[55358,56652],[55356,57263],[55356,57265],[55356,57262],[55356,57264],[55356,57266],[55358,56809],[9823],[55356,57261],[55356,57256],[55358,56821],[55358,56822],[55356,57276],[55356,57252],[55356,57255],[55356,57271],[55356,57272],[55356,57273],[55356,57274],[55356,57275],[55358,56641],[55356,57260],[55356,57337]],e=[[55357,56995],[55357,56830],[55356,57300],[9968],[55356,57099],[55357,56827],[55356,57301],[55356,57302],[55356,57308],[55356,57309],[55356,57310],[55356,57311],[55356,57307],[55356,57303],[55356,57304],[55356,57306],[55356,57312],[55356,57313],[55356,57314],[55356,57315],[55356,57316],[55356,57317],[55356,57318],[55356,57320],[55356,57321],[55356,57322],[55356,57323],[55356,57324],[55356,57325],[55356,57327],[55356,57328],[55357,56466],[55357,56828],[55357,56829],[9962],[55357,56652],[55357,56653],[9961],[55357,56651],[9970],[9978],[55356,57089],[55356,57091],[55356,57305],[55356,57092],[55356,57093],[55356,57094],[55356,57095],[55356,57097],[55356,57248],[55356,57249],[55356,57250],[55357,56962],[55357,56963],[55357,56964],[55357,56965],[55357,56966],[55357,56967],[55357,56968],[55357,56969],[55357,56970],[55357,56989],[55357,56990],[55357,56971],[55357,56972],[55357,56973],[55357,56974],[55357,56976],[55357,56977],[55357,56978],[55357,56979],[55357,56980],[55357,56981],[55357,56982],[55357,56983],[55357,56984],[55357,56986],[55357,56987],[55357,56988],[55356,57294],[55356,57293],[55357,57077],[55357,57010],[55357,57076],[55357,56975],[55357,57060],[9981],[55357,57e3],[55357,56997],[55357,56998],[55357,56999],[9875],[9973],[55357,56996],[55357,57075],[9972],[55357,57061],[55357,56994],[9992],[55357,57065],[55357,57067],[55357,57068],[55357,56506],[55357,56961],[55357,56991],[55357,56992],[55357,56993],[55357,57072],[55357,56960],[55357,57080],[55356,57120],[55356,57100],[9969],[55356,57222],[55356,57223],[55356,57233],[55357,56500],[55357,56501],[55357,56502],[55357,56503],[55357,56831],[55357,57026],[55357,57027],[55357,57028],[55357,57029]],f=[[55357,56460],[55357,56691],[55357,56483],[55357,57024],[55357,57036],[55357,56618],[55356,57338],[55357,56826],[55358,56813],[55358,56817],[55357,56456],[55357,57058],[55357,57038],[55358,56819],[8987],[9203],[8986],[9200],[9201],[9202],[55357,56688],[55356,57121],[9969],[55358,56808],[55356,57224],[55356,57225],[55356,57226],[55356,57230],[55356,57231],[55356,57232],[55358,56807],[55356,57216],[55356,57217],[55357,56622],[55358,56831],[55357,56697],[55358,56824],[55357,56764],[55358,56821],[55358,56822],[55357,57037],[55357,56575],[55357,56462],[55357,56559],[55356,57241],[55356,57242],[55356,57243],[55357,56571],[55357,56561],[55357,56562],[9742],[55357,56542],[55357,56543],[55357,56544],[55357,56587],[55357,56588],[55357,56507],[55357,56741],[55357,56744],[9e3],[55357,56753],[55357,56754],[55357,56509],[55357,56510],[55357,56511],[55357,56512],[55358,56814],[55356,57253],[55356,57246],[55357,56573],[55357,56570],[55357,56567],[55357,56568],[55357,56569],[55357,56572],[55357,56589],[55357,56590],[55357,56687],[55357,56481],[55357,56614],[55356,57326],[55357,56532],[55357,56533],[55357,56534],[55357,56535],[55357,56536],[55357,56537],[55357,56538],[55357,56531],[55357,56515],[55357,56540],[55357,56516],[55357,56560],[55357,56798],[55357,56529],[55357,56598],[55356,57335],[55357,56496],[55357,56500],[55357,56501],[55357,56502],[55357,56503],[55357,56504],[55357,56499],[55358,56830],[9993],[55357,56551],[55357,56552],[55357,56553],[55357,56548],[55357,56549],[55357,56550],[55357,56555],[55357,56554],[55357,56556],[55357,56557],[55357,56558],[55357,56819],[9999],[10002],[55357,56715],[55357,56714],[55357,56716],[55357,56717],[55357,56541],[55357,56513],[55357,56514],[55357,56770],[55357,56517],[55357,56518],[55357,56786],[55357,56787],[55357,56519],[55357,56520],[55357,56521],[55357,56522],[55357,56523],[55357,56524],[55357,56525],[55357,56526],[55357,56711],[55357,56527],[55357,56528],[9986],[55357,56771],[55357,56772],[55357,56785],[55357,56594],[55357,56595],[55357,56591],[55357,56592],[55357,56593],[55357,56797],[55357,56616],[9935],[9874],[55357,57056],[55357,56801],[9876],[55357,56619],[55357,57057],[55357,56615],[55357,56617],[9881],[55357,56796],[9878],[55357,56599],[9939],[55358,56816],[55358,56818],[9879],[55358,56810],[55358,56811],[55358,56812],[55357,56620],[55357,56621],[55357,56545],[55357,56457],[55357,56458],[55357,57002],[55357,57039],[55357,57035],[55357,57021],[55357,57023],[55357,57025],[55358,56820],[55358,56823],[55358,56825],[55358,56826],[55358,56827],[55358,56828],[55358,56829],[55358,56815],[55357,57004],[9904],[9905],[55357,56831],[55357,57008]],g=[[55357,56472],[55357,56477],[55357,56470],[55357,56471],[55357,56467],[55357,56478],[55357,56469],[55357,56479],[10083],[55357,56468],[10084],[55358,56801],[55357,56475],[55357,56474],[55357,56473],[55357,56476],[55357,56740],[55357,56495],[55357,56482],[55357,56492],[55357,56385,65039,8205,55357,56808,65039],[55357,56815],[55357,56493],[55357,56484],[55357,56494],[9832],[55357,56456],[55357,57041],[55357,56667],[55357,56679],[55357,56656],[55357,56668],[55357,56657],[55357,56669],[55357,56658],[55357,56670],[55357,56659],[55357,56671],[55357,56660],[55357,56672],[55357,56661],[55357,56673],[55357,56662],[55357,56674],[55357,56663],[55357,56675],[55357,56664],[55357,56676],[55357,56665],[55357,56677],[55357,56666],[55357,56678],[55356,57088],[9824],[9829],[9830],[9827],[55356,56527],[55356,56324],[55356,57268],[55357,56583],[55357,56584],[55357,56585],[55357,56586],[55357,56546],[55357,56547],[55357,56559],[55357,56596],[55357,56597],[55356,57269],[55356,57270],[55356,57319],[55357,57006],[55357,57008],[9855],[55357,57017],[55357,57018],[55357,57019],[55357,57020],[55357,57022],[9888],[55357,57016],[9940],[55357,57003],[55357,57011],[55357,57005],[55357,57007],[55357,57009],[55357,57015],[55357,56606],[9762],[9763],[11014],[8599],[10145],[8600],[11015],[8601],[11013],[8598],[8597],[8596],[8617],[8618],[10548],[10549],[55357,56579],[55357,56580],[55357,56601],[55357,56602],[55357,56603],[55357,56604],[55357,56605],[55357,57040],[9883],[55357,56649],[10017],[9784],[9775],[10013],[9766],[9770],[9774],[55357,56654],[55357,56623],[9800],[9801],[9802],[9803],[9804],[9805],[9806],[9807],[9808],[9809],[9810],[9811],[9934],[55357,56576],[55357,56577],[55357,56578],[9654],[9193],[9664],[9194],[55357,56636],[9195],[55357,56637],[9196],[9209],[9167],[55356,57254],[55357,56581],[55357,56582],[55357,56566],[55357,56563],[55357,56564],[10006],[10133],[10134],[10135],[9854],[8252],[8265],[10067],[10068],[10069],[10071],[9851],[55357,56625],[55357,56539],[55357,56624],[11093],[9989],[9745],[10004],[10060],[10062],[10160],[10175],[12349],[10035],[10036],[10055],[169],[174],[8482],[35,65039,8419],[48,65039,8419],[49,65039,8419],[50,65039,8419],[51,65039,8419],[52,65039,8419],[53,65039,8419],[54,65039,8419],[55,65039,8419],[56,65039,8419],[57,65039,8419],[55357,56607],[55357,56608],[55357,56609],[55357,56610],[55357,56611],[55357,56612],[55356,56688],[55356,56718],[55356,56689],[55356,56721],[55356,56722],[55356,56723],[8505],[55356,56724],[9410],[55356,56725],[55356,56726],[55356,56702],[55356,56727],[55356,56703],[55356,56728],[55356,56729],[55356,56730],[55356,56833],[55356,56834],[55356,56887],[55356,56886],[55356,56879],[55356,56912],[55356,56889],[55356,56858],[55356,56882],[55356,56913],[55356,56888],[55356,56884],[55356,56883],[12951],[12953],[55356,56890],[55356,56885],[55357,56628],[55357,56629],[9899],[9898],[11035],[11036],[9724],[9723],[9726],[9725],[9642],[9643],[55357,56630],[55357,56631],[55357,56632],[55357,56633],[55357,56634],[55357,56635],[55357,56480],[55357,56627],[55357,56626]];return{SMILEYS_PEOPLE:{emojis:a,label:i},ANIMALS_NATURE:{emojis:b,label:j},FOOD_DRINK:{emojis:c,label:k},ACTIVITES:{emojis:d,label:l},TRAVEL_PLACES:{emojis:e,label:m},OBJECTS:{emojis:f,label:n},SYMBOLS:{emojis:g,label:o}}};g.EMOJI_TRAY_MOST_POPULAR=a;g.getMostPopularEmojis=b;g.getEmojis=c}),98);
__d("useIGDSEmojis",["IGDSEmojiConstants","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(){var a=h(d("IGDSEmojiConstants").getMostPopularEmojis,[]),b=h(d("IGDSEmojiConstants").getEmojis,[]);return{Emojis:b,mostPopularEmojis:a}}g["default"]=a}),98);
__d("IGDSEmojiTray.react",["BaseButton.react","IGDSBox.react","IGDSEmoji.react","IGDSEmojiConstants","IGDSText.react","MessengerWebUXLogger","react","useIGDSEmojis"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={emoji:{alignItems:"x6s0dn4",fontSize:"x579bpy",fontWeight:"x1fcty0u",height:"x10w6t97",justifyContent:"xl56j7k",width:"x1td3qas",$$css:!0},emojiButton:{color:"x173jzuc",height:"x10w6t97",lineHeight:"xggjnk3",marginTop:"x1k70j0n",marginEnd:"x1w0mnb",marginBottom:"xzueoph",marginStart:"x1mnrxsn",textAlign:"x2b8uid",userSelect:"x87ps6o",width:"x1td3qas",":active_opacity":"x1d5wrs8",$$css:!0}};function j(a){a=a.headerText;return h.jsx(c("IGDSBox.react"),{marginBottom:2,marginEnd:2,marginStart:2,marginTop:4,width:"100%",children:h.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",textAlign:"start",children:a})})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b=a.emoji,d=a.emojiCodePoint,e=a.onClick;return h.jsx(c("BaseButton.react"),{onClick:function(){e!=null&&e(d)},xstyle:i.emojiButton,children:h.jsx("div",{className:"x6s0dn4 x579bpy x1fcty0u x10w6t97 xl56j7k x1td3qas",children:h.jsx(c("IGDSEmoji.react"),{emoji:b})})})}k.displayName=k.name+" [from "+f.id+"]";var l=309,m=309;function a(a){var b=a.height;b=b===void 0?l:b;var e=a.onClick;a=a.width;a=a===void 0?m:a;var f=c("useIGDSEmojis")(),g=f.Emojis;f=f.mostPopularEmojis;var i=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"emoji_picker_rendered"}),n=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),o=function(a){e!=null&&(n==null?void 0:n({eventName:"emoji_pick"}),e(a))};return h.jsx(c("IGDSBox.react"),{containerRef:i,height:b,margin:2,overflow:"scrollY",width:a,children:h.jsxs(c("IGDSBox.react"),{direction:"row",wrap:!0,children:[h.jsx(c("IGDSBox.react"),{margin:2,width:"100%",children:h.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",textAlign:"start",children:d("IGDSEmojiConstants").EMOJI_TRAY_MOST_POPULAR})}),f.map(function(a){var b=String.fromCodePoint.apply(String,a);return h.jsx(k,{emoji:b,emojiCodePoint:a,onClick:o},b)}),Object.keys(g).map(function(a){var b=g[a],c=b.emojis;b=b.label;return h.jsxs(h.Fragment,{children:[h.jsx(j,{headerText:b}),c.map(function(a){var b=String.fromCodePoint.apply(String,a);return h.jsx(k,{emoji:b,emojiCodePoint:a,onClick:o},b)})]},a)})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDComposerEmojiPicker.react",["IGDSEmojiTray.react","IGDSPopover.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a.onClose;var b=a.onSelect;a=h.jsx("div",{className:"xz9dl7a xj6ak53",children:h.jsx(c("IGDSEmojiTray.react"),{onClick:function(a){b(a)},width:"auto"})});return h.jsx(c("IGDSPopover.react"),{popoverContent:a,popoverName:"emojiTray",withArrow:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageEmojiPicker.react",["CometPopover.react","IGDSEmojiTray.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose,d=a.onSelect;a=function(a){d(a);return b()};return h.jsx(c("CometPopover.react"),{arrowAlignment:"edge",withArrow:!0,children:h.jsx(c("IGDSEmojiTray.react"),{onClick:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageCopyButton.react",["fbt","Clipboard","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","MWPActor.react","MessengerWebUXLogger","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("MWLogMessageAction").__setRef("IGDMessageCopyButton.react");function a(a){var b=a.message,e=a.onClose,f=c("useReStore")(),g=d("MWPActor.react").useActor(),k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),l=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId();a=function(){var a;k==null?void 0:k({eventName:"message_copy",flowInstanceId:l.current});d("Clipboard").copy((a=b.text)!=null?a:"");e();j.onReady(function(a){return c("promiseDone")(a.log(f,b.messageId,b.threadKey,"message_dot_menu","copy",void 0,void 0,void 0,b.senderId,void 0,g))})};return i.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__3LRiqsZl3CP__JHASH__"),onClick:a,role:"menuitem",variant:"white_link"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatInteractionLog.bs",["QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b){var d=Date.now()|0;h.set(b,d);c("QPLUserFlow").start(a,{cancelOnUnload:!0,instanceKey:d,timeoutInMs:6e4})}function b(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endFailure(a,d,{instanceKey:b});return}}function d(a,b){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endSuccess(a,{instanceKey:b});return}}function e(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").addPoint(a,d,{instanceKey:b});return}}g.logStartUserFlow=a;g.logFailUserFlow=b;g.logSuccessUserFlow=d;g.logPointUserFlow=e}),98);
__d("MercuryIDs",["gkx"],(function(a,b,c,d,e,f){"use strict";var g={isValid:function(a){return a==null||a===""||typeof a!=="string"?!1:/^\w{3,12}:.+/.test(a)},isValidThreadID:function(a){if(!g.isValid(a))return!1;a=g.tokenize(a);switch(a.type){case"user":case"support":case"thread":case"root":return!0;default:return(a.type==="pending"||a.type==="group")&&!b("gkx")("863760")?!0:!1}},tokenize:function(a){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var b=a.indexOf(":");return{type:a.substr(0,b),value:a.substr(b+1)}},getUserIDFromParticipantID:function(a){if(!g.isValid(a))throw new Error("bad_id_format "+a);a=g.tokenize(a);var b=a.type;a=a.value;return b==="fbid"?a:null},getParticipantIDFromUserID:function(a){if(isNaN(a))throw new Error("Not a user ID: "+a);return"fbid:"+a},getUserIDFromThreadID:function(a){return!this.isCanonical(a)?null:this.tokenize(a).value},getThreadIDFromUserID:function(a){return"user:"+a},getThreadIDFromThreadFBID:function(a){return"thread:"+a},getThreadIDFromSupportInboxItemID:function(a){return"support:"+a},getThreadFBIDFromThreadID:function(a){return this.tokenize(a).value},getThreadKeyfromThreadIDUserID:function(a,b){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var c=this.tokenize(a).type;a=this.tokenize(a).value;if(c!=="user")return"g"+a;c="";var d="";if(a.length!==b.length)a.length>b.length?(c=a,d=b):(c=b,d=a);else if(b===a)return b+"u"+a;else{var e=0;while(e<a.length&&e<b.length)if(a[e]===b[e])e++;else{a[e]>b[e]?(c=a,d=b):(c=b,d=a);break}}return d+"u"+c},getThreadIDFromParticipantID:function(a){a=this.getUserIDFromParticipantID(a);return a?this.getThreadIDFromUserID(a):null},getParticipantIDFromFromThreadID:function(a){a=this.getUserIDFromThreadID(a);return a?this.getParticipantIDFromUserID(a):null},getSupportInboxItemIDFromThreadID:function(a){return this.tokenize(a).value},isCanonical:function(a){return this.isValid(a)&&this.tokenize(a).type==="user"},isGroupChat:function(a){return this.isValid(a)&&this.tokenize(a).type!=="user"},isLocalThread:function(a){return this.isValid(a)&&this.tokenize(a).type==="root"}};e.exports=g}),null);
__d("MWChatThreadId",["LSIntEnum","MercuryIDs","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.NAME){case"Group":return d("MercuryIDs").getThreadIDFromThreadFBID(a.VAL);case"User":return d("MercuryIDs").getThreadIDFromUserID(a.VAL);case"Page":return d("MercuryIDs").getThreadIDFromUserID(a.VAL);case"UserSecret":throw c("unrecoverableViolation")("Not supported","messenger_web_product")}}function b(a){switch(a.NAME){case"Group":case"User":case"Page":case"UserSecret":return a.VAL}}function e(a){switch(a.NAME){case"Group":return"g."+a.VAL;case"Page":return"p."+a.VAL;case"User":return"u."+a.VAL;case"UserSecret":throw c("unrecoverableViolation")("Not supported","messenger_web_product")}}function f(a){switch(a.targetType){case"GROUP":return{NAME:"Group",VAL:a.targetID};case"PAGE":return{NAME:"Page",VAL:a.targetID};case"USER":return{NAME:"User",VAL:a.targetID};default:throw c("unrecoverableViolation")("Invalid id","messenger_web_product")}}function h(a){return a.NAME==="User"}function i(a){return a.NAME==="UserSecret"}function j(a){if(a==null)return;a=a.split(":");if(a.length!==2)return;var b=a[0];a=a[1];switch(b){case"thread":return{NAME:"Group",VAL:a};case"user":return{NAME:"User",VAL:a};default:return}}function k(a){a=a.NAME;if(a==="Group")return d("LSIntEnum").ofNumber(2);return a==="User"||a==="Page"?d("LSIntEnum").ofNumber(1):d("LSIntEnum").ofNumber(7)}g.getMercuryID=a;g.getFBID=b;g.serializeFuture=e;g.fromJs=f;g.isUser=h;g.isSecret=i;g.deserializeFromLegacyThreadId=j;g.getMessagingThreadType=k}),98);
__d("MWThread_DEPRECATED.bs",["FBLogger","I64","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react"),i=h.createContext,j=h.createElement,k=h.useContext,l=i();function a(){if(c("gkx")("7530")){var a=c("FBLogger")("work_web_messaging");a.blameToPreviousFile();a.mustfix("MWThread_DEPRECATED useId usage in Workplace")}return k(l)}function m(){if(c("gkx")("7530")){var a=c("FBLogger")("work_web_messaging");a.blameToPreviousFile();a.mustfix("MWThread_DEPRECATED useIdExn usage in Workplace")}a=k(l);if(a==null)throw c("unrecoverableViolation")("This hook can only be used in a component wrapped with a MWThread_DEPRECATED provider","messenger_e2ee_web");return a}function b(a){return d("I64").of_string(a.VAL)}function e(){return m().VAL}function n(a){return a.VAL}function o(a){var b=a.children;a=a.id;var d=k(l);if(d!=null)throw c("unrecoverableViolation")("You can't nest MWThread in another MWThread_DEPRECATED. This will cause SEVs as things might think they're in the wrong thread","messenger_web_product");return j(l.Provider,{children:b,value:a})}o.displayName=o.name+" [from "+f.id+"]";g.context=l;g.useId=a;g.useIdExn=m;g.toThreadKey=b;g.useFBID=e;g.key=n;g.MWThread_DEPRECATED=o}),98);
__d("useGetForwardSource",["LSIntEnum","LSMessagingThreadAttributionType","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a!=null)if(a==="Inbox")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_FORWARD);else if(a==="ChatTab")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_FORWARD);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_BROADCAST_FLOW);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_BROADCAST_FLOW)}g["default"]=a}),98);
__d("WorkChatMessageType",[],(function(a,b,c,d,e,f){"use strict";a="text";b="gif";c="sticker";d="audio";e="file";f.text=a;f.gif=b;f.sticker=c;f.audio=d;f.file=e}),66);
__d("getMWReplySourceId",["MWChatMessageId"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return;return d("MWChatMessageId").getMessageId(a.content._0.messageID)}g["default"]=a}),98);
__d("useMWLSSendStickerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2","LSShape","LSThreadAttributionTypeUtil.bs","MWPActor.react","MWThread_DEPRECATED.bs","MessagePowerUp","WorkChatMessageType","getMWReplySourceId","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(h,i,j,k){c("promiseDone")(f.runInTransaction(function(e){var f,l=d("MWThread_DEPRECATED.bs").toThreadKey(h);f=d("LSThreadAttributionTypeUtil.bs").getSource(l,(f=a)!=null?f:"unknown");return c("LSOptimisticSendMessageV2")(g,l,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),void 0,void 0,d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:b,mark_read:!0,optimistic_attachment_preview:d("LSShape").ofRecord({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:d("I64").zero,preview_url:k,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:d("I64").zero}),power_up_style:d("LSIntEnum").ofNumber(c("MessagePowerUp").NONE),reply_source_id:c("getMWReplySourceId")(j),reply_source_type:d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE),reply_source_type_v2:d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),snippet_has_emoji:!1,source:f,sticker_id:d("I64").of_string(i)}),c("LSFactory")(e))},"readwrite").then(function(a){e==null?void 0:e(d("WorkChatMessageType").sticker,1,a[0])}))},[f,g,b,a,e])}g["default"]=a}),98);
__d("MWLSForwardMessage.bs",["I64","Int64Hooks","LSFactory","LSMediaUrl.bs","LSOptimisticSendAttachmentForward","LSOptimisticSendMessageForward","MWChatInteractionLog.bs","MWChatThreadId","MWPActor.react","MWThread_DEPRECATED.bs","ODS","Promise","ReQL","promiseDone","qpl","useGetForwardSource","useLSMessagingInitiatingSource","useLSMessagingSource","useMWLSSendStickerMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),e=d("MWPActor.react").useActor(),f=c("useLSMessagingInitiatingSource")(),g=c("useGetForwardSource")(),h=c("useLSMessagingSource")(),i=c("useMWLSSendStickerMessage")(h,f);return d("Int64Hooks").useCallbackInt64(function(h,j){if(j.type!=="sent")return;var k=d("MWChatThreadId").getMessagingThreadType(h),l=d("MWThread_DEPRECATED.bs").toThreadKey(h);j=j.value;var m=j.timestamp,n=j.messageId,o=j.threadId;d("ODS").bumpEntityKey(3185,"mw_forward","send");d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),n,"sending");var p=function(){return a.runInTransaction(function(a){return c("LSOptimisticSendMessageForward")(e,l,k,o,m,n,g,f,c("LSFactory")(a))},"readwrite").then(function(){})};c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("messages")).getKeyRange(o,m,n)).then(function(c){if(c==null)return p();var e=c.stickerId;if(e!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(o,n)).then(function(a){a=a!=null?d("LSMediaUrl.bs").Attachment.previewUrl(a):void 0;i(h,d("I64").to_string(e),void 0,a);return b("Promise").resolve()});else return p()}),function(){d("ODS").bumpEntityKey(3185,"mw_forward","success");return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),n)},function(){d("ODS").bumpEntityKey(3185,"mw_forward","failure");return d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),n,"ls_error")});return},[a,e,f,g,i])}function e(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=c("useLSMessagingInitiatingSource")(),f=c("useGetForwardSource")();return d("Int64Hooks").useMemoInt64(function(){return function(g,h,i){d("ODS").bumpEntityKey(3185,"mw_forward","send");i!=null&&d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),i,"sending");var j=d("MWChatThreadId").getMessagingThreadType(g),k=d("MWThread_DEPRECATED.bs").toThreadKey(g);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendAttachmentForward")(b,k,j,void 0,void 0,void 0,void 0,d("I64").of_string(h),f,e,c("LSFactory")(a))},"readwrite"),function(){d("ODS").bumpEntityKey(3185,"mw_forward","success");if(i!=null)return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),i)},function(){i!=null&&d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),i,"ls_error"),d("ODS").bumpEntityKey(3185,"mw_forward","failure")})}},[a,b,e,f])}g.useForwardMessage=a;g.useForwardAttachment=e}),98);
__d("MWQPLMarkers",[],(function(a,b,c,d,e,f){"use strict";a={BEFORE_CREATE_OPTIMISTIC_MESSAGE:"before_create_optimistic_message",CREATE_OPTIMISTIC_MESSAGE_SUCCESS:"create_optimistic_message_success",CREATED_THREAD_FOR_XMA_SHARE:"created_thread_for_xma_share",FAIL_FORWARDING_MESSAGE:"fail_forwarding_message",FAILED_MEDIA_MISSING_THREAD:"failed_media_missing_thread",FAILED_MEDIA_MSGID_MISSING_IN_DB:"failed_media_msgid_missing_in_db",FAILED_MEDIA_UNSUPPORTED_TYPE:"failed_media_unsupported_type",FAILED_MESSAGE_MISSING_THREAD:"failed_message_missing_thread",FAILED_MISSING_ASSOCIATED_MESSAGE_IN_DB:"failed_missing_associated_message_in_db",FAILED_MISSING_THREAD_IN_DB:"failed_missing_thread_in_db",FAILED_MISSING_THREAD_IN_WRITING_XMA:"failed_missing_thread_in_writing_xma",FAILED_MISSING_XMA_MESSAGE_IN_DB:"failed_missing_xma_message_in_db",FAILED_TO_FETCH_BLOB_FOR_XMA_SHARE:"failed_to_fetch_blob_for_xma_share",FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE:"failed_to_fetch_chat_jid_for_xma_share",FAILED_TO_FETCH_QUERY_DATA_FOR_XMA_SHARE:"failed_to_fetch_query_data_for_xma_share",FAILED_TO_FETCH_THREAD_KEY_FOR_XMA_SHARE:"failed_to_fetch_thread_key_for_xma_share",FAILED_TO_PARSE_JSON_FOR_XMA_SHARE:"failed_to_parse_json_for_xma_share",FAILED_UPLOAD_MEDIA_TO_BACKEND:"failed_upload_media_to_backend",FETCHING_DEVICES_FOR_XMA_SHARE:"fetching_devices_for_xma_share",FORWARDED_MESSAGE_WRITTEN:"forwarded_message_written",GET_EXTERNAL_LINK_RESPONSE_SUCCESS:"get_external_link_response_success",MESSAGE_ALREADY_SENT_TO_BACKEND:"message_already_sent_to_backend",MISSING_XMA_DATA:"missing_xma_data",PREVIEW_DOES_NOT_EXIST:"preview_does_not_exist",PREVIEW_FAVICON_SPEC_READY:"preview_favicon_spec_ready",RECEIVED_FAILURE_SERVER_ACK:"received_failure_server_ack",RECEIVED_MEDIA_IN_WAJOB:"received_media_in_wajob",RECEIVED_MESSAGE_IN_WAJOB:"received_message_in_wajob",RECEIVED_SUCCESSFUL_SERVER_ACK:"received_successful_server_ack",RETURN_PRIVATE_XMA_DATA:"return_private_xma_data",RETURN_PUBLIC_XMA_DATA:"return_public_xma_data",SAVED_XMA_CONTENT_IN_DB:"saved_xma_content_in_db",SAVING_XMA_UPLOAD_RESULT_IN_DB:"saving_xma_upload_result_in_db",SEND_MESSAGE_TO_BACKEND_FAILED:"send_message_to_backend_failed",START_POST_SHARING:"start_post_sharing",START_STORY_REPLY:"start_story_reply",SUCCESSFUL_MESSAGE_SENT_TO_BACKEND:"successful_message_sent_to_backend",SUCCESSFUL_UPLOAD_MEDIA_TO_BACKEND:"successful_upload_media_to_backend",UPLOADING_MEDIA_TO_BACKEND:"uploading_media_to_backend",WRITING_MEDIA_TO_DB_FAILED:"writing_media_to_db_failed",WRITING_MESSAGE_TO_DB:"writing_message_to_db",WRITING_XMA_TO_DB:"writing_xma_to_db",XMA_DATA_FETCH_BEGIN:"xma_data_fetch_begin",XMA_DATA_FETCH_SUCCESS:"xma_data_fetch_success",XMA_DATA_QUERY_BEGIN:" xma_data_query_begin",XMA_DATA_QUERY_COMPLETE:"xma_data_query_complete"};f.MESSAGE_SEND_TO_SENT=a}),66);
__d("useMWV2ForwardMessage",["$InternalEnum","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWDbMsg","MAWThreadId","MAWVerifyThreadCutover","MWChatMessageId","MWLSForwardMessage.bs","MWPActor.react","MWQPLMarkers","MWSharedMsgLogUtils","MWThread_DEPRECATED.bs","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","cr:338","cr:4950","cr:6090","cr:6938","promiseDone","unrecoverableViolation","useGetForwardSource","useMAWSendToSentQPLLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=b.threadKey;return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(c)},[a,c],f.id+":54")}function i(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b))}function j(a,b,c){return d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b),d("ReQL").fromTableAscending(a.table("contacts"))).filter(function(a){a[0];a=a[1];return!d("I64").equal(a.id,c)}))}function k(a,b){var c=b.messageId,e=b.threadKey;return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(e,c)},[a,c,e],f.id+":83")}var l=b("$InternalEnum")({SecureToOpen:"secure_to_open",OpenToOpen:"open_to_open",SecureToSecure:"secure_to_secure",OpenToSecure:"open_to_secure"});function a(a){var e=c("useReStore")(),f=h(e,a),g=k(e,a),m=d("LSMessagingThreadTypeUtil").isSecure(f.threadType),n=d("MWPActor.react").useActor(),o=!d("I64").equal(n,a.senderId),p=d("MWLSForwardMessage.bs").useForwardMessage(),q=c("useGetForwardSource")(),r=d("MWChatMessageId").makeSent(d("I64").to_string(a.threadKey),a.messageId,d("I64").to_string(a.timestampMs)),s=c("useMAWSendToSentQPLLogger")(),t=s.addSendToSentAnnotations,u=s.markSendToSentFail,v=s.markSendToSentStart,w=s.markSendToSentSuccess,x=s.markSentToSentPoint,y=d("Int64Hooks").useCallbackInt64(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){var h=d("MWThread_DEPRECATED.bs").toThreadKey(f),k=(yield d("MAWVerifyThreadCutover").verifyThreadCutover(b("Promise").resolve(e),h)),m=v();h=(yield b("Promise").all([d("MAWThreadId").isSecureThreadId(e,h),i(e,h),j(e,h,n),d("MAWThreadId").getThreadFromJid(e,h)]));var p=h[0],r=h[1],s=h[2];h=h[3];var y=d("MWSharedMsgLogUtils").getMessageTypeParams();h!=null&&c("promiseDone")(d("MWSharedMsgLogUtils").getSharedMetadataForQPLUserFlow(h,y,q),function(a){a.string=babelHelpers["extends"]({},a.string,{attachment_type:"forward",message_type:"forward"}),t(m,a)});h=p||k;try{if(b("cr:6938")!=null&&!h){t(m,{string:{forward_type:l.SecureToOpen}});yield b("cr:6938").forwardMessage(e,f,a,o,g,n,q);w(m);return}y=d("MAWDbMsg").toMsgId(a.messageId);if(y==null)throw c("unrecoverableViolation")("Message does not have an id","messenger_web_product");if(b("cr:338")!=null){t(m,{string:{forward_type:l.SecureToSecure}});if(b("cr:6090")!=null&&r!=null){b("cr:338").forwardMessage(e,f,y,q,(p=m)!=null?p:void 0);w(m);return b("cr:6090")(e,r,s,d("LSMessagingThreadTypeUtil").isOneToOne(r.threadType))}b("cr:338").forwardMessage(e,f,y,q,(k=m)!=null?k:void 0);w(m);return}throw c("unrecoverableViolation")("We won't reach to this step, if you are in QE, you should use secure forward","messenger_web_product")}catch(a){x(m,d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAIL_FORWARDING_MESSAGE);u(m,a);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("MW Fail forwarding a message");throw a}});return function(a){return f.apply(this,arguments)}}(),[e,v,n,q,t,a,o,g,w,x,u]),z=d("Int64Hooks").useCallbackInt64(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(h){var k=d("MWThread_DEPRECATED.bs").toThreadKey(h);k=(yield b("Promise").all([d("MAWThreadId").isSecureThreadId(e,k),i(e,k),j(e,k,n),d("MAWVerifyThreadCutover").verifyThreadCutover(b("Promise").resolve(e),k),d("MAWThreadId").getThreadFromJid(e,k)]));var m=k[0],s=k[1],y=k[2],z=k[3];k=k[4];m=m||z;var A=v();z=d("MWSharedMsgLogUtils").getMessageTypeParams();k!=null&&c("promiseDone")(d("MWSharedMsgLogUtils").getSharedMetadataForQPLUserFlow(k,z,q),function(a){a.string=babelHelpers["extends"]({},a.string,{attachment_type:"forward",message_type:"forward"}),t(A,a)});try{if(b("cr:4950")!=null&&m){t(A,{string:{forward_type:l.OpenToSecure}});if(b("cr:6090")!=null&&s!=null){b("cr:4950").forwardMessage(e,h,f,a,o,g,q,(k=A)!=null?k:void 0);w(A);return b("cr:6090")(e,s,y,d("LSMessagingThreadTypeUtil").isOneToOne(s.threadType))}else{b("cr:4950").forwardMessage(e,h,f,a,o,g,q,(z=A)!=null?z:void 0);w(A);return}}t(A,{string:{forward_type:l.OpenToOpen}});p(h,r);w(A);return}catch(a){x(A,d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAIL_FORWARDING_MESSAGE);u(A,a);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("MW Fail forwarding a message");throw a}});return function(a){return h.apply(this,arguments)}}(),[t,e,p,o,u,v,w,x,g,a,r,n,q,f]);return d("Int64Hooks").useMemoInt64(function(){return m?y:z},[m,y,z])}g["default"]=a}),98);
__d("IGDMessageForwardButton.react",["fbt","CometLazyDialogTrigger.react","IGDContactSearchDialogType.flow","IGDSButton.react","IGDSDialogPlaceholder.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","MessengerWebUXLogger","Promise","asyncToGeneratorRuntime","react","useMWV2ForwardMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("JSResourceForInteraction")("IGDAWOminipickerDialog.react").__setRef("IGDMessageForwardButton.react");function k(a){switch(a.type){case"thread":return{NAME:"Group",VAL:a.candidate.id};case"user":return{NAME:"User",VAL:a.candidate.id}}}function a(a){a=a.message;var e=c("useMWV2ForwardMessage")(a);a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=Array.from(a.values()).map(function(a){return e(k(a))});yield b("Promise").allSettled(a)});return function(b){return a.apply(this,arguments)}}();var f=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),g=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),l=function(a){f==null?void 0:f({eventName:"message_forward",flowInstanceId:g.current}),a()};return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{includeGroup:!0,maxRecipients:5,onSubmit:a,searchType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.FORWARD_MESSAGE,submitButtonLabel:h._("__JHASH__Mg5C78xztSX__JHASH__").toString(),titleLabel:h._("__JHASH__vSmnaQ11N0G__JHASH__").toString()},dialogResource:j,fallback:function(a){return i.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})},children:function(a){return i.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",label:h._("__JHASH__YherSGbeO3h__JHASH__"),onClick:function(){return l(a)},role:"menuitem",variant:"white_link"})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageReportButton.react",["fbt","CometLazyDialogTrigger.react","IGDSButton.react","MWPActor.react","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("MWLogMessageAction").__setRef("IGDMessageReportButton.react");function a(a){var b=a.dialogProps,e=a.dialogResource,f=a.message,g=a.setReportDialogOpen,k=d("MWPActor.react").useActor(),l=c("useReStore")(),m=h._("__JHASH__iy-oX7MfwVR__JHASH__");return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:b,dialogResource:e,children:function(a){return i.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",label:m,onClick:function(){g(!0),a(),j.onReady(function(a){return c("promiseDone")(a.log(l,f.messageId,f.threadKey,"message_dot_menu","report",void 0,void 0,void 0,f.senderId,void 0,k))})},role:"menuitem",variant:"white_link"})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageUnsendButton.react",["fbt","CometLazyDialogTrigger.react","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","MessengerWebUXLogger","PolarisDirectLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("JSResourceForInteraction")("IGDMessageUnsendDialog.react").__setRef("IGDMessageUnsendButton.react");function a(a){var b=a.message,e=a.setUnsendDialogOpen,f=h._("__JHASH__H8A15z0PXSW__JHASH__"),g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),k=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),l=function(a){g==null?void 0:g({eventName:"message_unsend",flowInstanceId:k.current}),a(),e(!0),d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","direct_delete_message_attempt")};return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{message:b,onClose:function(){return e(!1)}},dialogResource:j,children:function(a){return i.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",label:f,onClick:function(){return l(a)},role:"menuitem",variant:"white_link"})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDBroadcastChannelImpressionLoggerWithCheck",["MWCMThreadTypes.react","promiseDone","react","useIGDBroadcastChannelLogger","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b,e){var f=c("useIGDBroadcastChannelLogger")(a);a=h(function(){b!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(b)&&c("promiseDone")(f(e))},[b,f,e]);return c("useSinglePartialViewImpression")({onImpressionStart:a})}g["default"]=a}),98);
__d("IGDMessageMoreMenuPopover.react",["BaseTheme.react","CometPopover.react","FocusGroup.react","I64","IGDBroadcastChannelLoggingShapes","IGDMessageCopyButton.react","IGDMessageForwardButton.react","IGDMessageReportButton.react","IGDMessageUnsendButton.react","JSResourceForInteraction","MWPActor.react","PolarisDirectLogger","ReQL","ReQLSuspense","WebUXLoggingSurfaceContextProvider","focusScopeQueries","getLSMediaContactProfilePictureUrl","qex","react","useIGDBroadcastChannelImpressionLoggerWithCheck","usePolarisAnalyticsContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b={"card-background":"black"};e={"card-background":"black"};var i={dark:e,light:b,type:"VARIABLES"};e=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var j=e[0],k=e[1];function a(a){var b=a.isCopyable,e=a.isForwardable,g=a.isGroup,l=a.isMessageRequest,m=a.isReportable,n=a.isSecure,o=a.isUnsendable,p=a.message,q=a.onClose,r=a.setReportDialogOpen,s=a.setUnsendDialogOpen;a=a.threadSubType;var t=d("MWPActor.react").useActor(),u=c("useReStore")();e=e&&!l?h.jsx(k,{children:h.jsx("div",{className:"x1e558r4 x150jy0e",role:"none",children:h.jsx(c("IGDMessageForwardButton.react"),{message:p})})}):null;b=b?h.jsx(k,{children:h.jsx("div",{className:"x1e558r4 x150jy0e",role:"none",children:h.jsx(c("IGDMessageCopyButton.react"),{message:p,onClose:q})})}):null;q=c("useIGDBroadcastChannelImpressionLoggerWithCheck")(p.threadKey,a,d("IGDBroadcastChannelLoggingShapes").MESSAGE_OPTIONS_RENDERED_SHAPE);d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectMessageOptionsDialogDesktop","direct_tooltip_options_click");a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.table("contacts")).getKeyRange(p.senderId)},[u,p.senderId],f.id+":109");var v=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.table("ig_thread_info")).getKeyRange(p.threadKey)},[u,p.threadKey],f.id+":116"),w=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.table("mailbox_metadata")).getKeyRange(t)},[u,t],f.id+":123"),x=c("usePolarisAnalyticsContext")()+"WWW",y=null;if(w&&m&&a){a={onClose:function(){r(!1)},profilePicUrl:c("getLSMediaContactProfilePictureUrl")(a),senderId:d("I64").to_string(p.senderId),username:(m=a.secondaryName)!=null?m:""};m=(m=c("qex")._("673"))!=null?m:!1;n&&m?y=h.jsx(k,{children:h.jsx("div",{className:"x1e558r4 x150jy0e",children:h.jsx(c("IGDMessageReportButton.react"),{dialogProps:babelHelpers["extends"]({},a,{isGroup:g,messageId:p.messageId,threadId:d("I64").to_string(p.threadKey)}),dialogResource:c("JSResourceForInteraction")("PolarisDirectReportingEncryptedMessageModal").__setRef("IGDMessageMoreMenuPopover.react"),message:p,setReportDialogOpen:r})})}):v&&(y=h.jsx(k,{children:h.jsx("div",{className:"x1e558r4 x150jy0e",children:h.jsx(c("IGDMessageReportButton.react"),{dialogProps:babelHelpers["extends"]({},a,{containerModule:x,isGroup:g,messageInfo:{fbMessageId:p.messageId,mailboxId:d("I64").to_string(w.id)},threadId:v.igThreadId}),dialogResource:c("JSResourceForInteraction")("PolarisDirectReportingMessageModal").__setRef("IGDMessageMoreMenuPopover.react"),message:p,setReportDialogOpen:r})})}))}n=o&&!l?h.jsx(k,{children:h.jsx("div",{className:"x1e558r4 x150jy0e",role:"none",children:h.jsx(c("IGDMessageUnsendButton.react"),{message:p,setUnsendDialogOpen:s})})}):null;return h.jsx(c("BaseTheme.react"),{config:i,children:h.jsx(c("CometPopover.react"),{withArrow:!0,children:h.jsx(j,{orientation:"horizontal",children:h.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view_message_options",children:h.jsxs("div",{className:"x78zum5 x1f6kntn x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",ref:q,role:"menu",children:[e,b,n,y]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSVerifyE2EEMetadataThreadExistsV2",["LSCreateOfflineThreadingID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return c.i64.neq(a[1],f)?c.seq([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[f,f],d[3]=e[0],d[4]=e[1],e):(c=b.item,e=[a[1],c.authorityLevel],d[3]=e[0],d[4]=e[1],e)})},function(a){return a=[d[3],d[4]],d[0]=a[0],d[1]=a[1],a}]):c.resolve((b=[f,f],d[0]=b[0],d[1]=b[1],b))},function(e){return c.i64.neq(d[0],f)?c.seq([function(e){return c.i64.neq(d[1],f)?c.i64.gt(a[2],d[1])?c.seq([function(b){return c.fe(c.db.table(9).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[2]})})},function(a){return d[3]=new c.Map(),d[3].set("thread_fbid",d[0]),d[3].set("force_upsert",!1),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",c.i64.cast([0,95])),d[3].set("metadata_only",!1),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]):c.resolve():c.resolve()},function(a){return d[2]=d[0]}]):c.seq([function(e){return c.i64.neq(a[1],f)?c.seq([function(e){return c.i64.neq(a[2],c.i64.cast([0,20]))?(d[10]=new c.Map(),d[10].set("thread_fbid",a[1]),d[10].set("force_upsert",!1),d[10].set("use_open_messenger_transport",!1),d[10].set("sync_group",c.i64.cast([0,95])),d[10].set("metadata_only",!1),d[10].set("preview_only",!1),d[11]=d[10].get("thread_fbid"),d[10],d[12]=c.toJSON(d[10]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[11]),c.i64.cast([0,209]),d[12],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))):c.resolve()},function(b){return d[3]=a[1]}]):c.seq([function(a){return d[10]=c.i64.of_float(Date.now()),c.sp(b("LSCreateOfflineThreadingID"),d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(a){return d[3]=d[11]}])},function(b){return c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))?(b=["inbox",c.i64.cast([0,0])],d[4]=b[0],d[5]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,1]))?(b=["pending",c.i64.cast([-1,4294967295])],d[10]=b[0],d[11]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,2]))?(b=["other",c.i64.cast([-1,4294967294])],d[12]=b[0],d[13]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,3]))?(b=["spam",c.i64.cast([-1,4294967293])],d[14]=b[0],d[15]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,5]))?(b=["hidden",c.i64.cast([-1,4294967292])],d[16]=b[0],d[17]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,4]))?(b=["archived",c.i64.cast([-1,4294967286])],d[18]=b[0],d[19]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,15]))?(b=["restricted",c.i64.cast([-1,4294967281])],d[20]=b[0],d[21]=b[1],b):(b=["inbox",c.i64.cast([0,0])],d[20]=b[0],d[21]=b[1],b),b=[d[20],d[21]],d[18]=b[0],d[19]=b[1],b),b=[d[18],d[19]],d[16]=b[0],d[17]=b[1],b),b=[d[16],d[17]],d[14]=b[0],d[15]=b[1],b),b=[d[14],d[15]],d[12]=b[0],d[13]=b[1],b),b=[d[12],d[13]],d[10]=b[0],d[11]=b[1],b),b=[d[10],d[11]],d[4]=b[0],d[5]=b[1],b),d[6]=c.i64.cast([64,1083495711]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,0]),c.fe(c.ftr(c.db.table(9).fetch([[[d[3]]]]),function(b){return c.i64.eq(b.threadKey,d[3])&&c.i64.lt(b.authorityLevel,a[2])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[3],mailboxType:c.i64.cast([0,4096]),threadType:a[0],folderName:d[4],lastActivityTimestampMs:c.i64.cast([-1,4294967295]),lastReadWatermarkTimestampMs:c.i64.cast([-1,4294967295]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:d[5],authorityLevel:a[2],capabilities:d[6],capabilities2:d[7],capabilities3:d[8],unsendLimitMs:c.i64.cast([-1,4294967295]),syncGroup:c.i64.cast([0,95]),clientThreadKey:d[3]})},function(a){return d[2]=d[3]}])},function(a){return e[0]=d[2]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSLocalApplyOptimisticGroupThread",["LSArrayGetObjectAt","LSCreateOfflineThreadingID","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(f){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),c.sp(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=c.i64.cast([64,1083495711]),d[3]=c.i64.cast([0,0]),d[4]=c.i64.cast([0,0]),d[5]=c.i64.cast([0,0]),c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[6]=a[0],a})},function(a){return c.fe(c.ftr(c.db.table(9).fetch([[[d[1]]]]),function(a){return c.i64.eq(a.threadKey,d[1])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[1],mailboxType:c.i64.cast([0,0]),threadType:c.i64.cast([0,2]),clientThreadKey:d[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:c.i64.cast([0,0]),lastReadWatermarkTimestampMs:c.i64.cast([0,0]),snippetHasEmoji:!1,snippetSenderContactId:d[6],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),capabilities:d[2],capabilities2:d[3],capabilities3:d[4],nullstateDescriptionText1:a[1],threadName:a[2]})},function(e){return d[7]=c.i64.of_int32(a[0].length),c.i64.gt(d[7],c.i64.cast([0,0]))?c.loopAsync(d[7],function(e){return d[8]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[0],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(a){return c.fe(c.ftr(c.db.table(14).fetch([[[d[1],d[9]]]]),function(a){return c.i64.eq(a.threadKey,d[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(a.contactId,d[9])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(14).add({threadKey:d[1],contactId:d[9],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}])}):c.resolve()},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSCreateGroupThreadWithAdminText",["LSCreateOfflineThreadingID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],a[2]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return d[1]=c.i64.of_float(Date.now()),c.sp(b("LSCreateOfflineThreadingID"),d[1]).then(function(a){return a=a,d[2]=a[0],a})},function(a){return c.fe(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:c.i64.to_string(d[2])})})},function(e){return d[3]=new c.Map(),d[3].set("thread_id",d[0]),d[3].set("otid",c.i64.to_string(d[2])),d[3].set("source",c.i64.cast([0,0])),d[3].set("send_type",c.i64.cast([0,8])),a[3]!==f?d[3].set("text",a[3]):0,d[4]=new c.Map(),d[4].set("participants",a[0]),d[4].set("send_payload",d[3]),a[2]!==f?d[4].set("thread_name",a[2]):0,d[5]=d[4].get("send_payload"),d[4],d[6]=d[5].get("thread_id"),d[5],d[7]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[6]),c.i64.cast([0,130]),d[7],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0]))},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[];return c.seq([function(d){return c.sp(b("LSVerifyThreadExists"),a[0],a[1]==null?c.i64.cast([0,1]):a[1],"inbox",c.i64.cast([0,0]),c.i64.cast([0,40]),a[2])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("CometMiddot.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("span",babelHelpers["extends"]({},a,{children:[h.jsx("span",{className:"xzpqnlu xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",children:"\xa0"}),h.jsx("span",{"aria-hidden":"true",children:" \xb7 "})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDInboxActiveNowTrayConversionLoggingContextProvider",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo,k=b.useRef,l=h.createContext({getProviderData:function(){return{}},setProviderData:function(a){}});function a(a){a=a.children;var b=k({}),c=i(function(a){b.current=a(b.current)},[]),d=i(function(){return b.current},[]),e=j(function(){return{getProviderData:d,setProviderData:c}},[d,c]);return h.jsx(l.Provider,{value:e,children:a})}a.displayName=a.name+" [from "+f.id+"]";g.IGDInboxActiveNowTrayConversionLoggingContext=l;g.IGDInboxActiveNowTrayConversionLoggingContextProvider=a}),98);
__d("IGDAWContactSearchConversionUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b;return{id:a.id,igid:(b=a.igid)!=null?b:"",imageUrl:a.imageUrl,isE2EE:a.isE2EE,secondaryImageUrl:a.secondaryImageUrl,subtext:a.subtext,threadName:a.displayName}}function h(a){var b;return{id:a.id,igid:(b=a.igid)!=null?b:"",imageUrl:a.imageUrl,isE2EE:a.isE2EE,isVerified:a.verificationStatus==="BLUE_VERIFIED",otherUserId:a.otherUserId,subtext:a.subtext,threadName:a.displayName}}function i(a,b){b.set(a.id,{candidate:a,type:"user"})}function j(a,b){b.set(a.id,{candidate:a,type:"thread"})}function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.rawData;switch(e.resultType){case"group":j(g(e),b);break;case"user":i(h(e),b);break}}return b}function b(a){a=Array.from(a.values()).filter(function(a){return a.type==="user"}).map(function(a){a=a.candidate;return a.isE2EE&&a.otherUserId!=null?a.otherUserId:a.id});return a}f.covertSearchResultRawDataToIGDThread=g;f.covertSearchResultRawDataToIGDUser=h;f.covertMWContactSearchResultsToIGDCandidates=a;f.getIGDUserCandidateContactIds=b}),66);
__d("BadgeCheckmarkFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 12 13",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-98 -917)",children:h.jsx("path",{d:"m106.853 922.354-3.5 3.5a.499.499 0 0 1-.706 0l-1.5-1.5a.5.5 0 1 1 .706-.708l1.147 1.147 3.147-3.147a.5.5 0 1 1 .706.708m3.078 2.295-.589-1.149.588-1.15a.633.633 0 0 0-.219-.82l-1.085-.7-.065-1.287a.627.627 0 0 0-.6-.603l-1.29-.066-.703-1.087a.636.636 0 0 0-.82-.217l-1.148.588-1.15-.588a.631.631 0 0 0-.82.22l-.701 1.085-1.289.065a.626.626 0 0 0-.6.6l-.066 1.29-1.088.702a.634.634 0 0 0-.216.82l.588 1.149-.588 1.15a.632.632 0 0 0 .219.819l1.085.701.065 1.286c.014.33.274.59.6.604l1.29.065.703 1.088c.177.27.53.362.82.216l1.148-.588 1.15.589a.629.629 0 0 0 .82-.22l.701-1.085 1.286-.064a.627.627 0 0 0 .604-.601l.065-1.29 1.088-.703a.633.633 0 0 0 .216-.819"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometPageVerificationIcon.react",["fbt","BadgeCheckmarkFilled12.svg.react","TetraIcon.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={verifiedIconContainer:{display:"x3nfvp2",verticalAlign:"x11njtxf",$$css:!0}};function a(a){var b=a.isInverted,d=a.size,e=a.verificationBadge;a=a.xstyle;var f=null,g=c("BadgeCheckmarkFilled12.svg.react"),k=h._("__JHASH__h4jHLzIOW6F__JHASH__"),l=12;d==="large"?l=16:d==="xsmall"&&(l=10);if(b===!0)f=i.jsx(c("TetraIcon.react"),{alt:k,color:"white",icon:g,size:l});else switch(e){case"BLUE_VERIFIED":f=i.jsx(c("TetraIcon.react"),{alt:k,color:"highlight",icon:g,size:l});break;case"GRAY_VERIFIED":f=i.jsx(c("TetraIcon.react"),{alt:k,color:"secondary",icon:g,size:l});break}return f!=null?i.jsx("span",{className:c("stylex")(a,j.verifiedIconContainer),children:f}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWTimedJob",["FBLogger","MAWMaybeWithTimeout","MAWUIJob","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4;a={fireAndForget:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.fireAndForget(a)}),b,function(){throw c("FBLogger")("mpf_web_foundations").mustfixThrow("Failed to complete execution of job %s in time",a.type)},a.type)},waitUntilCompleted:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilCompleted(a)}),b,function(){throw c("FBLogger")("mpf_web_foundations").mustfixThrow("Failed to complete execution of job %s in time",a.type)},a.type)},waitUntilPersisted:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilPersisted(a)}),b,function(){throw c("FBLogger")("mpf_web_foundations").mustfixThrow("Failed to complete execution of job %s in time",a.type)},a.type)}};g.DEFAULT_TIMEOUT_MS=h;g.TimedUIJobStarters=a}),98);
__d("MAWMiActOnMiThreadReadyForChatIdDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnMiThreadReadyForChatId").__setRef("MAWMiActOnMiThreadReadyForChatIdDeferred");function a(a,b,c,d){return h.load().then(function(e){e=e.onMiThreadReadyForChatId;return e(a,b,c,d)})}g["default"]=a}),98);
__d("MAWCreateOneToOneThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSVerifyE2EEMetadataThreadExistsV2","MAWBridgeSendAndReceive","MAWDbChatId","MAWJidUtils","MAWJids","MAWJobDefinitions","MAWTimedJob","Promise","ReQL","WAJobOrchestratorTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f){var g=d("I64").to_string(e);e=f!=null?b("Promise").resolve(f):a.runInTransaction(function(a){return c("LSVerifyE2EEMetadataThreadExistsV2")(d("LSIntEnum").ofNumber(15),void 0,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC),c("LSFactory")(a))},"readwrite").then(function(a){return d("I64").to_string(a[0])});return e.then(function(e){return b("Promise").all([d("MAWBridgeSendAndReceive").sendAndReceive("backend","createThread",{contactFbid:g,offlineThreadingId:e}).then(function(f){var g=f.chatId,h=f.created,i=f.jid;return a.runInTransaction(function(a){var f=d("I64").of_string(d("MAWJidUtils").threadIdForChatJid(i));return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(f)).then(function(j){if(j!=null)return b("Promise").resolve({chatId:d("MAWDbChatId").unsafeCoerceToChatId(d("I64").to_int32(j.clientThreadPk)),created:h,jid:i});if(e==null)throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("offlineThreadingId cannot be null at this point");return a.table("mi_act_mapping_table").put({clientThreadPk:d("I64").of_int32(g),jid:f,serverThreadKey:d("I64").of_string(e)}).then(function(){return{chatId:g,created:h,jid:i}})})},"readwrite")}),d("MAWTimedJob").TimedUIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"creating-1-1-thread",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},users:new Set().add(d("MAWJids").toUserJid(g))}))])}).then(function(a){a=a[0];return a})}g.call=a}),98);
__d("MWV2OnAuthoritativeThreadInsert",["I64","LSAuthorityLevel","LSIntEnum","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){a=a[0];var f=d("ReQL").fromTableAscending(b.table("threads").index("clientThreadKey")).getKeyRange(a).subscribe(function(a,b){if(b.operation==="delete")return;a=b.value;if(d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){e(a);return f()}})}g.onAuthoritativeThreadInsert=a}),98);
__d("useMWPCreateOneToOneThreadThenNavigate",["I64","LSIntEnum","LSResult","MAWCreateOneToOneThread","MAWMiActOnMiThreadReadyForChatIdDeferred","MWV2OnAuthoritativeThreadInsert","Promise","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var e=c("useReStore")(),f=function(b,c,d){return a.openTabOrInbox({clientThreadKey:c,threadKey:b,threadType:d},"groupMembers")};return h(function(a){c("promiseDone")(d("MAWCreateOneToOneThread").call(e,a).then(function(a){return e.runInTransaction(function(g){return c("MAWMiActOnMiThreadReadyForChatIdDeferred")(g,a.chatId,"MWPCreateOneToOneThreadThenNavigate",function(g,h){h!=null&&(a.created?d("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(c("LSResult")(h),e,function(a){return f(a.threadKey,a.clientThreadKey,a.threadType)}):f(h,d("I64").of_int32(a.chatId),d("LSIntEnum").ofNumber(15)));return b("Promise").resolve()})},"readwrite")}))},[e,a])}g["default"]=a}),98);
__d("IGDPresenceBadge.react",["fbt","CometScreenReaderText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={XXL:{borderTopWidth:"xmn4e3e",borderEndWidth:"x10qsr78",borderBottomWidth:"x2x41l1",borderStartWidth:"x19jh3bc",bottom:"x1ey2m1c",end:"xds687c",height:"xmix8c7",width:"x1xp8n7a",$$css:!0},badge:{backgroundColor:"x1wyv8x2",borderTopColor:"x1yhmmig",borderEndColor:"xeqyd3i",borderBottomColor:"xyb01ml",borderStartColor:"xdn568n",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",position:"x10l6tqk",$$css:!0},large:{borderTopWidth:"xmn4e3e",borderEndWidth:"x10qsr78",borderBottomWidth:"x2x41l1",borderStartWidth:"x19jh3bc",bottom:"x1ey2m1c",end:"xds687c",height:"x1kpxq89",width:"xsmyaan",$$css:!0},medium:{borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",bottom:"x1ey2m1c",end:"xds687c",height:"xegnrdp",width:"x1wc42o8",$$css:!0},micro:{borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",bottom:"x1ey2m1c",end:"xds687c",height:"xols6we",width:"x1v4s8kt",$$css:!0},small:{borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",bottom:"x1ey2m1c",end:"xds687c",height:"xols6we",width:"x1v4s8kt",$$css:!0},tiny:{borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",bottom:"x1ey2m1c",height:"xols6we",start:"x17qophe",width:"x1v4s8kt",$$css:!0}};function a(a){a=a.size;var b=h._("__JHASH__gUynsz3x2DO__JHASH__");return i.jsx("div",{className:c("stylex")(j.badge,j.large,j[a]),children:i.jsx(c("CometScreenReaderText.react"),{text:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSAvatar.react",["CometImage.react","CometPressable.react","IGDSConstants","isStringNullOrEmpty","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={button:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",cursor:"x1ypdohk",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},container:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x1lliihq",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6","::after_borderTopColor":"xzfakq","::after_borderEndColor":"x7imw91","::after_borderBottomColor":"x1j8hi7x","::after_borderStartColor":"x5aw536","::after_borderTopStartRadius":"x194ut8o","::after_borderTopEndRadius":"x1vzenxt","::after_borderBottomEndRadius":"xd7ygy7","::after_borderBottomStartRadius":"xt298gk","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"xoiy6we","::after_borderEndWidth":"x15xhmf9","::after_borderBottomWidth":"x1qj619r","::after_borderStartWidth":"x15tem40","::after_bottom":"x1xrz1ek","::after_content":"x1s928wv","::after_end":"x1n449xj","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"x162n7g1","::after_top":"x1m1drc7",$$css:!0},root:{height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}};function j(a){var b=a.children,d=a.href,e=a.onClick,f=a.role,g=a.size,j=a.target;a=a.xstyle;return h.jsx(c("CometPressable.react"),{linkProps:d!=null?{target:j,url:d}:void 0,onPress:e,overlayDisabled:!0,role:f,style:{height:c("IGDSConstants").AVATAR_SIZES[g],width:c("IGDSConstants").AVATAR_SIZES[g]},xstyle:[i.button,i.container,a],children:b})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.alt,d=a.href,e=a.onClick,f=a.role,g=a.size;g=g===void 0?"medium":g;var k=a.src,l=a.target;a=a.xstyle;var m=!c("isStringNullOrEmpty")(k);return d!=null||e?h.jsx(j,{href:d,onClick:e,role:f,size:g,target:l,xstyle:a,children:m?h.jsx(c("CometImage.react"),{alt:b,height:c("IGDSConstants").AVATAR_SIZES[g],src:k,width:c("IGDSConstants").AVATAR_SIZES[g],xstyle:i.root}):null}):h.jsx("span",{className:c("stylex")(i.container,a),style:{height:c("IGDSConstants").AVATAR_SIZES[g],width:c("IGDSConstants").AVATAR_SIZES[g]},children:m?h.jsx(c("CometImage.react"),{alt:b,height:c("IGDSConstants").AVATAR_SIZES[g],src:k,width:c("IGDSConstants").AVATAR_SIZES[g],xstyle:i.root}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDFacepile.react",["IGDPresenceBadge.react","IGDSAvatar.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{position:"x1n2onr6",$$css:!0},"default":{paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",$$css:!0},frontAvatar:{backgroundColor:"xvbhtw8",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",bottom:"x1ey2m1c",end:"xds687c",position:"x10l6tqk",$$css:!0},small:{paddingTop:"x4p5aij",paddingEnd:"x19um543",paddingBottom:"x1j85h84",paddingStart:"x1m6msm",$$css:!0}};function j(a,b){if(b==="medium"||b==="tiny")if(a)return["extraSmall","32px"];else return["small","44px"];else if(b==="XXL"&&!a)return["XLFacepile","96px"];else return["facepile","56px"]}function k(a,b){if(b==="medium"||b==="tiny")if(a)return"small";else return"medium";else if(b==="XXL")return"XXL";else return"large"}function a(a){var b=a.firstParticipantURI,d=a.isActive;d=d===void 0?!1:d;var e=a.isMobile;e=e===void 0?!1:e;var f=a.secondParticipantURI;a=a.size;var g=j(e,a),l=g[0];g=g[1];e=k(e,a);return h.jsxs("div",{className:"x1n2onr6",style:{height:g,width:g},children:[h.jsx(c("IGDSAvatar.react"),{alt:"",size:l,src:b}),h.jsx("div",{className:c("stylex")(i.frontAvatar,a==="medium"?i.small:i["default"]),children:h.jsx(c("IGDSAvatar.react"),{alt:"",size:l,src:f})}),d?h.jsx(c("IGDPresenceBadge.react"),{size:e}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSingleAvatar.react",["fbt","IGDPresenceBadge.react","IGDSAvatar.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a,b){if(a)switch(b){case"micro":return["micro","14px"];case"tiny":return["tiny","24px"];case"medium":return["small","32px"];case"XXL":return["large","56px"];default:return["large","56px"]}else switch(b){case"micro":return["micro","14px"];case"medium":return["medium","44px"];case"XXL":return["XXL","96px"];default:return["large","56px"]}}function a(a){var b=a.isActive;b=b===void 0?!1:b;var d=a.isMobile;d=d===void 0?!1:d;var e=a.size;a=a.src;d=j(d,e);e=d[0];d=d[1];return i.jsxs("div",{className:"x1n2onr6",style:{height:d,width:d},children:[i.jsx(c("IGDSAvatar.react"),{alt:h._("__JHASH__AaftAxxA2c6__JHASH__"),size:e,src:a}),b?i.jsx(c("IGDPresenceBadge.react"),{size:e}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDInboxClickedThreadContextProvider",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useCallback,j=c.useContext,k=c.useMemo,l=c.useRef,m=e({getProviderData:function(){return{}},setProviderData:function(a){}});function a(){return j(m)}function b(a){a=a.children;var b=l({}),c=i(function(a){b.current=a},[]),d=i(function(){return b.current},[]),e=k(function(){return{getProviderData:d,setProviderData:c}},[d,c]);return h.jsx(m.Provider,{value:e,children:a})}b.displayName=b.name+" [from "+f.id+"]";g.useIGDInboxClickedThreadContext=a;g.IGDInboxClickedThreadContextProvider=b}),98);
__d("PolarisIGCoreArrowLeftPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"2.909",x2:"22.001",y1:"12.004",y2:"12.004"}),h.jsx("polyline",{fill:"none",points:"9.276 4.726 2.001 12.004 9.276 19.274",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDMobileNavigationButton.react",["fbt","IGDSIconButton.react","Locale","PolarisIGCoreArrowLeftPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__rrOQmK5jiwk__JHASH__"),k={root:{marginEnd:"xq8finb",$$css:!0},rtl:{transform:"x19jd1h0",$$css:!0}};function a(a){a=a.onClick;a=a;return i.jsx(c("IGDSIconButton.react"),{onClick:a,padding:0,xstyle:k.root,children:i.jsx("span",{className:c("Locale").isRTL()&&"x19jd1h0",children:i.jsx(c("PolarisIGCoreArrowLeftPanoOutlineIcon"),{alt:j,color:"ig-primary-text",size:24})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("jsExtraRouteBuilder",["jsRouteBuilder","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){var f=c("jsRouteBuilder")(a,b,e),g=d.reduce(function(a,d){a===void 0&&(a={});typeof d==="string"&&(a[d]=c("jsRouteBuilder")(d,b,e,null,!0).buildURL);return a},{});return{buildExtraURL:function(a,b){if(typeof a!=="string"||g[a]==null)throw c("unrecoverableViolation")("Route builder for extra path does not exist","comet_infra");return g[a](b)},buildUri:function(a){return f.buildUri(a)},buildURL:function(a){return f.buildURL(a)}}}g["default"]=a}),98);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0);b=a;g["default"]=b}),98);
__d("IGDNavigation",["I64","IGDInboxActiveNowTrayConversionLoggingContextProvider","IGDInboxClickedThreadContextProvider","JSScheduler","LSMessagingThreadTypeUtil","XPolarisDirectInboxControllerRouteBuilder","XPolarisFeedControllerRouteBuilder","cr:2720","emptyFunction","react","useGetStableCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";f=d("react");var h=f.useContext,i=f.useEffect,j=f.useMemo,k=(f=b("cr:2720"))!=null?f:c("emptyFunction");function l(a){return c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:d("I64").to_string(a)})}function a(){var a=d("useGetStableCometRouterDispatcher").useGetStableCometRouterDispatcher(),b=k(),e=h(d("IGDInboxActiveNowTrayConversionLoggingContextProvider").IGDInboxActiveNowTrayConversionLoggingContext),f=d("IGDInboxClickedThreadContextProvider").useIGDInboxClickedThreadContext(),g=e.setProviderData;return j(function(){var e=function(c,e){var h=c.threadKey;c=c.threadType;var i=e==="inboxActiveContacts";g(function(a){return{loggingData:a.loggingData,sentFromActiveNowTray:i}});f.setProviderData({clickedThreadId:h});var j=a();if(j==null)return;d("LSMessagingThreadTypeUtil").isOneToOne(c)&&b!=null&&b(h);j.go(l(h),{passthroughProps:{entryPoint:e}})},h=function(b){var c=a();if(c!=null)return c.go("/direct/inbox/",{onNavigate:b})},i=function(){var b=a();if(b!=null)return b.go("/direct/new/",{})},j=function(){var b=a();if(b!=null)return b.go("/direct/requests/",{})},k=function(){var b=a();if(b!=null)return b.go("/direct/requests/hidden/",{})},m=function(){var b=a();if(b!=null){var d=c("XPolarisFeedControllerRouteBuilder").buildURL({});b.go(d,{});return}};return{getUrlFromThreadKey:function(a,b){return l(a)},goToCreateNewThreadMobileRoute:i,goToFeed:m,goToNullState:h,openHiddenRequests:k,openInbox:e,openPendingInbox:j,openTabOrInbox:function(a,b){return e(a,b)}}},[g,f,a,b])}function e(a){var b=d("useGetStableCometRouterDispatcher").useGetStableCometRouterDispatcher();i(function(){var c=b();d("JSScheduler").scheduleSpeculativeCallback(function(){if(c!=null){c.prefetchRouteDefinition(l(a));return}})},[b,a])}g.useIGDNavigation=a;g.usePreloadRoute=e}),98);
__d("IGDSectionHeader.react",["IGDSectionHeaderLayout.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,c=a.endAdornment,e=a.isMobile,f=a.noBottomBorder;f=f===void 0?!1:f;var g=a.startAdornment;a=a.xstyle;g=g!=null?h.jsx(d("IGDSectionHeaderLayout.react").StartAdornment,{children:g}):null;c=c!=null?h.jsx(d("IGDSectionHeaderLayout.react").EndAdornment,{children:c}):null;return h.jsxs(d("IGDSectionHeaderLayout.react").Container,{isMobile:e,noBottomBorder:f,xstyle:a,children:[g,b,c]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadListNewMessageDialogEntrypointProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useMemo,k=e({});function a(a){var b=a.children,c=a.entrypoint;a=j(function(){return{entrypoint:c}},[c]);return h.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=i(k);return a.entrypoint}g.IGDThreadListNewMessageDialogEntrypointProvider=a;g.useIGDThreadListNewMessageDialogEntrypoint=b}),98);
__d("QPLCreateGroupThreadLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(832770470,"483"))}function b(){c("QPLUserFlow").start(c("qpl")._(832770470,"483"),{annotations:{bool:{isSecure:!0}}})}function d(){c("QPLUserFlow").endFailure(c("qpl")._(832770470,"483"),"create_group_fail",{annotations:{bool:{isSecure:!0}}})}function e(){c("QPLUserFlow").start(c("qpl")._(832770470,"483"),{annotations:{bool:{isSecure:!1}}})}function f(){c("QPLUserFlow").endFailure(c("qpl")._(832770470,"483"),"create_group_fail",{annotations:{bool:{isSecure:!1}}})}g.QPLEndSuccessCreateGroup=a;g.QPLStartCreateSecureGroup=b;g.QPLEndFailureCreateSecureGroup=d;g.QPLStartCreateOpenGroup=e;g.QPLEndFailureCreateOpenGroup=f}),98);
__d("useCreateOpenGroupThread",["I64","IGDNavigation","QPLCreateGroupThreadLogging","asyncToGeneratorRuntime","react","useMWPCreateThread"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var e=c("useMWPCreateThread")(),f=d("IGDNavigation").useIGDNavigation();return h(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("QPLCreateGroupThreadLogging").QPLStartCreateOpenGroup();b=b.map(function(a){return d("I64").of_string(a)});try{b=(yield e(b));if(b){f.openInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},a);d("QPLCreateGroupThreadLogging").QPLEndSuccessCreateGroup();return b.threadKey}}catch(a){d("QPLCreateGroupThreadLogging").QPLEndFailureCreateOpenGroup()}return null});return function(a){return c.apply(this,arguments)}}(),[e,a,f])}g["default"]=a}),98);
__d("useCreateSecureOneToOneThread",["I64","IGDNavigation","asyncToGeneratorRuntime","react","useMWPCreateOneToOneThreadThenNavigate"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("IGDNavigation").useIGDNavigation(),e=c("useMWPCreateOneToOneThreadThenNavigate")(a);return h(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("I64").of_string(a);yield e(a);return a});return function(b){return a.apply(this,arguments)}}(),[e])}g["default"]=a}),98);
__d("useFetchExistingThreadWithContactIds",["I64","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(a,b){if(a.length!==b.length)return!1;var c=new Set(a);return b.every(function(a){return c.has(a)})}function a(){var a=c("useReStore")(),b=d("MWPActor.react").useActor();return h(function(c,e){var g=new Set(c.filter(function(a){return a!==b})),h=[].concat(Array.from(g),[d("I64").to_string(b)]);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants")).filter(function(a){return g.has(d("I64").to_string(a.contactId))}).map(function(a){return d("I64").to_string(a.threadKey)}).filter(function(b){b=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.table("participants").index("threadKeyReadWatermarkTimestampMs")).getKeyRange(d("I64").of_string(b)).map(function(a){return d("I64").to_string(a.contactId)}),f.id+":71");return i(h,b)}).map(function(b){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(d("I64").of_string(b)).filter(function(a){return d("I64").to_int32(a.threadType)===e}),f.id+":87")}))},[b,a])}g["default"]=a}),98);
__d("useOpenOrCreateGroupThread",["IGDNavigation","asyncToGeneratorRuntime","react","useCreateOpenGroupThread","useFetchExistingThreadWithContactIds"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var e=d("IGDNavigation").useIGDNavigation(),f=c("useFetchExistingThreadWithContactIds")(),g=c("useCreateOpenGroupThread")(a);return h(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield f(b,2));if(c){e.openInbox({clientThreadKey:c.clientThreadKey,threadKey:c.threadKey,threadType:c.threadType},a);return c.threadKey}return g(b)});return function(a){return c.apply(this,arguments)}}(),[g,a,f,e])}g["default"]=a}),98);
__d("useOpenOrCreateOpenOneToOneThread",["FBLogger","I64","IGDNavigation","LSFactory","LSVerifyThreadRowExists","Promise","asyncToGeneratorRuntime","react","requireDeferred","useCreateSecureOneToOneThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("requireDeferred")("MAWVerifyThreadCutover").__setRef("useOpenOrCreateOpenOneToOneThread");function a(a){var e=c("useReStore")(),f=d("IGDNavigation").useIGDNavigation(),g=c("useCreateSecureOneToOneThread")();return h(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(h){var j=d("I64").of_string(h),k=(yield i.load());k=(yield k.verifyThreadCutover(b("Promise").resolve(e),j));if(k)return g(h);try{yield e.runInTransaction(function(a){return c("LSVerifyThreadRowExists")(j,d("I64").of_int32(1),d("I64").of_int32(1),c("LSFactory")(a))},"readwrite"),f.openInbox({clientThreadKey:j,threadKey:j,threadType:d("I64").of_int32(1)},a)}catch(a){c("FBLogger")("ig_web","create_one_to_one_thread").mustfix("Failed to create 1 to 1 open thread by verifying thread row exists.")}return j});return function(a){return h.apply(this,arguments)}}(),[g,e,a,f])}g["default"]=a}),98);
__d("useOpenOrCreateThreadFromIGDCandidate",["IGDAWContactSearchConversionUtils","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","asyncToGeneratorRuntime","react","useOpenOrCreateGroupThread","useOpenOrCreateOpenOneToOneThread"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useOpenOrCreateOpenOneToOneThread")("inboxNewMessage"),e=c("useOpenOrCreateGroupThread")("inboxNewMessage"),f=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return h(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){if(b.size<=0)return;b=d("IGDAWContactSearchConversionUtils").getIGDUserCandidateContactIds(b);g==null?void 0:g({eventName:"create_thread_attempt",extraData:{participant_ids:[].concat(b).join(", "),thread_size:b.length.toString()},flowInstanceId:f.current});b.length>1?yield e(b):b.length===1&&(yield a(b[0]))});return function(a){return c.apply(this,arguments)}}(),[f,g,e,a])}g["default"]=a}),98);
__d("useIGDDeviceType",["IGDDeviceTypeProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(d("IGDDeviceTypeProvider.react").context)}g.useIGDDeviceType=a}),98);
__d("useStableCallback",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useLayoutEffect,j=b.useRef;function a(a){var b=j(a);i(function(){b.current=a},[a]);return h(function(){return b.current.apply(b,arguments)},[])}g["default"]=a}),98);
__d("LSContactVerificationBadge.react",["CometPageVerificationIcon.react","LSContactBitOffset","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.contact,e=a.icon;a=a.size;b=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(23),b);if(!b)return null;if(e!=null)return h.jsx("span",{className:"xurb0ha",children:e});return a!=null?h.jsx("span",{className:"xurb0ha",children:h.jsx(c("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDProLogging",["ODS","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function i(){return c("QPLUserFlow").getActiveFlowIDs().includes(832772100)}function a(){i()||(h=Date.now(),c("QPLUserFlow").start(c("qpl")._(832772100,"855"),{instanceKey:h}))}function b(){i()&&c("QPLUserFlow").endSuccess(c("qpl")._(832772100,"855"),{instanceKey:h})}function j(a,b){d("ODS").bumpEntityKey(5506,a,b)}function e(){j("threadList","igd_pro_web.client.load_threads.primary")}function f(){j("threadList","igd_pro_web.client.load_threads.general")}function k(){j("threadInfo","igd_pro_web.client.move_thread.primary")}function l(){j("threadInfo","igd_pro_web.client.move_thread.general")}function m(){j("threadInfo","igd_pro_web.client.accept_thread.primary")}function n(){j("threadInfo","igd_pro_web.client.accept_thread.general")}g.QPLStart=a;g.QPLEndSuccess=b;g.ODSBumpLoadThreadsPrimary=e;g.ODSBumpLoadThreadsGeneral=f;g.ODSBumpMoveThreadPrimary=k;g.ODSBumpMoveThreadGeneral=l;g.ODSBumpAcceptRequestPrimary=m;g.ODSBumpAcceptRequestGeneral=n}),98);
__d("IGDListCellSelectedContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=e(!1);function a(a){var b=a.children;a=a.selected;return h.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.IGDListCellSelectedContextProvider=a;g.useIsListCellSelected=b}),98);
__d("IGDListCell.react",["BaseListCell.react","CometPressable.react","IGDListCellSelectedContext.react","emptyFunction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react").forwardRef;var i={addOnContainer:{display:"x78zum5",flexShrink:"x2lah0s",$$css:!0},addOnEndContainerPadding:{paddingStart:"x1ye3gou",$$css:!0},addOnStartContainerPadding:{paddingEnd:"xn6708d",$$css:!0},disabled:{opacity:"xbyyjgo",$$css:!0},pressable:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",display:"x1lliihq",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",":active_backgroundColor":"xg6hnt2",":focus_backgroundColor":"x18wri0h",$$css:!0},pressableHover:{":hover_backgroundColor":"x1l895ks",$$css:!0},pressableSelected:{backgroundColor:"x19g9edo",":active_backgroundColor":"xmoo3j9",":focus_backgroundColor":"x1e9wozp",$$css:!0},pressableSelectedHover:{":hover_backgroundColor":"xoo1adm",$$css:!0}},j={large:{paddingStart:"xbbxn1n",paddingEnd:"xxbr6pl",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},small:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function a(a,b){var d=a.addOnEnd,e=a.addOnStart,f=a.addOnStartVerticalAlign,g=a.content,j=a.disabled,l=a.hoverStateVisible;l=l===void 0?!0:l;var m=a.linkProps,n=a.noopOnPressWhenSelected,o=a.onHoverIn,p=a.onHoverOut,q=a.onPress,r=a.role,s=a.selected,t=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnEnd","addOnStart","addOnStartVerticalAlign","content","disabled","hoverStateVisible","linkProps","noopOnPressWhenSelected","onHoverIn","onHoverOut","onPress","role","selected","size"]);var u=d||g,v=e||g;return h.jsx(k,{disabled:j,hoverStateVisible:l,linkProps:m,noopOnPressWhenSelected:n,onHoverIn:o,onHoverOut:p,onPress:q,ref:b,role:r,selected:s,size:t,children:h.jsx(c("BaseListCell.react"),babelHelpers["extends"]({addOnEnd:d!=null?h.jsx("div",{className:c("stylex")([i.addOnContainer,v&&i.addOnEndContainerPadding]),children:d}):void 0,addOnStart:e!=null?h.jsx("div",{className:c("stylex")([i.addOnContainer,u&&i.addOnStartContainerPadding]),children:e}):void 0,addOnStartVerticalAlign:f,content:g},a))})}a.displayName=a.name+" [from "+f.id+"]";var k=b(function(a,b){var e=a.children,f=a.disabled,g=a.hoverStateVisible,k=a.linkProps,l=a.noopOnPressWhenSelected,m=a.onHoverIn,n=a.onHoverOut,o=a.onPress,p=a.role,q=a.selected;a=a.size;a=j[a];var r=[i.pressable,g===!0&&i.pressableHover],s=d("IGDListCellSelectedContext.react").useIsListCellSelected();q=Boolean(q)||s;s=[q&&[i.pressableSelected,g===!0&&i.pressableSelectedHover]];return h.jsx(c("CometPressable.react"),{disabled:f===!0,linkProps:k,onHoverIn:m,onHoverOut:n,onPress:Boolean(l)&&q?c("emptyFunction"):o,overlayDisabled:!0,ref:b,role:p,xstyle:[].concat(r,[a],s,[f===!0&&i.disabled]),children:e})});e=h.forwardRef(a);g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("CometDialogStartAlignedTextHeader.react",["fbt","CometCircleButton.react","CometDialogHeaderContainer.react","CrossFilled24.svg.react","TetraText.react","emptyFunction","react","useCometDialogPlaceholderRemoveSelectorIds.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.closeTestID;b=b===void 0?"close-button":b;var d=a.disabled;d=d===void 0?!1:d;var e=a.withCloseButton;e=e===void 0?!0:e;var f=a.onClose;f=f===void 0?c("emptyFunction"):f;var g=a.text,j=a.id;a=a.withoutDivider;a=a===void 0?!0:a;var k=c("useCometDialogPlaceholderRemoveSelectorIds.react")();k=k!=null?{testid:k.testid}:{testid:b};return i.jsxs(c("CometDialogHeaderContainer.react"),{withDivider:!a,children:[g!=null&&i.jsx("div",{className:"x1d52u69 xw7yly9 x1yztbdb",children:i.jsx(c("TetraText.react"),{align:"start",id:j,isSemanticHeading:!0,type:"headlineEmphasized2",children:g})}),i.jsx("div",{className:"xqcrz7y x1d52u69 xktsk01 x14vqqas xod5an3",children:e?i.jsx(c("CometCircleButton.react"),babelHelpers["extends"]({disabled:d,icon:c("CrossFilled24.svg.react"),label:h._("__JHASH__tnRfHlva-bL__JHASH__"),onPress:f,size:36},k)):i.jsx("div",{className:"xc9qbxq xw7yly9 x1yztbdb x14qfxbe"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlertDialogImpl.react",["fbt","CometDialog.react","CometDialogFooter.react","CometDialogStartAlignedTextHeader.react","TetraText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.body,d=a.close,e=a.onClose;a=a.title;return i.jsx(c("CometDialog.react"),{footer:i.jsx(c("CometDialogFooter.react"),{expanding:!1,primary:{label:(d=d)!=null?d:h._("__JHASH__XzprMQh2D7n__JHASH__"),onPress:e,testid:"CometAlertDialogImpl-closeButton"}}),header:i.jsx(c("CometDialogStartAlignedTextHeader.react"),{onClose:e,text:a}),label:a,children:i.jsx("div",{className:"x1swvt13 x1pi30zi x1n2onr6",children:i.jsx(c("TetraText.react"),{type:"body3",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDBCEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ADD_COLLABORATORS_SHEET_RENDERED:"add_collaborators_sheet_rendered",ADD_MODERATORS_SHEET_RENDERED:"add_moderators_sheet_rendered",ALL_NOTIFICATIONS_ENABLED:"all_notifications_enabled",AUTO_TRANSLATION_DISABLED:"auto_translation_disabled",AUTO_TRANSLATION_ENABLED:"auto_translation_enabled",BC_JCS_THREAD_OPEN:"bc_jcs_thread_open",BC_JCS_THREAD_PREVIEW:"bc_jcs_thread_preview",BLOCK_USER:"block_user",BROADCAST_CHAT_OPTION_VIEWED:"broadcast_chat_option_viewed",BROADCAST_CHAT_QP_VIEWED:"broadcast_chat_qp_viewed",BROADCAST_JCS_JOIN_CHAT:"broadcast_jcs_join_chat",BULK_DELETE_BROADCAST_CHAT_DIALOG_RENDERED:"bulk_delete_broadcast_chat_dialog_rendered",CAMERA_RENDERED:"camera_rendered",CAROUSEL_NUX_SCREEN_VIEWED:"carousel_nux_screen_viewed",CHANNEL_CONTROLS_RENDERED:"channel_controls_rendered",CHANNEL_DURATION_SHEET_RENDERED:"channel_duration_sheet_rendered",CHANNEL_OPTION_VIEWED:"channel_option_viewed",CHANNEL_TRANSLATION_DIALOG_RENDERED:"channel_translation_dialog_rendered",CHANNEL_TRANSLATION_REQUEST_FAILED:"channel_translation_request_failed",CHANNEL_TRANSLATION_REQUEST_SENT:"channel_translation_request_sent",CHANNEL_TRANSLATION_REQUEST_SUCCESS:"channel_translation_request_success",CHAT_SETUP_SHEET_RENDERED:"chat_setup_sheet_rendered",COLLABORATOR_INVITE_LIMIT_REACHED:"collaborator_invite_limit_reached",COMMENTS_DISABLED:"comments_disabled",COMMENTS_ENABLED:"comments_enabled",COMMENTS_MUSTACHE_TEXT_RENDERED:"comments_mustache_text_rendered",COMMENTS_SHEET_RENDERED:"comments_sheet_rendered",COMMENTS_UPSELL_SHEET_CANCELLED:"comments_upsell_sheet_cancelled",COMMENTS_UPSELL_SHEET_RENDERED:"comments_upsell_sheet_rendered",CREATE_CHANNEL_SHEET_RENDERED:"create_channel_sheet_rendered",CREATOR_INVITE_LINK_SHEET_RENDERED:"creator_invite_link_sheet_rendered",CREATOR_NUX_SHEET_RENDERED:"creator_nux_sheet_rendered",DECLINE_CHAT_COLLABORATOR:"decline_chat_collaborator",DECLINE_CHAT_COLLABORATOR_ERROR:"decline_chat_collaborator_error",DECLINE_CHAT_COLLABORATOR_SUCCESS:"decline_chat_collaborator_success",DECLINE_CHAT_MODERATOR:"decline_chat_moderator",DECLINE_CHAT_MODERATOR_ERROR:"decline_chat_moderator_error",DECLINE_CHAT_MODERATOR_SUCCESS:"decline_chat_moderator_success",DELETE_BROADCAST_CHAT_DIALOG_RENDERED:"delete_broadcast_chat_dialog_rendered",DELETE_COMMENT:"delete_comment",DIRECT_ALL_RESPONSES_TAB:"direct_all_responses_tab",DIRECT_ALL_RESPONSES_TAB_ADD_RESPONSE:"direct_all_responses_tab_add_response",DIRECT_ALL_RESPONSES_TAB_RESPONSE_SELECTED:"direct_all_responses_tab_response_selected",DIRECT_COMPOSER_TAP_QUESTION:"direct_composer_tap_question",DIRECT_COMPOSER_THREAD_TAP_PLUS:"direct_composer_thread_tap_plus",DIRECT_OPEN_QUESTION_TAB:"direct_open_question_tab",DIRECT_OPEN_RESPONSE_TAB:"direct_open_response_tab",DIRECT_QUESTION_END_ATTEMPT:"direct_question_end_attempt",DIRECT_QUESTION_END_ERROR:"direct_question_end_error",DIRECT_QUESTION_END_SUCCESS:"direct_question_end_success",DIRECT_QUESTION_RESPONSE_LIMIT_RENDERED:"direct_question_response_limit_rendered",DIRECT_QUESTION_STICKER:"direct_question_sticker",DIRECT_QUESTION_TAB_SEND_ATTEMPT:"direct_question_tab_send_attempt",DIRECT_QUESTION_TAB_SEND_ERROR:"direct_question_tab_send_error",DIRECT_QUESTION_TAB_SEND_SUCCESS:"direct_question_tab_send_success",DIRECT_RESPONSE_TAB_SEND_ATTEMPT:"direct_response_tab_send_attempt",DIRECT_RESPONSE_TAB_SEND_ERROR:"direct_response_tab_send_error",DIRECT_RESPONSE_TAB_SEND_SUCCESS:"direct_response_tab_send_success",DISMISS_COMMENT_UPSELL_NUX:"dismiss_comment_upsell_nux",DISMISS_TRANSLATION_DIALOG:"dismiss_translation_dialog",END_CHAT_DIALOG_RENDERED:"end_chat_dialog_rendered",EXIT_CHAT_SETUP_SHEET:"exit_chat_setup_sheet",EXIT_CREATOR_NUX_SHEET:"exit_creator_nux_sheet",EXIT_INVITE_LINK_SHEET:"exit_invite_link_sheet",EXIT_WAITLIST_NUX_SHEET:"exit_waitlist_nux_sheet",EXIT_WAITLIST_QUESTIONS_SHEET:"exit_waitlist_questions_sheet",EXIT_WELCOME_VIDEO:"exit_welcome_video",FAN_INVITE_LINK_SHEET_RENDERED:"fan_invite_link_sheet_rendered",FETCH_SEEN_ACTIVE_COUNT_ERROR:"fetch_seen_active_count_error",FETCH_SEEN_ACTIVE_COUNT_SUCCESSFUL:"fetch_seen_active_count_successful",FIRST_MESSAGE_BANNER_DISMISSED:"first_message_banner_dismissed",FIRST_MESSAGE_BANNER_RENDERED:"first_message_banner_rendered",FIRST_MESSAGE_PILL_OPTION_RENDERED:"first_message_pill_option_rendered",FIRST_MESSAGE_SENT:"first_message_sent",FOLLOW_AND_OPEN_CHAT:"follow_and_open_chat",FOLLOW_JOIN_CHAT:"follow_join_chat",FOLLOW_TO_JOIN_CHAT_SHEET_RENDERED:"follow_to_join_chat_sheet_rendered",FORWARD_BC_MESSAGE:"forward_bc_message",INVITE_LINK_COPIED:"invite_link_copied",INVITE_LINK_DISABLED:"invite_link_disabled",INVITE_LINK_ENABLED:"invite_link_enabled",INVITE_LINK_RESET:"invite_link_reset",JOIN_BROADCAST_CHAT_SHEET_RENDERED:"join_broadcast_chat_sheet_rendered",JOIN_CHAT_COLLABORATOR_ATTEMPT:"join_chat_collaborator_attempt",JOIN_CHAT_COLLABORATOR_ERROR:"join_chat_collaborator_error",JOIN_CHAT_COLLABORATOR_SUCCESS:"join_chat_collaborator_success",JOIN_CHAT_MODERATOR_ATTEMPT:"join_chat_moderator_attempt",JOIN_CHAT_MODERATOR_ERROR:"join_chat_moderator_error",JOIN_CHAT_MODERATOR_SUCCESS:"join_chat_moderator_success",JOINED_WAITLIST:"joined_waitlist",LEAVE_COMMENTS_SHEET:"leave_comments_sheet",LEAVE_USER_NUX:"leave_user_nux",LIKE_COMMENT:"like_comment",LIMIT_TO_SUBSCRIBERS_DISABLED:"limit_to_subscribers_disabled",LIMIT_TO_SUBSCRIBERS_ENABLED:"limit_to_subscribers_enabled",MESSAGE_OPTIONS_RENDERED:"message_options_rendered",MESSAGE_REACTIONS_RENDER_ERROR:"message_reactions_render_error",MESSAGE_REACTIONS_RENDER_SUCCESSFUL:"message_reactions_render_successful",MIMICRY_UPSELL_BANNER_CANCELLED:"mimicry_upsell_banner_cancelled",MIMICRY_UPSELL_BANNER_RENDERED:"mimicry_upsell_banner_rendered",MODERATOR_INVITE_LIMIT_REACHED:"moderator_invite_limit_reached",MUTE_MENTIONS_REPLIES_DISABLED:"mute_mentions_replies_disabled",MUTE_MENTIONS_REPLIES_ENABLED:"mute_mentions_replies_enabled",MUTE_MESSAGES_DISABLED:"mute_messages_disabled",MUTE_MESSAGES_ENABLED:"mute_messages_enabled",MUTE_NOTIFICATIONS_SHEET_RENDERED:"mute_notifications_sheet_rendered",MUTE_REACTIONS_DISABLED:"mute_reactions_disabled",MUTE_REACTIONS_ENABLED:"mute_reactions_enabled",NO_FOLLOW_CANCEL_OPEN_CHAT:"no_follow_cancel_open_chat",NOT_FOLLOW_JOIN_CHAT:"not_follow_join_chat",NOT_SUBSCRIBE_TO_CREATOR:"not_subscribe_to_creator",NOTIFICATIONS_DISABLED:"notifications_disabled",PAID_PARTNERSHIP_LABEL_DISABLED:"paid_partnership_label_disabled",PAID_PARTNERSHIP_LABEL_ENABLED:"paid_partnership_label_enabled",PAID_PARTNERSHIP_SHEET_RENDERED:"paid_partnership_sheet_rendered",POLL_RESPONSES_RENDER_ERROR:"poll_responses_render_error",POLL_RESPONSES_RENDER_SUCCESSFUL:"poll_responses_render_successful",POST_COMMENT:"post_comment",PUBLISH_REEL_WITH_BROADCAST_JCS:"publish_reel_with_broadcast_jcs",PUBLISH_STORY_WITH_BROADCAST_JCS:"publish_story_with_broadcast_jcs",PUBLISH_STORY_WITH_BROADCAST_JCS_ERROR:"publish_story_with_broadcast_jcs_error",PUBLISH_STORY_WITH_BROADCAST_JCS_SUCCESSFUL:"publish_story_with_broadcast_jcs_successful",PUBLISH_STORY_WITH_MESSAGE:"publish_story_with_message",REACTION_CUSTOMIZATION_COMPLETED:"reaction_customization_completed",REACTION_CUSTOMIZATIONS_RENDERED:"reaction_customizations_rendered",REACTION_DIGEST_SHEET_RENDERED:"reaction_digest_sheet_rendered",REACTION_LIST_RESET:"reaction_list_reset",REACTION_REPLACED:"reaction_replaced",REACTION_SELECTED:"reaction_selected",REACTION_SHEET_RENDERED:"reaction_sheet_rendered",REMOVE_BROADCAST_CHAT_DIALOG_RENDERED:"remove_broadcast_chat_dialog_rendered",REMOVE_BROADCAST_CHAT_INBOX:"remove_broadcast_chat_inbox",REMOVE_BROADCAST_CHAT_INBOX_CANCEL:"remove_broadcast_chat_inbox_cancel",REMOVE_COLLABORATOR_ATTEMPT:"remove_collaborator_attempt",REMOVE_COLLABORATOR_CANCEL:"remove_collaborator_cancel",REMOVE_COLLABORATOR_DIALOG_RENDERED:"remove_collaborator_dialog_rendered",REMOVE_COLLABORATOR_ERROR:"remove_collaborator_error",REMOVE_COLLABORATOR_SUCCESS:"remove_collaborator_success",REMOVE_MODERATOR_ATTEMPT:"remove_moderator_attempt",REMOVE_MODERATOR_CANCEL:"remove_moderator_cancel",REMOVE_MODERATOR_DIALOG_RENDERED:"remove_moderator_dialog_rendered",REMOVE_MODERATOR_ERROR:"remove_moderator_error",REMOVE_MODERATOR_SUCCESS:"remove_moderator_success",REMOVE_USER_RESPONSE_ATTEMPT:"remove_user_response_attempt",REMOVE_USER_RESPONSE_ERROR:"remove_user_response_error",REMOVE_USER_RESPONSE_SUCCESS:"remove_user_response_success",REPORT_COMMENT:"report_comment",REPORT_COMMENT_SHEET_RENDERED:"report_comment_sheet_rendered",REPORT_THREAD_ERROR:"report_thread_error",REPORT_THREAD_SUCCESS:"report_thread_success",RESIGN_COLLABORATOR_ATTEMPT:"resign_collaborator_attempt",RESIGN_COLLABORATOR_CANCEL:"resign_collaborator_cancel",RESIGN_COLLABORATOR_DIALOG_RENDERED:"resign_collaborator_dialog_rendered",RESIGN_COLLABORATOR_ERROR:"resign_collaborator_error",RESIGN_COLLABORATOR_SUCCESS:"resign_collaborator_success",RESIGN_MODERATOR_ATTEMPT:"resign_moderator_attempt",RESIGN_MODERATOR_CANCEL:"resign_moderator_cancel",RESIGN_MODERATOR_DIALOG_RENDERED:"resign_moderator_dialog_rendered",RESIGN_MODERATOR_ERROR:"resign_moderator_error",RESIGN_MODERATOR_SUCCESS:"resign_moderator_success",RETRIEVE_MESSAGE_REACTIONS_DETAILS:"retrieve_message_reactions_details",RETRIEVE_POLLS_RESPONSES_DETAILS:"retrieve_polls_responses_details",SEE_BROADCAST_CHAT_SHEET_RENDERED:"see_broadcast_chat_sheet_rendered",SEE_CHANNEL_TOOLTIP_RENDERED:"see_channel_tooltip_rendered",SELECT_CHANNEL_DURATION_OPTION:"select_channel_duration_option",SELECTED_TAGGED_CHANNELS:"selected_tagged_channels",SEND_INVITE_LINK_INSTAGRAM_SHEET_RENDERED:"send_invite_link_instagram_sheet_rendered",SET_CHANNEL_DURATION:"set_channel_duration",SET_CHANNEL_DURATION_CANCEL:"set_channel_duration_cancel",SET_CHAT_CREATION_PHOTO:"set_chat_creation_photo",SHARE_CHAT_SHEET_RENDERED:"share_chat_sheet_rendered",SHARE_SHEET_RENDERED:"share_sheet_rendered",SHARED_POST_WITH_TAGGED_CHANNELS:"shared_post_with_tagged_channels",SHOW_CHANNEL_PROFILE_DIABLED:"show_channel_profile_disabled",SHOW_CHANNEL_PROFILE_ENABLED:"show_channel_profile_enabled",SHOW_ON_PROFILE_DISABLED:"show_on_profile_disabled",SHOW_ON_PROFILE_ENABLED:"show_on_profile_enabled",SOME_NOTIFICATIONS_ENABLED:"some_notifications_enabled",STORY_CAMERA_RENDERED_BROADCAST_JCS:"story_camera_rendered_broadcast_jcs",STORY_VIEWER_RENDERED:"story_viewer_rendered",SUBSCRIBE_TO_CREATOR:"subscribe_to_creator",SUBSCRIBE_TO_JOIN_CHAT_SHEET_RENDERED:"subscribe_to_join_chat_sheet_rendered",SUBSCRIBER_BROADCAST_JCS_JOIN_CHAT:"subscriber_broadcast_jcs_join_chat",TAG_CHANNELS_SHEET_RENDERED:"tag_channels_sheet_rendered",THREAD_ADD_COLLABORATORS:"thread_add_collaborators",THREAD_ADD_COLLABORATORS_ERROR:"thread_add_collaborators_error",THREAD_ADD_COLLABORATORS_SUCCESS:"thread_add_collaborators_success",THREAD_ADD_MODERATORS:"thread_add_moderators",THREAD_ADD_MODERATORS_ERROR:"thread_add_moderators_error",THREAD_ADD_MODERATORS_SUCCESS:"thread_add_moderators_success",THREAD_CREATE_ATTEMPT:"thread_create_attempt",THREAD_CREATE_ERROR:"thread_create_error",THREAD_CREATE_SUCCESSFUL:"thread_create_successful",THREAD_DELETE_ATTEMPT:"thread_delete_attempt",THREAD_DELETE_CANCEL:"thread_delete_cancel",THREAD_DELETE_ERROR:"thread_delete_error",THREAD_DELETE_SUCCESSFUL:"thread_delete_successful",THREAD_END_ATTEMPT:"thread_end_attempt",THREAD_END_CANCEL:"thread_end_cancel",THREAD_END_ERROR:"thread_end_error",THREAD_END_SUCCESSFUL:"thread_end_successful",THREAD_INACCESSIBLE:"thread_inaccessible",THREAD_JOIN:"thread_join",THREAD_JOIN_CANCEL:"thread_join_cancel",THREAD_JOIN_ERROR:"thread_join_error",THREAD_JOIN_SUCCESSFUL:"thread_join_successful",THREAD_OPEN:"thread_open",THREAD_OPEN_ERROR:"thread_open_error",THREAD_OPEN_SUCCESSFUL:"thread_open_successful",THREAD_PREVIEW:"thread_preview",THREAD_UPDATE_NAME:"thread_update_name",THREAD_UPDATE_PHOTO:"thread_update_photo",THREAD_UPDATE_THEME:"thread_update_theme",TRANSLATED_TEXT_DISABLED:"translated_text_disabled",TRANSLATED_TEXT_ENABLED:"translated_text_enabled",TRANSLATION_FOOTER_NUX_CLICKED:"translation_footer_nux_clicked",TRANSLATION_FOOTER_NUX_RENDERED:"translation_footer_nux_rendered",TRANSLATION_SECTION_RENDERED:"translation_section_rendered",UNLIKE_COMMENT:"unlike_comment",UNSEND_MESSAGE_ATTEMPT:"unsend_message_attempt",UNSEND_MESSAGE_ERROR:"unsend_message_error",UNSEND_MESSAGE_SUCCESSFUL:"unsend_message_successful",UNSEND_PROMPT_ATTEMPT:"unsend_prompt_attempt",UNSEND_PROMPT_ERROR:"unsend_prompt_error",UNSEND_PROMPT_SUCCESS:"unsend_prompt_success",UNSEND_RESPONSE_ATTEMPT:"unsend_response_attempt",UNSEND_RESPONSE_ERROR:"unsend_response_error",UNSEND_RESPONSE_SUCCESS:"unsend_response_success",USER_INITIATE_MESSAGE_REPORT:"user_initiate_message_report",USER_NUX_SHEET_RENDERED:"user_nux_sheet_rendered",VIEW_COMMENTS_INTEGRITY_NUDGE:"view_comments_integrity_nudge",VIEW_COMMENTS_SHEET:"view_comments_sheet",VIEW_COMMENTS_UPSELL_NUX:"view_comment_upsell_nux",WAITLIST_NUX_SHEET_RENDERED:"waitlist_nux_sheet_rendered",WAITLIST_QUESTIONS_SHEET_RENDERED:"waitlist_questions_sheet_rendered",WELCOME_VIDEO_CREATION_START:"welcome_video_creation_start",WELCOME_VIDEO_NUX_RENDERED:"welcome_video_nux_rendered",WELCOME_VIDEO_PIP_DISMISSED:"welcome_video_pip_dismissed",WELCOME_VIDEO_PIP_TIMEOUT:"welcome_video_pip_timeout",WELCOME_VIDEO_REMOVED:"welcome_video_removed",WELCOME_VIDEO_RENDERED:"welcome_video_rendered",WELCOME_VIDEO_SAVED:"welcome_video_saved",WELCOME_VIDEO_SETTINGS_RENDERED:"welcome_video_settings_rendered"});c=a;f["default"]=c}),66);
__d("IgdBroadcastChatsActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4793");b=d("FalcoLoggerInternal").create("igd_broadcast_chats_actions",a);e=b;g["default"]=e}),98);
__d("IGDBroadcastChannelLogger",["IgdBroadcastChatsActionsFalcoEvent","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["retrieve_message_reactions_details","retrieve_polls_responses_details","delete_broadcast_chat_dialog_rendered","unsend_message_attempt","end_chat_dialog_rendered","retrieve_polls_responses_details","retrieve_message_reactions_details"]),i=new Set(["fetch_seen_active_count_error","fetch_seen_active_count_successful","message_reactions_render_error","message_reactions_render_successful","thread_delete_cancel","thread_delete_successful","poll_responses_render_error","poll_responses_render_successful","unsend_message_error","unsend_message_successful","thread_end_successful","thread_end_error","thread_end_cancel","poll_responses_render_successful","poll_responses_render_error","message_reactions_render_successful","message_reactions_render_error"]),j=5*60*1e3,k=null,l=null;function a(a){var b=a.event,d=babelHelpers.objectWithoutPropertiesLoose(a,["event"]);a=Date.now();(k==null||l!=null&&a-l>j||h.has(b))&&(k=c("uuidv4")());l=a;c("IgdBroadcastChatsActionsFalcoEvent").log(function(){return babelHelpers["extends"]({event:b,session_id:k},d)});i.has(b)&&(k=null)}g.log=a}),98);
__d("MAWVerifyThreadCutover",["I64","LSContactBitOffset","LSIntEnum","MAWGating","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(d("MAWGating").isThreadLevelCutoverEnabled()){a=(yield a);a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(c)));return a}return b("Promise").resolve()});return h.apply(this,arguments)}function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(d("MAWGating").isThreadLevelCutoverEnabled()){a=(yield a);a=(yield b("Promise").all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(c))]));c=a[0];a=a[1];a=a!=null&&d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(76),a);return c!=null||a}return!1});return j.apply(this,arguments)}function c(a,c){return c==null?b("Promise").resolve(!1):i(a,d("I64").of_string(c))}g.getCutoverThread=a;g.verifyThreadCutover=i;g.verifyThreadCutoverWithStringInput=c}),98);
__d("MWOpenMediaManagerUtils.bs",["I64","LSFactory","LSGenerateTraceId","LSIntEnum","LSMarkSubJobCompletedV2","MWConsole","MWPComposerMediaUploadUtil","MWPOpenComposerUtils.bs","OfflineThreadingId","Promise","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("Promise").resolve(d("OfflineThreadingId").createForItemsInOrder(a))}function e(a,e,f,g,h,i){var j=function(b,e){e=e.event;if(!e.lengthComputable)return;var f=e.loaded/e.total;c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils.bs").updateMediaStaging(a,b,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:a.isSent,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:f,threadKey:a.threadKey}})},"readwrite"))},k=function(f,g){c("promiseDone")(a.runInTransaction(function(a){var h=d("MWPOpenComposerUtils.bs").updateMediaStaging(a,f,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:d("I64").of_float(g),filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:a.isSent,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:1,threadKey:a.threadKey}}),i=a.table("media_send_jobs").get({hd:f,tl:0}).then(function(h){if(h==null)return b("Promise").resolve();var i=c("LSFactory")(a),j=h.offlineThreadingId,k=h.offlineAttachmentId;return c("LSMarkSubJobCompletedV2")(f,d("I64").of_float(g),void 0,void 0,void 0,i).then(function(){return d("MWPOpenComposerUtils.bs").deleteMediaStaging(a,f)}).then(function(){return d("MWPOpenComposerUtils.bs").updateAttachment(a,e,j,k,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:g.toString()})})}).then(function(){return d("MWPOpenComposerUtils.bs").resumeSendJob(i,j,c("LSGenerateTraceId")())})});return b("Promise").all([h,i])},"readwrite"))},l=function(e,f){c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils.bs").updateMediaStaging(a,e,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:!0,isSent:a.isSent,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:a.progress,threadKey:a.threadKey}}).then(function(){return a.table("media_send_jobs").get({hd:e,tl:0}).then(function(c){if(c!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("messages").index("optimistic")).getKeyRange(c.offlineThreadingId)).then(function(c){if(c==null)return b("Promise").resolve();c=babelHelpers["extends"]({},c,{sendStatusV2:d("LSIntEnum").ofNumber(4)});return a.table("messages").put(c)});else return b("Promise").resolve()})})},"readwrite"))},m=f.map(function(a){return a[1]});f=f.map(function(a){return a[0]});return d("MWPComposerMediaUploadUtil").startUpload(j,k,l,void 0,f,m,g,h,void 0,i)}g.preprocess=a;g.upload=e}),98);
__d("useMAWSendToSentQPLLogger",["QPLUserFlow","Random","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(){var a=c("qpl")._(25313175,"1551");return h(function(){return{addSendToSentAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markSendToSentFail:function(b,d){c("QPLUserFlow").endFailure(a,d.name,{error:d,instanceKey:b})},markSendToSentStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markSendToSentSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})},markSentToSentPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})}}},[a])}g["default"]=a}),98);
__d("MlsMessageActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1401");b=d("FalcoLoggerInternal").create("mls_message_action",a);e=b;g["default"]=e}),98);
__d("MWLogMessageAction",["I64","MWLSContactTypeExactUtils","MlsMessageActionFalcoEvent","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e,f,g,i,j,k,l){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j,k,l,m){var n=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(e))),o=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(e))),p=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(e),d("ReQL").fromTableAscending(a.table("contacts"))).filter(function(a){a[0];a=a[1].contactTypeExact;return d("MWLSContactTypeExactUtils").isIgContact(a)})))!=null;n!=null&&c("MlsMessageActionFalcoEvent").log(function(){var a;return{action:g,browser_window_height:window.innerHeight,browser_window_width:window.innerWidth,device_screen_height:window.screen.height,device_screen_width:window.screen.width,error_text:i,extra:h,group_size:String(o.length),is_xac_thread:p,ls_thread_type:d("I64").to_int32(n.threadType),message_type:(a=l)!=null?a:"text",mid:b,reaction:j,recipient_id:k!=null?d("I64").to_string(k):void 0,sender_id:d("I64").to_string(m),source:f,thread_id:d("I64").to_string(e)}})});return h.apply(this,arguments)}g.log=a}),98);
__d("MWPReplyLogging.bs",["I64","QPLUserFlow","deepEquals","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){var b=Date.now()|0;h.set(d("I64").to_string(a),b);return b}function j(a){var b=h.get(d("I64").to_string(a));if(b==null)return i(a);else return b}function a(a,b,e){if(e){a?c("QPLUserFlow").endCancel(c("qpl")._(25298086,"3996"),{instanceKey:j(b)}):c("QPLUserFlow").endSuccess(c("qpl")._(25298086,"3996"),{instanceKey:j(b)});h["delete"](d("I64").to_string(b));return}}function b(a,b,d){if(a!=null){if(c("deepEquals")(a,b)){c("QPLUserFlow").addPoint(c("qpl")._(25298086,"3996"),"same_message",{instanceKey:j(d)});return}if(!c("deepEquals")(a,b)){a=j(d);c("QPLUserFlow").addPoint(c("qpl")._(25298086,"3996"),"switch_message",{instanceKey:a});c("QPLUserFlow").endCancel(c("qpl")._(25298086,"3996"),{instanceKey:a});c("QPLUserFlow").start(c("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:i(d),timeoutInMs:6e4});return}}c("QPLUserFlow").start(c("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:i(d),timeoutInMs:6e4})}g.logClearReply=a;g.logSetReply=b}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("minisearch-3.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.MiniSearch=c())})(this,function(){var a=function(){a=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return a.apply(this,arguments)};function b(a){var b=typeof Symbol==="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length==="number")return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e}function d(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(c(arguments[b]));return a}var e="ENTRIES",f="KEYS",g="VALUES",h="",i=function(){function a(a,b){var c=a._tree,d=Object.keys(c);this.set=a;this._type=b;this._path=d.length>0?[{node:c,keys:d}]:[]}a.prototype.next=function(){var a=this.dive();this.backtrack();return a};a.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var a=j(this._path),b=a.node;a=a.keys;if(j(a)===h)return{done:!1,value:this.result()};this._path.push({node:b[j(a)],keys:Object.keys(b[j(a)])});return this.dive()};a.prototype.backtrack=function(){if(this._path.length===0)return;j(this._path).keys.pop();if(j(this._path).keys.length>0)return;this._path.pop();this.backtrack()};a.prototype.key=function(){return this.set._prefix+this._path.map(function(a){a=a.keys;return j(a)}).filter(function(a){return a!==h}).join("")};a.prototype.value=function(){return j(this._path).node[h]};a.prototype.result=function(){if(this._type===g)return this.value();return this._type===f?this.key():[this.key(),this.value()]};a.prototype[Symbol.iterator]=function(){return this};return a}(),j=function(a){return a[a.length-1]},k=0,l=1,m=2,n=3,o=function(a,b,d){var e=[{distance:0,i:0,key:"",node:a}],f={},g=[];a=function(){var a=e.pop(),i=a.node,j=a.distance,k=a.key,l=a.i,m=a.edit;Object.keys(i).forEach(function(n){if(n===h){var o=j+(b.length-l),a=c(f[k]||[null,Infinity],2);a=a[1];o<=d&&o<a&&(f[k]=[i[n],o])}else p(b,n,d-j,l,m,g).forEach(function(a){var c=a.distance,b=a.i;a=a.edit;e.push({node:i[n],distance:j+c,key:k+n,i:b,edit:a})})})};while(e.length>0)a();return f},p=function(a,b,c,d,e,f){f.push({distance:0,ia:d,ib:0,edit:e});d=[];while(f.length>0){e=f.pop();var g=e.distance,h=e.ia,i=e.ib;e=e.edit;if(i===b.length){d.push({distance:g,i:h,edit:e});continue}if(a[h]===b[i])f.push({distance:g,ia:h+1,ib:i+1,edit:k});else{if(g>=c)continue;e!==m&&f.push({distance:g+1,ia:h,ib:i+1,edit:n});h<a.length&&(e!==n&&f.push({distance:g+1,ia:h+1,ib:i,edit:m}),e!==n&&e!==m&&f.push({distance:g+1,ia:h+1,ib:i+1,edit:l}))}}return d},q=function(){function a(a,b){a===void 0&&(a={}),b===void 0&&(b=""),this._tree=a,this._prefix=b}a.prototype.atPrefix=function(d){var b;if(!d.startsWith(this._prefix))throw new Error("Mismatched prefix");var e=c(r(this._tree,d.slice(this._prefix.length)),2),f=e[0];e=e[1];if(f===void 0){e=c(y(e),2);var g=e[0],i=e[1];e=Object.keys(g).find(function(a){return a!==h&&a.startsWith(i)});if(e!==void 0)return new a((b={},b[e.slice(i.length)]=g[e],b),d)}return new a(f||{},d)};a.prototype.clear=function(){delete this._size,this._tree={}};a.prototype["delete"]=function(a){delete this._size;return v(this._tree,a)};a.prototype.entries=function(){return new i(this,e)};a.prototype.forEach=function(d){var e,a;try{for(var f=b(this),g=f.next();!g.done;g=f.next()){var h=c(g.value,2),i=h[0];h=h[1];d(i,h,this)}}catch(a){e={error:a}}finally{try{g&&!g.done&&(a=f["return"])&&a.call(f)}finally{if(e)throw e.error}}};a.prototype.fuzzyGet=function(a,b){return o(this._tree,a,b)};a.prototype.get=function(a){a=s(this._tree,a);return a!==void 0?a[h]:void 0};a.prototype.has=function(a){a=s(this._tree,a);return a!==void 0&&a.hasOwnProperty(h)};a.prototype.keys=function(){return new i(this,f)};a.prototype.set=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b;return this};Object.defineProperty(a.prototype,"size",{get:function(){var a=this;if(this._size)return this._size;this._size=0;this.forEach(function(){a._size+=1});return this._size},enumerable:!1,configurable:!0});a.prototype.update=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b(a[h]);return this};a.prototype.values=function(){return new i(this,g)};a.prototype[Symbol.iterator]=function(){return this.entries()};a.from=function(e){var f,d,g=new a();try{for(var h=b(e),i=h.next();!i.done;i=h.next()){e=c(i.value,2);var j=e[0];e=e[1];g.set(j,e)}}catch(a){f={error:a}}finally{try{i&&!i.done&&(d=h["return"])&&d.call(h)}finally{if(f)throw f.error}}return g};a.fromObject=function(b){return a.from(Object.entries(b))};return a}(),r=function(a,b,c){c===void 0&&(c=[]);if(b.length===0||a==null)return[a,c];var d=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});if(d===void 0){c.push([a,b]);return r(void 0,"",c)}c.push([a,d]);return r(a[d],b.slice(d.length),c)},s=function(a,b){if(b.length===0||a==null)return a;var c=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});return c===void 0?void 0:s(a[c],b.slice(c.length))},t=function(b,c){var a;if(c.length===0||b==null)return b;var d=Object.keys(b).find(function(a){return a!==h&&c.startsWith(a)});if(d===void 0){var e=Object.keys(b).find(function(a){return a!==h&&a.startsWith(c[0])});if(e===void 0)b[c]={};else{var f=u(c,e);b[f]=(a={},a[e.slice(f.length)]=b[e],a);delete b[e];return t(b[f],c.slice(f.length))}return b[c]}return t(b[d],c.slice(d.length))},u=function(a,b,c,d,e){c===void 0&&(c=0);d===void 0&&(d=Math.min(a.length,b.length));e===void 0&&(e="");if(c>=d)return e;return a[c]!==b[c]?e:u(a,b,c+1,d,e+a[c])},v=function(a,b){a=c(r(a,b),2);b=a[0];a=a[1];if(b===void 0)return;delete b[h];var d=Object.keys(b);d.length===0&&w(a);d.length===1&&x(a,d[0],b[d[0]])},w=function(b){if(b.length===0)return;var a=c(y(b),2),d=a[0];a=a[1];delete d[a];Object.keys(d).length===0&&w(b.slice(0,-1))},x=function(a,b,d){if(a.length===0)return;a=c(y(a),2);var e=a[0];a=a[1];e[a+b]=d;delete e[a]},y=function(a){return a[a.length-1]},z,A="or",B="and",C=function(){function b(b){if((b===null||b===void 0?void 0:b.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');this._options=a(a(a({},J),b),{searchOptions:a(a({},K),b.searchOptions||{})});this._index=new q();this._documentCount=0;this._documentIds={};this._fieldIds={};this._fieldLength={};this._averageFieldLength={};this._nextId=0;this._storedFields={};this.addFields(this._options.fields)}b.prototype.add=function(b){var c=this,a=this._options,d=a.extractField,e=a.tokenize,f=a.processTerm,g=a.fields;a=a.idField;var h=d(b,a);if(h==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');var i=this.addDocumentId(h);this.saveStoredFields(i,b);g.forEach(function(a){var g=d(b,a);if(g==null)return;g=e(g.toString(),a);c.addFieldLength(i,c._fieldIds[a],c.documentCount-1,g.length);g.forEach(function(b){b=f(b,a);b&&c.addTerm(c._fieldIds[a],i,b)})})};b.prototype.addAll=function(a){var b=this;a.forEach(function(a){return b.add(a)})};b.prototype.addAllAsync=function(a,b){var c=this;b===void 0&&(b={});b=b.chunkSize;var d=b===void 0?10:b;b={chunk:[],promise:Promise.resolve()};a=a.reduce(function(a,e,f){var b=a.chunk;a=a.promise;b.push(e);if((f+1)%d===0)return{chunk:[],promise:a.then(function(){return new Promise(function(a){return setTimeout(a,0)})}).then(function(){return c.addAll(b)})};else return{chunk:b,promise:a}},b);var e=a.chunk;b=a.promise;return b.then(function(){return c.addAll(e)})};b.prototype.remove=function(b){var d=this,a=this._options,e=a.tokenize,f=a.processTerm,g=a.extractField,h=a.fields;a=a.idField;var i=g(b,a);if(i==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');a=c(Object.entries(this._documentIds).find(function(a){a=c(a,2);a[0];a=a[1];return i===a})||[],1);var j=a[0];if(j==null)throw new Error("MiniSearch: cannot remove document with ID "+i+": it is not in the index");h.forEach(function(a){var c=g(b,a);if(c==null)return;c=e(c.toString(),a);c.forEach(function(b){b=f(b,a);b&&d.removeTerm(d._fieldIds[a],j,b)})});delete this._storedFields[j];delete this._documentIds[j];this._documentCount-=1};b.prototype.removeAll=function(a){var b=this;if(a)a.forEach(function(a){return b.remove(a)});else if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");else this._index=new q(),this._documentCount=0,this._documentIds={},this._fieldLength={},this._averageFieldLength={},this._storedFields={},this._nextId=0};b.prototype.search=function(d,e){var f=this;e===void 0&&(e={});var b=this._options,g=b.tokenize,h=b.processTerm;b=b.searchOptions;var i=a(a({tokenize:g,processTerm:h},b),e);g=i.tokenize;var j=i.processTerm;h=g(d).map(function(a){return j(a)}).filter(function(a){return!!a});b=h.map(H(i));e=b.map(function(a){return f.executeQuery(a,i)});g=this.combineResults(e,i.combineWith);return Object.entries(g).reduce(function(d,a){a=c(a,2);var e=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;a={id:f._documentIds[e],terms:I(a),score:b,match:g};Object.assign(a,f._storedFields[e]);(i.filter==null||i.filter(a))&&d.push(a);return d},[]).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};b.prototype.autoSuggest=function(b,d){d===void 0&&(d={});d=a(a({},L),d);b=this.search(b,d).reduce(function(c,a){var b=a.score;a=a.terms;var d=a.join(" ");c[d]==null?c[d]={score:b,terms:a,count:1}:(c[d].score+=b,c[d].count+=1);return c},{});return Object.entries(b).map(function(a){a=c(a,2);var d=a[0];a=a[1];var b=a.score,e=a.terms;a=a.count;return{suggestion:d,terms:e,score:b/a}}).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};Object.defineProperty(b.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0});b.loadJSON=function(a,c){if(c==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return b.loadJS(JSON.parse(a),c)};b.getDefault=function(a){if(J.hasOwnProperty(a))return D(J,a);else throw new Error('MiniSearch: unknown option "'+a+'"')};b.loadJS=function(a,c){var d=a.index,e=a.documentCount,f=a.nextId,g=a.documentIds,h=a.fieldIds,i=a.fieldLength,j=a.averageFieldLength;a=a.storedFields;c=new b(c);c._index=new q(d._tree,d._prefix);c._documentCount=e;c._nextId=f;c._documentIds=g;c._fieldIds=h;c._fieldLength=i;c._averageFieldLength=j;c._fieldIds=h;c._storedFields=a||{};return c};b.prototype.executeQuery=function(b,d){var e=this;d=a(a({},this._options.searchOptions),d);var f=(d.fields||this._options.fields).reduce(function(c,d){var b;return a(a({},c),(b={},b[d]=D(c,d)||1,b))},d.boost||{}),g=d.boostDocument;d=d.weights;d=a(a({},K.weights),d);var h=d.fuzzy,i=d.prefix;d=this.termResults(b.term,f,g,this._index.get(b.term));if(!b.fuzzy&&!b.prefix)return d;var j=[d];b.prefix&&this._index.atPrefix(b.term).forEach(function(a,c){var d=.3*(a.length-b.term.length)/a.length;j.push(e.termResults(a,f,g,c,i,d))});if(b.fuzzy){d=b.fuzzy===!0?.2:b.fuzzy;d=d<1?Math.round(b.term.length*d):d;Object.entries(this._index.fuzzyGet(b.term,d)).forEach(function(a){a=c(a,2);var b=a[0];a=c(a[1],2);var d=a[0];a=a[1];a=a/b.length;j.push(e.termResults(b,f,g,d,h,a))})}return j.reduce(E[A],{})};b.prototype.combineResults=function(a,b){b===void 0&&(b=A);if(a.length===0)return{};b=b.toLowerCase();return a.reduce(E[b],null)||{}};b.prototype.toJSON=function(){return{index:this._index,documentCount:this._documentCount,nextId:this._nextId,documentIds:this._documentIds,fieldIds:this._fieldIds,fieldLength:this._fieldLength,averageFieldLength:this._averageFieldLength,storedFields:this._storedFields}};b.prototype.termResults=function(a,b,d,e,f,g){var h=this;g===void 0&&(g=0);return e==null?{}:Object.entries(b).reduce(function(f,b){b=c(b,2);var i=b[0],j=b[1],k=h._fieldIds[i];b=e[k]||{ds:{}};var l=b.df;b=b.ds;Object.entries(b).forEach(function(b){b=c(b,2);var e=b[0];b=b[1];var m=d?d(h._documentIds[e],a):1;if(!m)return;var n=h._fieldLength[e][k]/h._averageFieldLength[k];f[e]=f[e]||{score:0,match:{},terms:[]};f[e].terms.push(a);f[e].match[a]=D(f[e].match,a)||[];f[e].score+=m*G(b,l,h._documentCount,n,j,g);f[e].match[a].push(i)});return f},{})};b.prototype.addTerm=function(b,c,d){this._index.update(d,function(d){d=d||{};var e=d[b]||{df:0,ds:{}};e.ds[c]==null&&(e.df+=1);e.ds[c]=(e.ds[c]||0)+1;return a(a({},d),(d={},d[b]=e,d))})};b.prototype.removeTerm=function(b,c,d){var e=this;if(!this._index.has(d)){this.warnDocumentChanged(c,b,d);return}this._index.update(d,function(f){var g=f[b];if(g==null||g.ds[c]==null){e.warnDocumentChanged(c,b,d);return f}if(g.ds[c]<=1){if(g.df<=1){delete f[b];return f}g.df-=1}if(g.ds[c]<=1){delete g.ds[c];return f}g.ds[c]-=1;return a(a({},f),(f={},f[b]=g,f))});Object.keys(this._index.get(d)).length===0&&this._index["delete"](d)};b.prototype.warnDocumentChanged=function(a,b,d){if(console==null||emptyFunction==null)return;a=Object.entries(this._fieldIds).find(function(a){a=c(a,2);a[0];a=a[1];return a===b})[0]};b.prototype.addDocumentId=function(a){var b=this._nextId.toString(36);this._documentIds[b]=a;this._documentCount+=1;this._nextId+=1;return b};b.prototype.addFields=function(a){var b=this;a.forEach(function(a,c){b._fieldIds[a]=c})};b.prototype.addFieldLength=function(a,b,c,d){this._averageFieldLength[b]=this._averageFieldLength[b]||0;var e=this._averageFieldLength[b]*c+d;this._fieldLength[a]=this._fieldLength[a]||{};this._fieldLength[a][b]=d;this._averageFieldLength[b]=e/(c+1)};b.prototype.saveStoredFields=function(b,c){var d=this,a=this._options,e=a.storeFields,f=a.extractField;if(e==null||e.length===0)return;this._storedFields[b]=this._storedFields[b]||{};e.forEach(function(a){var e=f(c,a);if(e===void 0)return;d._storedFields[b][a]=e})};return b}(),D=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0},E=(z={},z[A]=function(a,b){return Object.entries(b).reduce(function(e,a){a=c(a,2);var f=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;e[f]==null?e[f]={score:b,match:g,terms:a}:(e[f].score+=b,e[f].score*=1.5,(b=e[f].terms).push.apply(b,d(a)),Object.assign(e[f].match,g));return e},a||{})},z[B]=function(b,e){return b==null?e:Object.entries(e).reduce(function(g,e){e=c(e,2);var h=e[0];e=e[1];var f=e.score,i=e.match;e=e.terms;if(b[h]===void 0)return g;g[h]=g[h]||{};g[h].score=b[h].score+f;g[h].match=a(a({},b[h].match),i);g[h].terms=d(b[h].terms,e);return g},{})},z),F=function(a,b,c){return a*Math.log(c/b)},G=function(a,b,c,d,e,f){e=e/(1+.333*e*f);return e*F(a,b,c)/d},H=function(a){return function(b,c,d){var e=typeof a.fuzzy==="function"?a.fuzzy(b,c,d):a.fuzzy||!1;c=typeof a.prefix==="function"?a.prefix(b,c,d):a.prefix===!0;return{term:b,fuzzy:e,prefix:c}}},I=function(a){return a.filter(function(b,c,a){return a.indexOf(b)===c})},J={idField:"id",extractField:function(a,b){return a[b]},tokenize:function(a,b){return a.split(M)},processTerm:function(a,b){return a.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},K={combineWith:A,prefix:!1,fuzzy:!1,boost:{},weights:{fuzzy:.9,prefix:.75}},L={prefix:function(a,b,c){return b===c.length-1}},M=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;return C})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("minisearch",["minisearch-3.0.2"],(function(a,b,c,d,e,f){e.exports=b("minisearch-3.0.2")()}),null);/*FB_PKG_DELIM*/
__d("PolarisHideNativeAppBanner",["PolarisBatchDOM","PolarisConfig","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=c("emptyFunction")),d("PolarisConfig").isIOS()&&d("PolarisBatchDOM").mutate(function(){window.setTimeout(function(){window&&document.body&&(window.scrollTo(0,document.body.scrollHeight),a())},0)})}g.hideNativeAppBanner_HACK=a}),98);
__d("PolarisFullscreenShell.react",["PolarisBaseShell.react","PolarisHideNativeAppBanner","PolarisToastWrapper.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={shell:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){d("PolarisHideNativeAppBanner").hideNativeAppBanner_HACK()};e.componentDidUpdate=function(a){a.deviceOrientation!=null&&a.deviceOrientation!==this.props.deviceOrientation&&d("PolarisHideNativeAppBanner").hideNativeAppBanner_HACK()};e.render=function(){var a=this.props,b=a.children;a=a.xstyle;return h.jsxs(c("PolarisBaseShell.react"),{xstyle:[i.shell,a],children:[b,h.jsx(c("PolarisToastWrapper.react"),{})]})};return b}(h.Component);g["default"]=a}),98);
__d("PolarisDirectActionSendText",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return a!=null?a.sendTextMessage(c,d,e,f,g):b("Promise").reject(new Error("MQTT is not instantiated"))}f.sendText=a}),66);
__d("PolarisDirectActionShareStory",["InstagramODS","PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionSendText","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectConstants","PolarisDirectStrings","PolarisToastActions","Promise","isStringNullOrEmpty","nullthrows","polarisDirectSelectors","polarisGenerateOfflineThreadingId"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f,g,h,i,j){return function(k,l){e.forEach(function(e,m){var n;e.type==="user"?n=d("polarisDirectSelectors").getThreadIdForUserId(l(),m):e.type==="thread"&&(n=m);d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_attempt",{existingThreadId:n,recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE});return n!=null?d("PolarisDirectAPI").storyShare(f,g,n).then(function(){i==null?void 0:i(m),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),c("InstagramODS").incr("web.share_sheet.send_story")}).then(function(){var f=c("polarisGenerateOfflineThreadingId")();n!=null&&!c("isStringNullOrEmpty")(h)&&new(b("Promise"))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(a,c("nullthrows")(n),h,f)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),c("InstagramODS").incr("web.share_sheet.send_story_with_comment")})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})})["catch"](function(a){j==null?void 0:j(a,m),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_share_story_failed",a,{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))}):d("PolarisDirectAPI").createGroupThread([m]).then(function(l){var n=l.thread_id;k(d("PolarisDirectActionThreadLoaded").threadLoaded(l));d("PolarisDirectAPI").storyShare(f,g,n).then(function(){i==null?void 0:i(m),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE})}).then(function(){var f=c("polarisGenerateOfflineThreadingId")();n!=null&&!c("isStringNullOrEmpty")(h)&&new(b("Promise"))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(a,c("nullthrows")(n),h,f)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT})})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})})["catch"](function(a){j==null?void 0:j(a,m),d("PolarisDirectActionsLogger").directActionsLogger.logError("share_story_failed_existing_thread",a,{type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})},function(a){j==null?void 0:j(a,m),d("PolarisDirectActionsLogger").directActionsLogger.logError("share_story_failed_new_thread",a,{type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})})}}g.shareStory=a}),98);
__d("PolarisLocationSelectors",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){return(b=b.locations[a])!=null?b:null}}f.getLocation=a}),66);
__d("PolarisNetworkInfo",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=navigator;return a.connection||a.mozConnection||a.webkitConnection}f.getNavigatorConnection=a}),66);
__d("PolarisLocationAvatar.react",["cx","fbt","IGDSLocationPanoOutlineIcon","PolarisFastLink.react","PolarisLinkBuilder","PolarisUA","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.backgroundColor;b=b===void 0?"ig-secondary-background":b;var e=a.isLink;e=e===void 0?!0:e;var f=a.locationId;a.locationSlug;var g=a.profilePictureUrl;a=a.size;a=a===void 0?30:a;a={height:a,width:a};var h=g!=null;h=h?j.jsx("img",{alt:"",className:"_abwx",src:g}):j.jsx("div",{className:"_abwy",children:j.jsx(c("IGDSLocationPanoOutlineIcon"),{alt:i._("__JHASH__cmMYPzRMRbE__JHASH__"),color:"ig-secondary-text",size:d("PolarisUA").isMobile()?32:44})});return j.jsx("div",{className:"_abwv"+(b==="ig-primary-background"?" _adbd":""),style:a,children:e?j.jsx(c("PolarisFastLink.react"),{className:"_aa8k",href:d("PolarisLinkBuilder").buildLocationLink({id:f,slug:""}),style_DEPRECATED:a,children:h}):j.jsx(j.Fragment,{children:h})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisNeedsTapToStart",["usePolarisViewer","useRouteReferrer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useRouteReferrer")(),d=c("usePolarisViewer")();d=d!=null&&d.id===a;return d===!1&&((b==null?void 0:b.navigationType)==="initial"||(b==null?void 0:b.navigationType)==="reload")}g["default"]=a}),98);
__d("PolarisStoriesComponent.react",["PolarisReactRedux","cr:2883","cr:3914","cr:4381","cr:4689","err","polarisStorySelectors","react","usePolarisNeedsTapToStart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e,f=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentReel);e=c("usePolarisNeedsTapToStart")((e=f==null?void 0:f.userId)!=null?e:null);var g=d("PolarisReactRedux").useSelector(function(a){return a.stories.isLoading});g=a.isLoggedOutHighlightViewer===!0&&(g===!0||a.initializing===!0);var i=a.isLoggedOutHighlightViewer===!0&&g===!1&&f!=null&&f.itemIds!=null&&f.itemIds.length>=0;g=function(){if(b("cr:3914"))return a.viewerIsLoggedIn?b("cr:3914"):b("cr:2883");if(b("cr:4689"))return a.viewerIsLoggedIn||i?b("cr:4689"):b("cr:4381")};f=g();if(f==null)throw c("err")("No root story component");return h.jsx("div",{style:{height:"100vh",position:"fixed",width:"100%"},children:h.jsx(f,babelHelpers["extends"]({},a,{needsTapToStart:e}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FocusGroup.react",["FocusManager","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","gkx","react","setElementCanTab"],(function(a,b,c,d,e,f,g){var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k=b.useRef,l=5;function m(a){return a.length===1}function n(a,b,c,e){d("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(c);b=b.DO_NOT_USE_queryFirstNode(a);b!==null&&(document.activeElement!=null&&d("setElementCanTab").setElementCanTab(document.activeElement,!1),d("setElementCanTab").setElementCanTab(b,!0),d("FocusManager").focusElement(b,{preventScroll:e}),c.preventDefault())}function o(a,b,c,d,e,f){b=b.onNavigate;if(b&&d){var g=!1,h=p(d,e);e={currentIndex:h,event:c,focusItem:function(a,b){a=a.scopeRef.current;a&&n(b||f,a,c)},getItem:function(a){return t(d,a)},getItemByTag:function(a){var b=d.length,c=h+1;while(!0){if(c===h)return null;if(c>b-1){c=0;continue}var e=d[c];if(e){var f=e.disabled,g=e.scopeRef,i=e.tag;g=g.current;if(g&&f!==!0&&i===a)return e}c++}return null},preventDefault:function(){g=!0},type:a};b(e);if(g)return!0}return!1}function p(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.scopeRef.current===b)return c}return-1}function q(a,b,c){var d=a.scopeRef.current;if(d===null)return null;if(c!==null){d=p(c,b);b=a.wrap;a=u(c,d-1);return!a&&b===!0?u(c,c.length-1):a}return null}function r(a,b,c){var d=a.scopeRef.current;if(d===null)return null;if(c.length>0){d=p(c,b);b=a.wrap;a=s(c,d+1);return!a&&b===!0?s(c,0):a}return null}function s(a,b){var d=a.length;if(b>d)return null;b=b;while(b<d){var e=a[b];if(c("gkx")("5403")){if(e!==null)return e.scopeRef.current}else if(e!==null&&e.disabled!==!0)return e.scopeRef.current;b++}return null}function t(a,b){b=b;while(b>=0){var d=a[b];if(c("gkx")("5403")){if(d!==null)return d}else if(d!==null&&d.disabled!==!0)return d;b--}return null}function u(a,b){a=t(a,b);return a?a.scopeRef.current:null}function v(a){var b=a.altKey,c=a.ctrlKey,d=a.metaKey;a=a.shiftKey;return b===!0||c===!0||d===!0||a===!0}function a(a){var b=h.unstable_Scope,c=h.createContext(null),e=h.createContext(null);function g(e){var f=e.children,g=e.orientation,i=e.wrap,m=e.tabScopeQuery,n=e.allowModifiers,o=e.preventScrollOnFocus,p=o===void 0?!1:o;o=e.pageJumpSize;var q=o===void 0?l:o,r=e.onNavigate,s=k(null);o=j(function(){return{scopeRef:s,orientation:g,wrap:i,tabScopeQuery:m,allowModifiers:n,pageJumpSize:q,preventScrollOnFocus:p,onNavigate:r}},[g,i,m,n,q,p,r]);var u=k(!1);e=d("ReactFocusEvent.react").useFocusWithin(s,j(function(){return{onFocusWithin:function(b){u.current||(u.current=!0,s.current&&a&&(t(s.current,a),d("setElementCanTab").setElementCanTab(b.target,!0)))}}},[u]));return h.jsx(c.Provider,{value:o,children:h.jsx(b,{ref:e,children:f})})}g.displayName=g.name+" [from "+f.id+"]";function t(a,b){var c=document.activeElement;a=a.DO_NOT_USE_queryAllNodes(b);if(a!==null)for(b=0;b<a.length;b++){var e=a[b];e!==c?d("setElementCanTab").setElementCanTab(e,!1):d("setElementCanTab").setElementCanTab(e,!0)}}function w(f){var g=f.children,l=f.disabled;f=f.tag;var w=k(null),x=i(c);d("ReactKeyboardEvent.react").useKeyboard(w,j(function(){return{onKeyDown:function(b){if(d("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(b))return;var c=w.current;if(c!==null&&x!==null){var f=x.orientation==="vertical"||x.orientation==="both",g=x.orientation==="horizontal"||x.orientation==="both",h=x.scopeRef.current,i=b.key,j=x.preventScrollOnFocus;if(i==="Tab"&&h!==null){var k=x.tabScopeQuery;if(k){if(x.onNavigate){var l=h.getChildContextValues(e);if(o("TAB",x,b,l,c,k))return}t(h,k)}return}if(v(b)){l=x.allowModifiers;if(l!==!0)return}if(h===null)return;k=i;d("Locale").isRTL()&&(i==="ArrowRight"?k="ArrowLeft":i==="ArrowLeft"&&(k="ArrowRight"));switch(k){case"Home":l=h.getChildContextValues(e);if(o("HOME",x,b,l,c,a))return;k=s(l,0);if(k){n(a,k,b,j);return}break;case"End":l=h.getChildContextValues(e);if(o("END",x,b,l,c,a))return;k=u(l,l.length-1);if(k){n(a,k,b,j);return}break;case"PageUp":l=h.getChildContextValues(e);if(o("PAGE_UP",x,b,l,c,a))return;k=x.pageJumpSize;var y=p(l,c);l=s(l,Math.max(0,y-k));if(l){n(a,l,b,j);return}break;case"PageDown":y=h.getChildContextValues(e);if(o("PAGE_DOWN",x,b,y,c,a))return;k=x.pageJumpSize;l=p(y,c);y=u(y,Math.min(y.length-1,l+k));if(y){n(a,y,b,j);return}break;case"ArrowUp":if(f){l=h.getChildContextValues(e);if(o("PREV_ITEM",x,b,l,c,a))return;k=b.metaKey||b.ctrlKey?s(l,0):q(x,c,l);if(k){n(a,k,b,j);return}}break;case"ArrowDown":if(f){y=h.getChildContextValues(e);if(o("NEXT_ITEM",x,b,y,c,a))return;l=b.metaKey||b.ctrlKey?u(y,y.length-1):r(x,c,y);if(l){n(a,l,b,j);return}}break;case"ArrowLeft":if(g){k=h.getChildContextValues(e);if(o("PREV_ITEM",x,b,k,c,a))return;f=b.metaKey||b.ctrlKey?s(k,0):q(x,c,k);if(f){n(a,f,b,j);return}}break;case"ArrowRight":if(g){y=h.getChildContextValues(e);if(o("NEXT_ITEM",x,b,y,c,a))return;l=b.metaKey||b.ctrlKey?u(y,y.length-1):r(x,c,y);l&&n(a,l,b,j)}break;default:if(m(i)&&x.onNavigate){k=h.getChildContextValues(e);o("PRINT_CHAR",x,b,k,c,a)}}}}}},[x]));var y=d("ReactFocusEvent.react").useFocusWithin(w,j(function(){return{onFocusWithin:function(b){if(a!=null){var c;c=(c=w.current)==null?void 0:c.DO_NOT_USE_queryFirstNode(a);b=b.target===c;if(b&&(c&&!d("setElementCanTab").canElementTab(c))){b=x==null?void 0:x.scopeRef.current;b&&t(b,a)}}}}},[x==null?void 0:x.scopeRef]));l={scopeRef:w,disabled:l,tag:f};return h.jsx(e.Provider,{value:l,children:h.jsx(b,{ref:y,children:g})})}w.displayName=w.name+" [from "+f.id+"]";return[g,w]}g.createFocusGroup=a}),98);/*FB_PKG_DELIM*/
__d("IGDAWShareAttachmentUtils",["MAWImagePreProcess","PolarisLinkBuilder","PolarisPostShareUtils","WAArmadilloXMA.pb","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c;b=(b=a.sidecarChildren)!=null?b:[];c=(c=a.isVideo)!=null?c:!1;a=(a=a.productType)!=null?a:"";if(a==="story")return c?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE;if(c)return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE;return b.length>1?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE}function c(a){var b;b=(b=a.productType)!=null?b:"";if(b==="story")return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE.PORTRAIT;a=(b=a.isVideo)!=null?b:!1;return a?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE.PORTRAIT:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE.SINGLE}function e(a){if(a.productType==="story"&&a.ownerId!=null&&a.username!=null){var b=a.id;return d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisLinkBuilder").buildUserStoryLinkWithMediaId(a.username,b,{reel_id:a.ownerId})}return d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisPostShareUtils").getShareURL(a)}function f(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a==null)return null;var b=(yield d("MAWImagePreProcess").getImageSpec(a));return{file:a,height:b.height,width:b.width}});return h.apply(this,arguments)}g.getXMAType=a;g.getXMALayoutType=c;g.generateNativeURL=e;g.getImageFileArgs=f}),98);
__d("PolarisDirectActionCreateDirectInboxLoaded",["polarisNormalizeDirectThreads"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=a.inbox;var d=a.has_older,e=a.oldest_cursor;a=a.threads;a=c("polarisNormalizeDirectThreads")(a);return babelHelpers["extends"]({at:Date.now(),inboxPagination:{hasOlder:d,isLoading:!1,oldestCursor:e},messages:a.entities.items,threads:a.entities.threads,type:"DIRECT_INBOX_LOADED",users:a.entities.users},b)}g.createDirectInboxLoaded=a}),98);
__d("PolarisDirectActionCreatePendingThreadsLoaded",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return{messages:a,pagination:d,threads:b,type:"DIRECT_INBOX_PENDING_THREADS_LOADED",users:c}}f.createPendingThreadsLoaded=a}),66);
__d("PolarisDirectActionFetchInboxPresence",["PolarisDirectAPI"],(function(a,b,c,d,e,f,g){"use strict";function a(){return function(a){return d("PolarisDirectAPI").getInboxPresence().then(function(b){b!=null&&a({type:"DIRECT_PRESENCE_UPDATED",userPresence:b})})}}g.fetchInboxPresence=a}),98);
__d("PolarisDirectActionRefreshPendingInbox",["PolarisDirectAPI","PolarisDirectActionCreatePendingThreadsLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","polarisDirectSelectors","polarisNormalizeDirectThreads"],(function(a,b,c,d,e,f,g){"use strict";function a(){return function(a,b){a({type:"DIRECT_INBOX_PENDING_THREADS_START_LOAD"});b=d("polarisDirectSelectors").getPendingRequestsPagination(b());return d("PolarisDirectAPI").getPendingInbox({cursor:b==null?void 0:b.oldestCursor}).then(function(b){var e=c("polarisNormalizeDirectThreads")(b.inbox.threads);e=e.entities;var f=e.items,g=e.threads;e=e.users;b=b.inbox;var h=b.has_older;b=b.oldest_cursor;a(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded(f,g,e,{hasOlder:h,oldestCursor:b}))},function(b){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_refresh_pending_inbox_failed",b),a(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE})),a(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded({},{},{},null))})}}g.refreshPendingInbox=a}),98);
__d("PolarisDirectActionLoadInbox",["PolarisConfig","PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionCreateDirectInboxLoaded","PolarisDirectActionFetchInboxPresence","PolarisDirectActionRefreshPendingInbox","PolarisDirectActionsLogger","PolarisDirectLogger","PolarisDirectStrings","PolarisGenericStrings","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a===void 0&&(a=d("PolarisDirectActionConstants").loadInboxDefaults);return function(b,e){c("QuickPerformanceLogger").markerStart(c("qpl")._(35586049,"4342"));b({type:"DIRECT_INBOX_LOADING"});return d("PolarisDirectAPI").getInbox("inbox_snapshot",{folder:a.folder,limit:d("PolarisDirectActionConstants").DIRECT_MSYS_INBOX_SNAPSHOT_LIMIT,thread_message_limit:d("PolarisDirectActionConstants").DIRECT_INBOX_THREAD_MESSAGE_LIMIT}).then(function(f){String(f.viewer.pk)!==d("PolarisConfig").getViewerId()&&window.location.reload();c("QuickPerformanceLogger").markerEnd(c("qpl")._(35586049,"4342"),2);var g=f.pending_requests_total;g>0&&b(d("PolarisDirectActionRefreshPendingInbox").refreshPendingInbox());var h=e();h=h.direct;h=h==null?void 0:h.seqId;var i=f.seq_id,j=!0;h!=null&&h>i&&(d("PolarisDirectActionsLogger").directActionsLogger.logError("seq_id_decrease_on_inbox_load",{"new":i,old:h}),j=a.forceSeqIdUpdate);j&&d("PolarisDirectLogger").DirectLogger.debugTrace("seq_id_updated",i);b(d("PolarisDirectActionCreateDirectInboxLoaded").createDirectInboxLoaded(f,{pendingRequestsTotal:g,seqId:j?i:void 0}));b(d("PolarisDirectActionFetchInboxPresence").fetchInboxPresence())},function(e){c("QuickPerformanceLogger").markerEnd(c("qpl")._(35586049,"4342"),3),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_inbox_load_failed",e),b({toast:{actionHandler:function(){b(h(a))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisDirectStrings").INBOX_LOAD_ERROR},type:"DIRECT_INBOX_LOAD_FAILED"})})}}g.loadInbox=h}),98);
__d("PolarisDirectActionReloadInbox",["PolarisConfig","PolarisDirectActionConstants","PolarisDirectActionLoadInbox","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=d("PolarisDirectActionConstants").loadInboxDefaults);return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b({type:"DIRECT_CLEAR",viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())});return yield b(d("PolarisDirectActionLoadInbox").loadInbox(a))});return function(a){return e.apply(this,arguments)}}()}g.reloadInbox=a}),98);
__d("PolarisDirectActionLoadThread",["PolarisDirectAPI","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisPerformanceLogger","PolarisToastActions","QuickPerformanceLogger","polarisDirectSelectors","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return function(e,f){var g=d("PolarisPerformanceLogger").getInstanceKeyFromId(a);c("QuickPerformanceLogger").markerStart(c("qpl")._(35586051,"152"),g);var h=d("polarisDirectSelectors").getThreadExitCounter(f(),a);return d("PolarisDirectAPI").getThread(a,b).then(function(b){c("QuickPerformanceLogger").markerEnd(c("qpl")._(35586051,"152"),2,g),h===d("polarisDirectSelectors").getThreadExitCounter(f(),a)&&e(d("PolarisDirectActionThreadLoaded").threadLoaded(b.thread))},function(a){c("QuickPerformanceLogger").markerEnd(c("qpl")._(35586051,"152"),3,g),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_load_thread_failed",a),e(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})}}g.loadThread=a}),98);
__d("PolarisDirectActionConnectToMqtt",["PolarisConfig","PolarisDirectAPI","PolarisDirectActionLoadThread","PolarisDirectActionReloadInbox","PolarisDirectConstants","PolarisDirectDeltaHandlers","PolarisDirectLogger","PolarisDirectMQTTInstance","PolarisIncomingCallActions","PolarisRoutes","asyncToGeneratorRuntime","browserHistory","gkx","nullthrows","polarisNormalizeDirectItems","polarisNormalizeDirectThreads","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e){e===void 0&&(e=!1);var f=c("uuidv4")();f=f.substring(f.lastIndexOf("-")+1);var g=new(d("PolarisDirectLogger").DirectLogger)("DirectActions",f);g.debugTrace("start",{forceReconnect:e,newSubscriptionType:a});return function(j,k){var l=k();l=l.direct;var m=l.realtimeState,n=m.mqttConnectivity;m=m.subscriptionType;g.debugTrace("internal",{currentSubscriptionType:m,forceReconnect:e,newSubscriptionType:a});if(!e&&n==="Connected"&&m===a){g.debugTrace("noop");return}var o=function(a,b,e,f){var g;f=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(f===null)return;a=d("polarisNormalizeDirectItems").normalizeDirectItems([f]);j({message:a.entities.items[f.item_id],mutationToken:b,threadId:e,type:"DIRECT_MESSAGE_UPDATED",users:a.entities.users,viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())});((g=f.replied_to_message)==null?void 0:g.item_id)!=null&&j({message:a.entities.items[f.replied_to_message.item_id],mutationToken:b,threadId:e,type:"DIRECT_MESSAGE_UPDATED",users:a.entities.users,viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())})},p=function(a,b,c,e,f,g,h){var i=k().direct.threads.get(b);i?j({emoji:f,itemId:c,likeAction:a,superReactType:g,timestamp:h,type:"DIRECT_MESSAGE_REACTION_UPDATED",userId:e}):j(d("PolarisDirectActionLoadThread").loadThread(b,{limit:1}))},q=function(a,b,c){j({senderId:c,threadId:b,timestamp:a,type:"DIRECT_TYPING_INDICATOR_STOPPED"})},r=function(a,b,c,e,f,g,h){a===4?j(d("PolarisIncomingCallActions").updateCall(b,c,e,f,g,h)):a===5&&j(d("PolarisIncomingCallActions").ackCall())},s=l.seqId,t=Date.now();a==="message"&&l.snapshotAt!=null&&(t=l.snapshotAt);var u={onHasSeen:function(a,b,c,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;a=b.item_id;b=b.timestamp;j({messageId:a,threadId:c,timestamp:b,type:"DIRECT_SEEN_STATE_UPDATED",userId:e})},onIndicateTypingActivity:function(a,b,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;a=b.activity_status;var f=b.sender_id,h=b.timestamp;b=b.ttl;var i=c("nullthrows")(f);f=c("nullthrows")(a);g.debugTrace("indicate_typing_activity",{senderId:i,typingStatus:f});if(f===d("PolarisDirectConstants").TypingStatus.OFF)q(h,e,i);else{a=window.setTimeout(function(){return q(h,e,i)},c("nullthrows")(b));j({senderId:i,threadId:e,timerId:a,timestamp:h,type:"DIRECT_TYPING_INDICATOR_STARTED"})}},onIrisConnectivityChanged:function(a,b){g.debugTrace("iris_connectivity",{newConnectivity:a,newType:b}),j({irisConnectivity:a,subscriptionType:b,type:"DIRECT_IRIS_CONNECTIVITY_CHANGED"})},onMakeAdmin:function(a,b,c,d){j({adminUserId:d,threadId:c,type:"DIRECT_THREAD_ADMIN_ADDED"})},onMqttConnectivityChanged:function(a){g.debugTrace("mqtt_connectivity",a),j({mqttConnectivity:a,type:"DIRECT_MQTT_CONNECTIVITY_CHANGED"})},onNewMessage:function(a,b,c,e){var f=k().direct.threads.get(c);if(f){o(a,b,c,e);f=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(f===null)return;b=d("polarisNormalizeDirectItems").normalizeDirectItems([f]);q(f.timestamp,c,b.entities.items[f.item_id].user_id)}else j(d("PolarisDirectActionLoadThread").loadThread(c,{limit:1}))},onNewThread:function(a,b,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;e=c("polarisNormalizeDirectThreads")([b]);j({messages:e.entities.items,threads:e.entities.threads,type:"DIRECT_THREAD_LOADED",users:e.entities.users})},onPresenceUpdated:function(a){var b;g.debugTrace("presence_updated",a);j({type:"DIRECT_PRESENCE_UPDATED",userPresence:(b={},b[a.user_id]={is_active:a.is_active,last_activity_at_ms:a.last_activity_at_ms},b)})},onRemoveAdmin:function(a,b,c,d){j({adminUserId:d,threadId:c,type:"DIRECT_THREAD_ADMIN_REMOVED"})},onRemoveEmoji:function(a,b,c,e,f){p(d("PolarisDirectConstants").LikeAction.DELETED,c,e,f)},onRemoveMessage:function(a,b,c,d){j({itemId:d,threadId:c,type:"DIRECT_MESSAGE_REMOVED"})},onRemoveThread:function(a,b,c){window.location.href.indexOf("/t/"+c)!==-1&&d("browserHistory").browserHistory.push(d("PolarisRoutes").DIRECT_INBOX),j({threadId:c,type:"DIRECT_REMOVE_THREAD"})},onResnapshotRequested:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.seq_id,c=a.subscription_type;g.logDirectEvent("resnapshot_requested",{seq_id:b,subscription_type:c});yield j(d("PolarisDirectActionReloadInbox").reloadInbox({forceSeqIdUpdate:!0}));var e=k();e=e.direct.seqId;g.debugTrace("resnapshot_done",{newSeqId:e});e!==b?(g.logDirectEvent("reconnect_after_resnapshot",{newSeqId:e}),j(h(c,!0))):g.logError("seq_id_not_updated_after_resnapshot",babelHelpers["extends"]({"new":e,old:b},a))});function c(b){return a.apply(this,arguments)}return c}(),onSeqIdUpdated:function(a){s!=null&&s>a?g.logError("seq_id_decrease",{"new":a,old:s}):(g.debugTrace("seq_id_updated",a),j({seqId:a,type:"DIRECT_SEQ_ID_UPDATED"}))},onUnseenCountChange:function(a){a=d("PolarisDirectDeltaHandlers").parseDeltaNumber(a);j({count:a,type:"DIRECT_UNSEEN_COUNT_UPDATED"})},onUpdatedMessage:o,onUpdateEmoji:function(a,b,e,f,g){if(c("gkx")("4848")){b=a!=null?d("PolarisDirectDeltaHandlers").parsePartialDeltaEmoji(a):void 0;b=(b=b)!=null?b:{};var h=b.emoji,i=b.super_react_type;b=b.timestamp;p(d("PolarisDirectConstants").LikeAction.CREATED,e,f,g,h,i,b)}else{h=a!=null?String(d("PolarisDirectDeltaHandlers").parseDeltaItem(a)):void 0;p(d("PolarisDirectConstants").LikeAction.CREATED,e,f,g,h)}}};s==null?(g.logError("seq_id_is_null"),d("PolarisDirectAPI").getBadgeCount().then(function(b){b.seq_id!=null&&i(b.seq_id,t,a,f,u,r)})):i(s,t,a,f,u,r)}}function i(a,b,c,e,f,g){d("PolarisDirectMQTTInstance").createMqttInstance(a,b,c,e).then(function(a){a!=null&&a.connect(f,g)})}g.connectToMqtt=h}),98);
__d("PolarisDirectActionInitInbox",["PolarisDirectAPI","PolarisDirectActionConnectToMqtt","PolarisDirectActionCreatePendingThreadsLoaded","PolarisDirectActionLoadInbox","PolarisDirectActionRefreshPendingInbox","PolarisDirectActionReloadInbox","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){try{c=c();c=c.direct;var e=c.inboxLoaded;c=c.seqId;d("PolarisDirectActionsLogger").directActionsLogger.debugTrace("initial_state",{inboxLoaded:e,seqId:c});!e?yield b(d("PolarisDirectActionLoadInbox").loadInbox(a)):(b({type:"DIRECT_INBOX_READY"}),d("PolarisDirectAPI").getInbox("pending_only",{limit:0}).then(function(a){a.pending_requests_total>0?b(d("PolarisDirectActionRefreshPendingInbox").refreshPendingInbox()):b(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded({},{},{},null))})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_init_inbox_failed",a),b(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))}));b(d("PolarisDirectActionConnectToMqtt").connectToMqtt("message"))}catch(c){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_inbox_cache_failed",c),b(d("PolarisDirectActionReloadInbox").reloadInbox(a))}});return function(a,b){return c.apply(this,arguments)}}()}g.initInbox=a}),98);/*FB_PKG_DELIM*/
__d("LSGetIfViewerIsWorkplaceUser",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1];b.n;var d=[];return d[0]=c("gkx")("7530"),b.resolve(d)}b=a;g["default"]=b}),98);
__d("LSGetThreadParticipantDisplayName",["LSGetIfViewerIsWorkplaceUser"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return c.sp(b("LSGetIfViewerIsWorkplaceUser")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return d[0]?c.seq([function(b){return c.ftr(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2352696798]),f).then(function(a){return d[4]=a})},function(a){return d[2]=d[4]}]):(b=a.item,d[2]=b.name)})},function(a){return d[1]=d[2]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=f:(b=a.item,d[2]=b.nickname)})},function(b){return c.ftr(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),f).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):(b=a.item,d[4]=b.firstName==null?b.name:b.firstName)})},function(a){return d[1]=d[2]==null?d[4]:d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSMarkThreadRead",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(9).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.gt(a[0],c.lastReadWatermarkTimestampMs)}),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0]})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("CometLazyDialogTrigger.react",["react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useCallback;function a(a){var b=a.children,d=a.dialogProps,e=a.dialogResource,f=a.fallback,g=a.onHide,i=a.onShow;a=c("useCometLazyDialog")(e,f);var j=a[0];e=a[1];f=h(function(){j(d,g),i==null?void 0:i()},[j,d,g,i]);return b(f,e)}g["default"]=a}),98);
__d("MWGetOriginalEntrypoint",["I64","InteractionTracingMetrics","LSMessagingInitiatingSource","MWChatInteraction.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("MWChatInteraction.bs").get(d("I64").to_string(a));e=e!=null?c("InteractionTracingMetrics").get(e):null;return b!=null&&d("I64").to_int32(b)===c("LSMessagingInitiatingSource").FACEBOOK_INBOX?h(e,a):i(e,a)}function h(a,b){a=a==null?void 0:(a=a.annotations.string)==null?void 0:a.inboxEntrypoint;if(a!=null)return a;a=d("MWChatInteraction.bs").get("inbox_init");return a!=null&&d("I64").equal(b,d("I64").of_string(a))?"initInbox":"unknownInbox"}function i(a,b){a=a==null?void 0:(a=a.annotations.string)==null?void 0:a.entrypoint;if(a!=null)return a;a=d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").MW_AUTO_CHAT_TAB_OPEN);a=a!=null?c("InteractionTracingMetrics").get(a):null;a=(a==null?void 0:(a=a.annotations.string)==null?void 0:a.thread_id)===d("I64").to_string(b);return a?"auto_open":"unknown"}g["default"]=a}),98);
__d("MWLinkRegex",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="(?:(?:[a-z]+:)?//)?",b="(?:\\S+(?::\\S*)?@)?",c="(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)",d="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",e="(?:\\.(?:((?:[a-z\\u00a1-\\uffff]{2,}))))\\.?",f="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?';a="(?:"+a+"|www\\.)"+b+"(?:localhost|"+c+d+e+")"+f+g;return new RegExp(a,"ig")}function b(){var a="(^|)[^@\\s]+@[^@]+[.][^@\\s]+(?!\\S)";return new RegExp(a,"ig")}f.getLinkRegex=a;f.getEmailRegex=b}),66);
__d("MWMsgMediaTypeLogUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({Application:"application",Audio:"audio",Avatar:"avatar",HotEmoji:"hot_emoji",File:"file",Gif:"gif",Image:"image",Link:"link",None:"none",Poll:"poll",Reaction:"reaction",Sticker:"sticker",Video:"video"});function a(a){var b=a.hasFile;b=b===void 0?!1:b;var c=a.hasGif;c=c===void 0?!1:c;var d=a.hasHotEmoji;d=d===void 0?!1:d;var e=a.hasImage;e=e===void 0?!1:e;var f=a.hasLinks;f=f===void 0?!1:f;var h=a.hasSticker;h=h===void 0?!1:h;var i=a.hasVideo;i=i===void 0?!1:i;a=a.hasVoiceClip;a=a===void 0?!1:a;var j=g.None;e?j=g.Image:i?j=g.Video:h?j=g.Sticker:c?j=g.Gif:a?j=g.Audio:d?j=g.HotEmoji:f?j=g.Link:b&&(j=g.File);return j}f.AttachmentType=g;f.getAttachmentType=a}),66);
__d("MWSharedMsgLogUtils",["$InternalEnum","I64","LSMessagingThreadTypeUtil","MAWEBSwitch","MAWLogMultipleTabs","MWGetOriginalEntrypoint","MWLinkRegex","MWMsgMediaTypeLogUtils","MWVersion.bs","URLMatcher","asyncToGeneratorRuntime","cr:6277","gkx","isStringNullOrEmpty","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({Send:"send",Reply:"reply",Forward:"forward",Share:"share",StoryReply:"story-reply"}),i=b("$InternalEnum")({Text:"text",NonText:"non-text"});function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){e.hasAttachment;var g=e.hasReply,j=e.hasStoryReply,k=e.hasText;e=babelHelpers.objectWithoutPropertiesLoose(e,["hasAttachment","hasReply","hasStoryReply","hasText"]);var l=h.Send;g?l=h.Reply:j&&(l=h.StoryReply);g=d("MWMsgMediaTypeLogUtils").getAttachmentType(e);j=k&&(!g||g===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?i.Text:i.NonText;e=!1;b("cr:6277")!=null&&(e=(yield b("cr:6277").isCutoverThreadKey(a.threadKey)));return{bool:{is_cutover:e,is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_message_request:d("LSMessagingThreadTypeUtil").isMessageRequest(a),is_pdb_enabled:Boolean(c("gkx")("6543")),is_secure:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},string:{action_type:l,attachment_type:g,message_type:j,mw_version:d("I64").to_string(d("MWVersion.bs").v2),original_entrypoint:c("MWGetOriginalEntrypoint")(a.threadKey,f),thread_id:d("I64").to_string(a.threadKey),thread_subtype:a.threadSubtype!=null?d("I64").to_string(a.threadSubtype):null,thread_type:d("I64").to_string(a.threadType)}}});return j.apply(this,arguments)}function e(a,e,f,g){var j=e.hasFile;j=j===void 0?!1:j;var k=e.hasGif;k=k===void 0?!1:k;var l=e.hasHotEmoji;l=l===void 0?!1:l;var m=e.hasImage;m=m===void 0?!1:m;var n=e.hasLinks;n=n===void 0?!1:n;var o=e.hasReply;o=o===void 0?!1:o;var p=e.hasSticker;p=p===void 0?!1:p;var q=e.hasStoryReply;q=q===void 0?!1:q;var r=e.hasText;r=r===void 0?!1:r;var s=e.hasVideo;s=s===void 0?!1:s;e=e.hasVoiceClip;e=e===void 0?!1:e;var t=h.Send;o?t=h.Reply:q&&(t=h.StoryReply);o=d("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:j,hasGif:k,hasHotEmoji:l,hasImage:m,hasLinks:n,hasSticker:p,hasVideo:s,hasVoiceClip:e});q=r&&(!o||o===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?i.Text:i.NonText;d("MAWLogMultipleTabs").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotation("attachment_type",o);a.addAnnotation("action_type",t);a.addAnnotation("message_type",q);a.addAnnotation("original_entrypoint",c("MWGetOriginalEntrypoint")(f.threadKey,g));a.addAnnotation("thread_id",d("I64").to_string(f.threadKey));a.addAnnotation("thread_type",d("I64").to_string(f.threadType));f.threadSubtype!=null&&a.addAnnotation("thread_subtype",d("I64").to_string(f.threadSubtype));b("cr:6277")!=null&&c("promiseDone")(b("cr:6277").isCutoverThreadKey(f.threadKey),function(b){a.addAnnotationBoolean("is_cutover",b)});a.addAnnotationBoolean("is_secure",d("LSMessagingThreadTypeUtil").isSecure(f.threadType));a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());a.addAnnotationBoolean("use_maw_shared_worker",d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker());a.addAnnotationBoolean("is_pdb_enabled",Boolean(c("gkx")("6543")))}function f(a,b,e,f,g,h,i){var j=!c("isStringNullOrEmpty")(a),k=!1;a!=null&&c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getLinkRegex()).length>0&&c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getEmailRegex()).length===0&&(k=!0);a=!1;h=h!=null;h?a=!0:g!=null&&(a=!0);var l=!1,m=!1,n=!1;if(i!=null&&i.length>0){a=!0;for(i of i){var o=i.mimeType;o.indexOf("image")!==-1&&(l=!0);o.indexOf("video")!==-1&&(m=!0);o.indexOf("application")!==-1&&(n=!0)}}o=b!=null;i=e!=null;b=e!=null;e=f!=null;f=!e&&g!=null;return{hasAttachment:a,hasFile:n,hasGif:f,hasHotEmoji:o,hasImage:l,hasLinks:k,hasReply:i,hasSticker:e,hasStoryReply:b,hasText:j,hasVideo:m,hasVoiceClip:h}}g.ActionType=h;g.MsgType=i;g.getSharedMetadataForQPLUserFlow=a;g.addSharedMetadataForInteractionTrace=e;g.getMessageTypeParams=f}),98);
__d("IGDSEmoji.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.emoji;a=a.fontSize;return h.jsx("span",{className:"x15yrdiy",style:a!=null?{fontSize:a}:void 0,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSMediaUrlUtils",["I64","ServerTime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(d("I64").gt(a,d("I64").zero)){var b=d("I64").of_float(d("ServerTime").getMillis()/1e3);return d("I64").lt(a,b)}return!1}g.isTimestampExpired=a}),98);
__d("rewriteFallbackUrl",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f["default"]=a}),66);
__d("LSMediaUrl.bs",["I64","LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrlLarge}function e(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.playableUrlFallback):a.playableUrl}function f(a){var b=a.imageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.imageUrlFallback):a.imageUrl}function h(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.faviconUrlFallback):a.faviconUrl}function i(a){try{var b=a.listItemContactUrlExpirationTimestampList1;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(b))?c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList1):a.listItemContactUrlList1}catch(b){return a.listItemContactUrlList1}}function j(a){try{var b=a.listItemContactUrlExpirationTimestampList2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(b))?c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList2):a.listItemContactUrlList2}catch(b){return a.listItemContactUrlList2}}function k(a){try{var b=a.listItemContactUrlExpirationTimestampList3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(b))?c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList3):a.listItemContactUrlList3}catch(b){return a.listItemContactUrlList3}}function l(a){var b=a.headerImageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.headerImageUrlFallback):a.headerImageUrl}function m(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp1;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback1);else return a.listItemProfilePictureUrl1}catch(b){return a.listItemProfilePictureUrl1}}function n(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(b))?c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback2):a.listItemProfilePictureUrl2}catch(b){return a.listItemProfilePictureUrl2}}function o(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(b))?c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback3):a.listItemProfilePictureUrl3}catch(b){return a.listItemProfilePictureUrl3}}h={faviconUrl:h,headerImageUrl:l,imageUrl:f,listItemContactUrlList1:i,listItemContactUrlList2:j,listItemContactUrlList3:k,listItemProfilePictureUrl1:m,listItemProfilePictureUrl2:n,listItemProfilePictureUrl3:o,playableUrl:e,previewUrl:a,previewUrlLarge:b};function p(a){var b=a.previewUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.previewUrlFallback);else return a.previewUrl}function q(a){var b=a.previewUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.previewUrlFallback);else return a.previewUrlLarge}function r(a){var b=a.playableUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.playableUrlFallback);else return a.playableUrl}function s(a){var b=a.faviconUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.faviconUrlFallback);else return a.faviconUrl}l={faviconUrl:s,playableUrl:r,previewUrl:p,previewUrlLarge:q};g.Attachment=h;g.AttachmentItem=l}),98);
__d("getLSMediaContactProfilePictureUrl",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.profilePictureUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)){return(b=c("rewriteFallbackUrl")(a.profilePictureFallbackUrl))!=null?b:a.profilePictureUrl}else return a.profilePictureUrl}g["default"]=a}),98);
__d("getLSMediaThreadPictureUrl",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.threadPictureUrl,e=a.threadPictureUrlExpirationTimestampMs;a=a.threadPictureUrlFallback;e=e;return e!=null&&d("LSMediaUrlUtils").isTimestampExpired(e)?c("rewriteFallbackUrl")(a):b}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisEmailsSentPageQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6016051241758681"}),null);
__d("PolarisEmailsSentPageQuery.graphql",["PolarisEmailsSentPageQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"FXCALSettings",kind:"LinkedField",name:"fxcal_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_user_see_centralized_settings_transition_plan_two",storageKey:null},{alias:null,args:null,concreteType:"XFBFXSettingsACTransitionBanner",kind:"LinkedField",name:"ac_transition_option_two_group_of_settings_banner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primary_action_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primary_action_uri",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisEmailsSentPageQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"PolarisEmailsSentPageQuery",selections:a},params:{id:b("PolarisEmailsSentPageQuery_instagramRelayOperation"),metadata:{},name:"PolarisEmailsSentPageQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("hasDefaultThreadOneToOneCapability",["FBLogger","LSContactBitOffset","LSIntEnum","MWInboxSecureContentSearch","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a==null)return!1;var e=(yield d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(b.table("_user_info")).map(function(a){return a.facebookUserId}))),f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(e)));if(f==null){c("FBLogger")("messenger_search").warn("Error fetching viewer details");return!1}f=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(80),f);if(!f)return!1;f=(yield d("MWInboxSecureContentSearch").getThreadOtherParticipantContact(a,e,b));if(f==null)return!1;e=(a=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(83),f))!=null?a:!1;return e});return h.apply(this,arguments)}g["default"]=a}),98);
__d("IGDSUsersPanoOutline24Icon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M12.931 4.132a3.5 3.5 0 1 1 2.575 5.871h-.06M22 17.546v-.688A3.858 3.858 0 0 0 18.143 13h-3.64",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),h.jsx("path",{d:"M12.004 9.502a3.5 3.5 0 1 1-3.501-3.5 3.501 3.501 0 0 1 3.5 3.5Z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2"}),h.jsx("path",{d:"M14.997 20.546v-.687A3.858 3.858 0 0 0 11.139 16H5.858A3.858 3.858 0 0 0 2 19.859v.687",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisEmailsSentRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisEmailsSentRoot.react").__setRef("PolarisEmailsSentRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisEmailsSentStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";c=h._("__JHASH__Vyxe6gWZ_BE__JHASH__");d=h._("__JHASH__fbzY63E5jQ3__JHASH__");e=h._("__JHASH__g9aiY5gqWG9__JHASH__");f=h._("__JHASH__Qcvjbhrnb1R__JHASH__");var i=h._("__JHASH__1qiSyJt2JO8__JHASH__"),j=h._("__JHASH__UmG2PjsXsd0__JHASH__");function a(a){return h._("__JHASH__6TGBU365iFx__JHASH__",[h._param("email",a)])}function b(a){return h._("__JHASH__61VSVaqq5q2__JHASH__",[h._param("sender_email",a)])}g.EMAILS_SENT_TEXT=c;g.OTHER_EMAILS_TAB=d;g.OTHER_EMAILS_TEXT=e;g.SECURITY_EMAILS_TAB=f;g.SECURITY_EMAILS_TEXT=i;g.LEARN_MORE_TEXT=j;g.sentToText=a;g.sentFromText=b}),98);
__d("PolarisEmailsSentTabs.react",["IGDSBox.react","PolarisEmailsSentStrings","PolarisExternalLink.react","PolarisIGCoreTabV2","PolarisIGCoreTabsV2","PolarisIGCoreText","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i="https://help.instagram.com/760602221058803";function j(a){var b=a.list;a=a.title;return h.jsxs(c("IGDSBox.react"),{position:"relative",children:[h.jsx(c("IGDSBox.react"),{paddingX:d("PolarisUA").isMobile()?4:0,paddingY:d("PolarisUA").isMobile()?7:8,position:"relative",children:h.jsxs(c("PolarisIGCoreText").Title,{color:"ig-secondary-text",weight:"normal",children:[a," ",h.jsx(c("PolarisExternalLink.react"),{href:i,children:d("PolarisEmailsSentStrings").LEARN_MORE_TEXT})]})}),b]})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.otherEmailsList;a=a.securityEmailsList;return h.jsxs(c("PolarisIGCoreTabsV2"),{children:[h.jsx(c("PolarisIGCoreTabV2"),{node:h.jsx(j,{list:a,title:d("PolarisEmailsSentStrings").SECURITY_EMAILS_TEXT}),children:d("PolarisEmailsSentStrings").SECURITY_EMAILS_TAB}),h.jsx(c("PolarisIGCoreTabV2"),{node:h.jsx(j,{list:b,title:d("PolarisEmailsSentStrings").OTHER_EMAILS_TEXT}),children:d("PolarisEmailsSentStrings").OTHER_EMAILS_TAB})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisEmailsSentPage.react",["CometRelay","IGDSBox.react","IGDSDivider.react","IGDSText.react","PolarisEmailsSentPageQuery.graphql","PolarisEmailsSentStrings","PolarisEmailsSentTabs.react","PolarisFXCentralizedSettingsContextualMessage.react","PolarisIGCoreText","PolarisPageMetadata.react","PolarisReactRedux","PolarisSettingsShell.react","PolarisUA","polarisFormatDate","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j="emailsSentPage",k={ac_transition_option_two_group_of_settings_banner:{primary_action_title:null,primary_action_uri:null,title:null},should_user_see_centralized_settings_transition_plan_two:!1};function l(a){a=a.emails;return a.map(function(a,b){return i.jsxs(c("IGDSBox.react"),{position:"relative",children:[i.jsx(c("IGDSBox.react"),{position:"relative",width:"100%",children:i.jsx(c("IGDSDivider.react"),{})}),i.jsx(m,{emailAddress:a.email_address,senderEmail:a.sender_email,sendTimestamp:a.send_timestamp,title:a.title})]},b)})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.emailAddress,e=a.senderEmail,f=a.sendTimestamp;a=a.title;f=c("polarisFormatDate")(f,"M j, Y g:i A");return i.jsxs(c("IGDSBox.react"),{paddingX:d("PolarisUA").isMobile()?4:0,paddingY:d("PolarisUA").isMobile()?3:4,position:"relative",children:[i.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"primary",children:a}),d("PolarisUA").isMobile()?i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:2,position:"relative",children:i.jsx(c("PolarisIGCoreText").Body,{color:"primary",children:f})}),i.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",children:d("PolarisEmailsSentStrings").sentToText(b)}),i.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:i.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",children:d("PolarisEmailsSentStrings").sentFromText(e)})})]}):i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:2,position:"relative",children:i.jsx(c("PolarisIGCoreText").Body,{color:"primary",children:f})}),i.jsxs(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",children:[d("PolarisEmailsSentStrings").sentToText(b)," \xb7 ",d("PolarisEmailsSentStrings").sentFromText(e)]})]})]})}m.displayName=m.name+" [from "+f.id+"]";function a(a){a=a.hide_navigation;var e=d("PolarisReactRedux").useSelector(function(a){return a.settings.emailsSentData}),f=e.securityEmails;e=e.otherEmails;var g=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("PolarisEmailsSentPageQuery.graphql"),{});g=g.fxcal_settings;g=(g=g)!=null?g:k;return i.jsxs(c("PolarisSettingsShell.react"),{hideNavigation:!!a,pageIdentifier:j,title:d("PolarisEmailsSentStrings").EMAILS_SENT_TEXT,children:[i.jsx(c("PolarisPageMetadata.react"),{id:j,title:d("PolarisEmailsSentStrings").EMAILS_SENT_TEXT}),((a=g.should_user_see_centralized_settings_transition_plan_two)!=null?a:!1)?i.jsx(c("PolarisFXCentralizedSettingsContextualMessage.react"),{content:g==null?void 0:(a=g.ac_transition_option_two_group_of_settings_banner)==null?void 0:a.title,primary_action_title:g==null?void 0:(a=g.ac_transition_option_two_group_of_settings_banner)==null?void 0:a.primary_action_title,primary_action_uri:g==null?void 0:(a=g.ac_transition_option_two_group_of_settings_banner)==null?void 0:a.primary_action_uri}):null,i.jsxs(c("IGDSBox.react"),{marginEnd:d("PolarisUA").isMobile()?0:16,marginStart:d("PolarisUA").isMobile()?0:16,position:"relative",children:[!d("PolarisUA").isMobile()&&i.jsx(c("IGDSBox.react"),{marginBottom:8,marginTop:8,position:"relative",children:i.jsx(c("IGDSText.react").Headline2,{children:d("PolarisEmailsSentStrings").EMAILS_SENT_TEXT})}),i.jsx(c("IGDSBox.react"),{position:"relative",children:i.jsx(c("PolarisEmailsSentTabs.react"),{otherEmailsList:i.jsx(l,{emails:e}),securityEmailsList:i.jsx(l,{emails:f})})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.PAGE_ID=j;g.EmailsSentPage=a}),98);
__d("PolarisEmailsSentRoot.react",["PolarisEmailsSentPage.react","PolarisReduxSettingsActions","react","usePolarisGetQuery","usePolarisGetQuerySetup"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=c("usePolarisGetQuery")("/api/v1/emails/emails_sent/web_info/");c("usePolarisGetQuerySetup")(a,d("PolarisReduxSettingsActions").setupEmailsSentPage);return h.jsx(d("PolarisEmailsSentPage.react").EmailsSentPage,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSForceImmediateSync",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.fe(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({minTimeToSyncTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSPlatformWaitForTaskCompletion",["I64","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction","err","promiseDone","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=new Set(),h=[],i=0,j=!0,k,l,m=new(b("Promise"))(function(a,b){k=a,l=b}),n=c("uuidv4")(),o=!0,p=(yield a.runInTransaction(function(){var m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(m){yield m.table("mailbox_task_completion_notification_context").add({notificationName:f,notificationScopeKey:n});var q=a.table("pending_tasks").subscribe(function(a,b){a=d("I64").to_string(a.hd);b.operation==="add"||b.operation==="put"?g.add(a):g["delete"](a)}),r=c("emptyFunction"),s=a.table("mailbox_task_completion_api_tasks").subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"&&b.value.notificationScopeKey===n){a=d("I64").to_string(b.value.taskId);g["delete"](a);b=b.value.success;b==null?o&&(h.push(a),i+=1):(j=b&&j,i-=1)}});r=a.subscribeToCommit(function(){i===0&&g.size===0&&(s(),q(),r(),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(var b of h)yield a.table("mailbox_task_completion_api_tasks")["delete"](d("ReQL").key(d("I64").of_string(b)))});return function(b){return a.apply(this,arguments)}}(),"readwrite","background")),j?k(p):l(c("err")("Not all tasks for "+f+" succeeded")))});try{var t=(yield e(m));yield m.table("mailbox_task_completion_notification_context")["delete"]({hd:n,tl:0});return t}catch(a){r();s();q();throw a}});return function(a){return m.apply(this,arguments)}}(),"readwrite"));o=!1;return m});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MWLSDatabaseLazySync.bs",["I64","Int64Hooks","LSFactory","LSForceImmediateSync","LSSyncGroupsUtils","Promise","ReQL","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("sync_groups")).getKeyRange(e)).then(function(f){if(f!=null)if(d("I64").equal(f.minTimeToSyncTimestampMs,d("LSSyncGroupsUtils").neverSyncTimestamp))return c("LSForceImmediateSync")(e,c("LSFactory")(a));else return b("Promise").resolve();else return b("Promise").resolve()})},"readwrite")}function a(a){var b=c("useReStore")();return d("Int64Hooks").useCallbackInt64(function(){return h(b,a)},[a,b])}g.sync=h;g.useSync=a}),98);
__d("LSWhatsAppConnectStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({WHATSAPP_NOT_ADDRESSABLE:0,WHATSAPP_ADDRESSABLE:1,WHATSAPP_DUAL_SEND_ELIGIBLE:2,WHATSAPP_DUAL_SEND_WEB_ELIGIBLE:3,WHATSAPP_DUAL_SEND_XAPP_ELIGIBLE:4,WHATSAPP_DST_ELIGIBLE:5,WHATSAPP_GDST_ELIGIBLE:9,WHATSAPP_DST_GDST_ELIGIBLE:13,WHATSAPP_DSI_ELIGIBLE:17,WHATSAPP_DST_DSI_ELIGIBLE:21,WHATSAPP_GDST_DSI_ELIGIBLE:25,WHATSAPP_DST_GDST_DSI_ELIGIBLE:29,WHATSAPP_DST_REAL_TEXT_SHADOW_ELIGIBLE:33});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("bs_js_int",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a===b}b=2147483647;c=-2147483648;f.equal=a;f.max=b;f.min=c}),null);
__d("bs_js_math",["bs_js_int"],(function(a,b,c,d,e,f){"use strict";function a(a){return Math.ceil(a)}function c(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.ceil(a)}function d(a){return Math.floor(a)}function g(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.floor(a)}function e(a,b){return g(Math.random()*(b-a|0))+a|0}var h=c,i=g;f.unsafe_ceil=a;f.ceil_int=c;f.ceil=h;f.unsafe_floor=d;f.floor_int=g;f.floor=i;f.random_int=e}),null);
__d("PolarisStoriesHighlightsRoot.react",["DateConsts","PolarisLinkBuilder","PolarisLoggedOutLoginConstants","PolarisReactRedux","PolarisStoriesComponent.react","PolarisStoryActions","bs_js_math","polarisIsUserLoggedIn","polarisUserSelectors","promiseDone","react","shouldDisplayLoggedOutHighlights"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b;a=a.props;var e=a.routeParams.highlight_reel_id;a=a.routeProps;var f=a.latest_reel_updated,g=a.show_qr_modal,k=a.user,l=d("PolarisReactRedux").useDispatch();a=j(!1);var m=a[0],n=a[1];a=d("polarisIsUserLoggedIn").isUserLoggedIn();b=(b=d("polarisUserSelectors").useUser(k.id))==null?void 0:(b=b.counts)==null?void 0:b.followedBy;var o=f!=null&&d("bs_js_math").floor((d("DateConsts").getCurrentTimeInSeconds()-f)/d("DateConsts").SEC_PER_DAY)>d("PolarisLoggedOutLoginConstants").DAYS_HIGHLIGHT_STORIES_ACTIVE&&c("shouldDisplayLoggedOutHighlights")(b);if(!a&&e!=null&&!o){f=d("PolarisLinkBuilder").buildHighlightStoryLink(e);l(d("PolarisStoryActions").initStoryAuth(f))}i(function(){m||c("promiseDone")(l(d("PolarisStoryActions").initStoryPage({highlightReelId:e,isLoggedOutHighlightViewer:o,owner:k})).then(function(){n(!0)}))},[l,e,m,o,k]);return h.jsx(c("PolarisStoriesComponent.react"),{initializing:m===!1,isLoggedOutHighlightViewer:o,showQRModal:g,username:k.username,viewerIsLoggedIn:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);